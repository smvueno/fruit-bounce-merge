const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-C_IYvZjV.js","assets/webworkerAll-IqDcFuEa.js","assets/colorToUniform-C2GHuDhf.js","assets/CanvasPool-BIlncN8h.js","assets/WebGPURenderer-DVzRNgIA.js","assets/SharedSystems-CclY5zbN.js","assets/WebGLRenderer-BtttYEhj.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(u){if(u.ep)return;u.ep=!0;const o=s(u);fetch(u.href,o)}})();function Xa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fo={exports:{}},Ta={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function h1(){if(nm)return Ta;nm=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,u,o){var h=null;if(o!==void 0&&(h=""+o),u.key!==void 0&&(h=""+u.key),"key"in u){o={};for(var d in u)d!=="key"&&(o[d]=u[d])}else o=u;return u=o.ref,{$$typeof:r,type:a,key:h,ref:u!==void 0?u:null,props:o}}return Ta.Fragment=e,Ta.jsx=s,Ta.jsxs=s,Ta}var sm;function f1(){return sm||(sm=1,Fo.exports=h1()),Fo.exports}var N=f1(),Qo={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function d1(){if(am)return ft;am=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=A&&S[A]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,M={};function B(S,C,G){this.props=S,this.context=C,this.refs=M,this.updater=G||E}B.prototype.isReactComponent={},B.prototype.setState=function(S,C){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,C,"setState")},B.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=B.prototype;function Y(S,C,G){this.props=S,this.context=C,this.refs=M,this.updater=G||E}var $=Y.prototype=new U;$.constructor=Y,z($,B.prototype),$.isPureReactComponent=!0;var J=Array.isArray;function P(){}var X={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function ht(S,C,G){var Q=G.ref;return{$$typeof:r,type:S,key:C,ref:Q!==void 0?Q:null,props:G}}function it(S,C){return ht(S.type,C,S.props)}function et(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function mt(S){var C={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(G){return C[G]})}var xt=/\/+/g;function zt(S,C){return typeof S=="object"&&S!==null&&S.key!=null?mt(""+S.key):C.toString(36)}function Pt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(P,P):(S.status="pending",S.then(function(C){S.status==="pending"&&(S.status="fulfilled",S.value=C)},function(C){S.status==="pending"&&(S.status="rejected",S.reason=C)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function b(S,C,G,Q,W){var nt=typeof S;(nt==="undefined"||nt==="boolean")&&(S=null);var rt=!1;if(S===null)rt=!0;else switch(nt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(S.$$typeof){case r:case e:rt=!0;break;case g:return rt=S._init,b(rt(S._payload),C,G,Q,W)}}if(rt)return W=W(S),rt=Q===""?"."+zt(S,0):Q,J(W)?(G="",rt!=null&&(G=rt.replace(xt,"$&/")+"/"),b(W,C,G,"",function(bt){return bt})):W!=null&&(et(W)&&(W=it(W,G+(W.key==null||S&&S.key===W.key?"":(""+W.key).replace(xt,"$&/")+"/")+rt)),C.push(W)),1;rt=0;var ct=Q===""?".":Q+":";if(J(S))for(var dt=0;dt<S.length;dt++)Q=S[dt],nt=ct+zt(Q,dt),rt+=b(Q,C,G,nt,W);else if(dt=v(S),typeof dt=="function")for(S=dt.call(S),dt=0;!(Q=S.next()).done;)Q=Q.value,nt=ct+zt(Q,dt++),rt+=b(Q,C,G,nt,W);else if(nt==="object"){if(typeof S.then=="function")return b(Pt(S),C,G,Q,W);throw C=String(S),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return rt}function T(S,C,G){if(S==null)return S;var Q=[],W=0;return b(S,Q,"","",function(nt){return C.call(G,nt,W++)}),Q}function w(S){if(S._status===-1){var C=S._result;C=C(),C.then(function(G){(S._status===0||S._status===-1)&&(S._status=1,S._result=G)},function(G){(S._status===0||S._status===-1)&&(S._status=2,S._result=G)}),S._status===-1&&(S._status=0,S._result=C)}if(S._status===1)return S._result.default;throw S._result}var j=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},L={map:T,forEach:function(S,C,G){T(S,function(){C.apply(this,arguments)},G)},count:function(S){var C=0;return T(S,function(){C++}),C},toArray:function(S){return T(S,function(C){return C})||[]},only:function(S){if(!et(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ft.Activity=x,ft.Children=L,ft.Component=B,ft.Fragment=s,ft.Profiler=u,ft.PureComponent=Y,ft.StrictMode=a,ft.Suspense=m,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ft.__COMPILER_RUNTIME={__proto__:null,c:function(S){return X.H.useMemoCache(S)}},ft.cache=function(S){return function(){return S.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(S,C,G){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Q=z({},S.props),W=S.key;if(C!=null)for(nt in C.key!==void 0&&(W=""+C.key),C)!at.call(C,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&C.ref===void 0||(Q[nt]=C[nt]);var nt=arguments.length-2;if(nt===1)Q.children=G;else if(1<nt){for(var rt=Array(nt),ct=0;ct<nt;ct++)rt[ct]=arguments[ct+2];Q.children=rt}return ht(S.type,W,Q)},ft.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ft.createElement=function(S,C,G){var Q,W={},nt=null;if(C!=null)for(Q in C.key!==void 0&&(nt=""+C.key),C)at.call(C,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=C[Q]);var rt=arguments.length-2;if(rt===1)W.children=G;else if(1<rt){for(var ct=Array(rt),dt=0;dt<rt;dt++)ct[dt]=arguments[dt+2];W.children=ct}if(S&&S.defaultProps)for(Q in rt=S.defaultProps,rt)W[Q]===void 0&&(W[Q]=rt[Q]);return ht(S,nt,W)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(S){return{$$typeof:d,render:S}},ft.isValidElement=et,ft.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:w}},ft.memo=function(S,C){return{$$typeof:y,type:S,compare:C===void 0?null:C}},ft.startTransition=function(S){var C=X.T,G={};X.T=G;try{var Q=S(),W=X.S;W!==null&&W(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(P,j)}catch(nt){j(nt)}finally{C!==null&&G.types!==null&&(C.types=G.types),X.T=C}},ft.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ft.use=function(S){return X.H.use(S)},ft.useActionState=function(S,C,G){return X.H.useActionState(S,C,G)},ft.useCallback=function(S,C){return X.H.useCallback(S,C)},ft.useContext=function(S){return X.H.useContext(S)},ft.useDebugValue=function(){},ft.useDeferredValue=function(S,C){return X.H.useDeferredValue(S,C)},ft.useEffect=function(S,C){return X.H.useEffect(S,C)},ft.useEffectEvent=function(S){return X.H.useEffectEvent(S)},ft.useId=function(){return X.H.useId()},ft.useImperativeHandle=function(S,C,G){return X.H.useImperativeHandle(S,C,G)},ft.useInsertionEffect=function(S,C){return X.H.useInsertionEffect(S,C)},ft.useLayoutEffect=function(S,C){return X.H.useLayoutEffect(S,C)},ft.useMemo=function(S,C){return X.H.useMemo(S,C)},ft.useOptimistic=function(S,C){return X.H.useOptimistic(S,C)},ft.useReducer=function(S,C,G){return X.H.useReducer(S,C,G)},ft.useRef=function(S){return X.H.useRef(S)},ft.useState=function(S){return X.H.useState(S)},ft.useSyncExternalStore=function(S,C,G){return X.H.useSyncExternalStore(S,C,G)},ft.useTransition=function(){return X.H.useTransition()},ft.version="19.2.3",ft}var lm;function Pc(){return lm||(lm=1,Qo.exports=d1()),Qo.exports}var Nt=Pc();const m1=Xa(Nt);var Zo={exports:{}},Ma={},$o={exports:{}},Ko={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function y1(){return rm||(rm=1,(function(r){function e(b,T){var w=b.length;b.push(T);t:for(;0<w;){var j=w-1>>>1,L=b[j];if(0<u(L,T))b[j]=T,b[w]=L,w=j;else break t}}function s(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var T=b[0],w=b.pop();if(w!==T){b[0]=w;t:for(var j=0,L=b.length,S=L>>>1;j<S;){var C=2*(j+1)-1,G=b[C],Q=C+1,W=b[Q];if(0>u(G,w))Q<L&&0>u(W,G)?(b[j]=W,b[Q]=w,j=Q):(b[j]=G,b[C]=w,j=C);else if(Q<L&&0>u(W,w))b[j]=W,b[Q]=w,j=Q;else break t}}return T}function u(b,T){var w=b.sortIndex-T.sortIndex;return w!==0?w:b.id-T.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var m=[],y=[],g=1,x=null,A=3,v=!1,E=!1,z=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function $(b){for(var T=s(y);T!==null;){if(T.callback===null)a(y);else if(T.startTime<=b)a(y),T.sortIndex=T.expirationTime,e(m,T);else break;T=s(y)}}function J(b){if(z=!1,$(b),!E)if(s(m)!==null)E=!0,P||(P=!0,mt());else{var T=s(y);T!==null&&Pt(J,T.startTime-b)}}var P=!1,X=-1,at=5,ht=-1;function it(){return M?!0:!(r.unstable_now()-ht<at)}function et(){if(M=!1,P){var b=r.unstable_now();ht=b;var T=!0;try{t:{E=!1,z&&(z=!1,U(X),X=-1),v=!0;var w=A;try{e:{for($(b),x=s(m);x!==null&&!(x.expirationTime>b&&it());){var j=x.callback;if(typeof j=="function"){x.callback=null,A=x.priorityLevel;var L=j(x.expirationTime<=b);if(b=r.unstable_now(),typeof L=="function"){x.callback=L,$(b),T=!0;break e}x===s(m)&&a(m),$(b)}else a(m);x=s(m)}if(x!==null)T=!0;else{var S=s(y);S!==null&&Pt(J,S.startTime-b),T=!1}}break t}finally{x=null,A=w,v=!1}T=void 0}}finally{T?mt():P=!1}}}var mt;if(typeof Y=="function")mt=function(){Y(et)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,zt=xt.port2;xt.port1.onmessage=et,mt=function(){zt.postMessage(null)}}else mt=function(){B(et,0)};function Pt(b,T){X=B(function(){b(r.unstable_now())},T)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(b){b.callback=null},r.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<b?Math.floor(1e3/b):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(b){switch(A){case 1:case 2:case 3:var T=3;break;default:T=A}var w=A;A=T;try{return b()}finally{A=w}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var w=A;A=b;try{return T()}finally{A=w}},r.unstable_scheduleCallback=function(b,T,w){var j=r.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?j+w:j):w=j,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=w+L,b={id:g++,callback:T,priorityLevel:b,startTime:w,expirationTime:L,sortIndex:-1},w>j?(b.sortIndex=w,e(y,b),s(m)===null&&b===s(y)&&(z?(U(X),X=-1):z=!0,Pt(J,w-j))):(b.sortIndex=L,e(m,b),E||v||(E=!0,P||(P=!0,mt()))),b},r.unstable_shouldYield=it,r.unstable_wrapCallback=function(b){var T=A;return function(){var w=A;A=T;try{return b.apply(this,arguments)}finally{A=w}}}})(Ko)),Ko}var um;function g1(){return um||(um=1,$o.exports=y1()),$o.exports}var Io={exports:{}},xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function p1(){if(om)return xe;om=1;var r=Pc();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(m,y,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:m,containerInfo:y,implementation:g}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xe.createPortal=function(m,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return o(m,y,null,g)},xe.flushSync=function(m){var y=h.T,g=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=y,a.p=g,a.d.f()}},xe.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},xe.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},xe.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var g=y.as,x=d(g,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,v=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:v}):g==="script"&&a.d.X(m,{crossOrigin:x,integrity:A,fetchPriority:v,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xe.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=d(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},xe.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,x=d(g,y.crossOrigin);a.d.L(m,g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xe.preloadModule=function(m,y){if(typeof m=="string")if(y){var g=d(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},xe.requestFormReset=function(m){a.d.r(m)},xe.unstable_batchedUpdates=function(m,y){return m(y)},xe.useFormState=function(m,y,g){return h.H.useFormState(m,y,g)},xe.useFormStatus=function(){return h.H.useHostTransitionStatus()},xe.version="19.2.3",xe}var cm;function x1(){if(cm)return Io.exports;cm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Io.exports=p1(),Io.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function b1(){if(hm)return Ma;hm=1;var r=g1(),e=Pc(),s=x1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var i=t,n=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(n=i.return),t=i.return;while(t)}return i.tag===3?n:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(o(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=o(t),i===null)throw Error(a(188));return i!==t?null:t}for(var n=t,l=i;;){var c=n.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===n)return m(c),t;if(f===l)return m(c),i;f=f.sibling}throw Error(a(188))}if(n.return!==l.return)n=c,l=f;else{for(var p=!1,_=c.child;_;){if(_===n){p=!0,n=c,l=f;break}if(_===l){p=!0,l=c,n=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===n){p=!0,n=f,l=c;break}if(_===l){p=!0,l=f,n=c;break}_=_.sibling}if(!p)throw Error(a(189))}}if(n.alternate!==l)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function mt(t){return t===null||typeof t!="object"?null:(t=et&&t[et]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case P:return"SuspenseList";case ht:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case Y:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return i=t.displayName||null,i!==null?i:zt(t.type)||"Memo";case at:i=t._payload,t=t._init;try{return zt(t(i))}catch{}}return null}var Pt=Array.isArray,b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w={pending:!1,data:null,method:null,action:null},j=[],L=-1;function S(t){return{current:t}}function C(t){0>L||(t.current=j[L],j[L]=null,L--)}function G(t,i){L++,j[L]=t.current,t.current=i}var Q=S(null),W=S(null),nt=S(null),rt=S(null);function ct(t,i){switch(G(nt,i),G(W,t),G(Q,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?E0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=E0(i),t=C0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}C(Q),G(Q,t)}function dt(){C(Q),C(W),C(nt)}function bt(t){t.memoizedState!==null&&G(rt,t);var i=Q.current,n=C0(i,t.type);i!==n&&(G(W,t),G(Q,n))}function Se(t){W.current===t&&(C(Q),C(W)),rt.current===t&&(C(rt),va._currentValue=w)}var he,Ne;function le(t){if(he===void 0)try{throw Error()}catch(n){var i=n.stack.trim().match(/\n( *(at )?)/);he=i&&i[1]||"",Ne=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+t+Ne}var yt=!1;function St(t,i){if(!t||yt)return"";yt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var q=V}Reflect.construct(t,[],K)}else{try{K.call()}catch(V){q=V}t.call(K.prototype)}}else{try{throw Error()}catch(V){q=V}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var R=p.split(`
`),H=_.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===H.length)for(l=R.length-1,c=H.length-1;1<=l&&0<=c&&R[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==H[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{yt=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?le(n):""}function Va(t,i){switch(t.tag){case 26:case 27:case 5:return le(t.type);case 16:return le("Lazy");case 13:return t.child!==i&&i!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return St(t.type,!1);case 11:return St(t.type.render,!1);case 1:return St(t.type,!0);case 31:return le("Activity");default:return""}}function Pa(t){try{var i="",n=null;do i+=Va(t,n),n=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fa=Object.prototype.hasOwnProperty,Nr=r.unstable_scheduleCallback,Or=r.unstable_cancelCallback,Xg=r.unstable_shouldYield,Vg=r.unstable_requestPaint,Oe=r.unstable_now,Pg=r.unstable_getCurrentPriorityLevel,nh=r.unstable_ImmediatePriority,sh=r.unstable_UserBlockingPriority,Qa=r.unstable_NormalPriority,Fg=r.unstable_LowPriority,ah=r.unstable_IdlePriority,Qg=r.log,Zg=r.unstable_setDisableYieldValue,Os=null,De=null;function Li(t){if(typeof Qg=="function"&&Zg(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Os,t)}catch{}}var Be=Math.clz32?Math.clz32:Ig,$g=Math.log,Kg=Math.LN2;function Ig(t){return t>>>=0,t===0?32:31-($g(t)/Kg|0)|0}var Za=256,$a=262144,Ka=4194304;function pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ia(t,i,n){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=pn(l):(p&=_,p!==0?c=pn(p):n||(n=_&~t,n!==0&&(c=pn(n))))):(_=l&~f,_!==0?c=pn(_):p!==0?c=pn(p):n||(n=l&~t,n!==0&&(c=pn(n)))),c===0?0:i!==0&&i!==c&&(i&f)===0&&(f=c&-c,n=i&-i,f>=n||f===32&&(n&4194048)!==0)?i:c}function Ds(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Jg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(){var t=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),t}function Dr(t){for(var i=[],n=0;31>n;n++)i.push(t);return i}function Bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wg(t,i,n,l,c,f){var p=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var _=t.entanglements,R=t.expirationTimes,H=t.hiddenUpdates;for(n=p&~n;0<n;){var F=31-Be(n),K=1<<F;_[F]=0,R[F]=-1;var q=H[F];if(q!==null)for(H[F]=null,F=0;F<q.length;F++){var V=q[F];V!==null&&(V.lane&=-536870913)}n&=~K}l!==0&&rh(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~i))}function rh(t,i,n){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Be(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|n&261930}function uh(t,i){var n=t.entangledLanes|=i;for(t=t.entanglements;n;){var l=31-Be(n),c=1<<l;c&i|t[l]&i&&(t[l]|=i),n&=~c}}function oh(t,i){var n=i&-i;return n=(n&42)!==0?1:Br(n),(n&(t.suspendedLanes|i))!==0?0:n}function Br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ch(){var t=T.p;return t!==0?t:(t=window.event,t===void 0?32:K0(t.type))}function hh(t,i){var n=T.p;try{return T.p=t,i()}finally{T.p=n}}var Xi=Math.random().toString(36).slice(2),fe="__reactFiber$"+Xi,Ae="__reactProps$"+Xi,Yn="__reactContainer$"+Xi,Ur="__reactEvents$"+Xi,tp="__reactListeners$"+Xi,ep="__reactHandles$"+Xi,fh="__reactResources$"+Xi,Gs="__reactMarker$"+Xi;function jr(t){delete t[fe],delete t[Ae],delete t[Ur],delete t[tp],delete t[ep]}function qn(t){var i=t[fe];if(i)return i;for(var n=t.parentNode;n;){if(i=n[Yn]||n[fe]){if(n=i.alternate,i.child!==null||n!==null&&n.child!==null)for(t=B0(t);t!==null;){if(n=t[fe])return n;t=B0(t)}return i}t=n,n=t.parentNode}return null}function Ln(t){if(t=t[fe]||t[Yn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Us(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Xn(t){var i=t[fh];return i||(i=t[fh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(t){t[Gs]=!0}var dh=new Set,mh={};function xn(t,i){Vn(t,i),Vn(t+"Capture",i)}function Vn(t,i){for(mh[t]=i,t=0;t<i.length;t++)dh.add(i[t])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yh={},gh={};function np(t){return Fa.call(gh,t)?!0:Fa.call(yh,t)?!1:ip.test(t)?gh[t]=!0:(yh[t]=!0,!1)}function Ja(t,i,n){if(np(i))if(n===null)t.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+n)}}function Wa(t,i,n){if(n===null)t.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+n)}}function vi(t,i,n,l){if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(i,n,""+l)}}function Pe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ph(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sp(t,i,n){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,f.call(this,p)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function kr(t){if(!t._valueTracker){var i=ph(t)?"checked":"value";t._valueTracker=sp(t,i,""+t[i])}}function xh(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var n=i.getValue(),l="";return t&&(l=ph(t)?t.checked?"true":"false":t.value),t=l,t!==n?(i.setValue(t),!0):!1}function tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ap=/[\n"\\]/g;function Fe(t){return t.replace(ap,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hr(t,i,n,l,c,f,p,_){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),i!=null?p==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pe(i)):t.value!==""+Pe(i)&&(t.value=""+Pe(i)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),i!=null?Yr(t,p,Pe(i)):n!=null?Yr(t,p,Pe(n)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Pe(_):t.removeAttribute("name")}function bh(t,i,n,l,c,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){kr(t);return}n=n!=null?""+Pe(n):"",i=i!=null?""+Pe(i):n,_||i===t.value||(t.value=i),t.defaultValue=i}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),kr(t)}function Yr(t,i,n){i==="number"&&tl(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pn(t,i,n,l){if(t=t.options,i){i={};for(var c=0;c<n.length;c++)i["$"+n[c]]=!0;for(n=0;n<t.length;n++)c=i.hasOwnProperty("$"+t[n].value),t[n].selected!==c&&(t[n].selected=c),c&&l&&(t[n].defaultSelected=!0)}else{for(n=""+Pe(n),i=null,c=0;c<t.length;c++){if(t[c].value===n){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function vh(t,i,n){if(i!=null&&(i=""+Pe(i),i!==t.value&&(t.value=i),n==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=n!=null?""+Pe(n):""}function _h(t,i,n,l){if(i==null){if(l!=null){if(n!=null)throw Error(a(92));if(Pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}n=l}n==null&&(n=""),i=n}n=Pe(i),t.defaultValue=n,l=t.textContent,l===n&&l!==""&&l!==null&&(t.value=l),kr(t)}function Fn(t,i){if(i){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=i;return}}t.textContent=i}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sh(t,i,n){var l=i.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,n):typeof n!="number"||n===0||lp.has(i)?i==="float"?t.cssFloat=n:t[i]=(""+n).trim():t[i]=n+"px"}function Ah(t,i,n){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in i)l=i[c],i.hasOwnProperty(c)&&n[c]!==l&&Sh(t,c,l)}else for(var f in i)i.hasOwnProperty(f)&&Sh(t,f,i[f])}function qr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(t){return up.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var Lr=null;function Xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qn=null,Zn=null;function Th(t){var i=Ln(t);if(i&&(t=i.stateNode)){var n=t[Ae]||null;t:switch(t=i.stateNode,i.type){case"input":if(Hr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),i=n.name,n.type==="radio"&&i!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fe(""+i)+'"][type="radio"]'),i=0;i<n.length;i++){var l=n[i];if(l!==t&&l.form===t.form){var c=l[Ae]||null;if(!c)throw Error(a(90));Hr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<n.length;i++)l=n[i],l.form===t.form&&xh(l)}break t;case"textarea":vh(t,n.value,n.defaultValue);break t;case"select":i=n.value,i!=null&&Pn(t,!!n.multiple,i,!1)}}}var Vr=!1;function Mh(t,i,n){if(Vr)return t(i,n);Vr=!0;try{var l=t(i);return l}finally{if(Vr=!1,(Qn!==null||Zn!==null)&&(Ll(),Qn&&(i=Qn,t=Zn,Zn=Qn=null,Th(i),t)))for(i=0;i<t.length;i++)Th(t[i])}}function js(t,i){var n=t.stateNode;if(n===null)return null;var l=n[Ae]||null;if(l===null)return null;n=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(a(231,i,typeof n));return n}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Si)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Pr=!1}var Vi=null,Fr=null,il=null;function Eh(){if(il)return il;var t,i=Fr,n=i.length,l,c="value"in Vi?Vi.value:Vi.textContent,f=c.length;for(t=0;t<n&&i[t]===c[t];t++);var p=n-t;for(l=1;l<=p&&i[n-l]===c[f-l];l++);return il=c.slice(t,1<l?1-l:void 0)}function nl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function sl(){return!0}function Ch(){return!1}function Te(t){function i(n,l,c,f,p){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(n=t[_],this[_]=n?n(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sl:Ch,this.isPropagationStopped=Ch,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),i}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Te(bn),Hs=x({},bn,{view:0,detail:0}),op=Te(Hs),Qr,Zr,Ys,ll=x({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ys&&(Ys&&t.type==="mousemove"?(Qr=t.screenX-Ys.screenX,Zr=t.screenY-Ys.screenY):Zr=Qr=0,Ys=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),wh=Te(ll),cp=x({},ll,{dataTransfer:0}),hp=Te(cp),fp=x({},Hs,{relatedTarget:0}),$r=Te(fp),dp=x({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=Te(dp),yp=x({},bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gp=Te(yp),pp=x({},bn,{data:0}),Rh=Te(pp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _p(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vp[t])?!!i[t]:!1}function Kr(){return _p}var Sp=x({},Hs,{key:function(t){if(t.key){var i=xp[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ap=Te(Sp),Tp=x({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Te(Tp),Mp=x({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Ep=Te(Mp),Cp=x({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=Te(Cp),Rp=x({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=Te(Rp),Np=x({},bn,{newState:0,oldState:0}),Op=Te(Np),Dp=[9,13,27,32],Ir=Si&&"CompositionEvent"in window,qs=null;Si&&"documentMode"in document&&(qs=document.documentMode);var Bp=Si&&"TextEvent"in window&&!qs,Nh=Si&&(!Ir||qs&&8<qs&&11>=qs),Oh=" ",Dh=!1;function Bh(t,i){switch(t){case"keyup":return Dp.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Gp(t,i){switch(t){case"compositionend":return Gh(i);case"keypress":return i.which!==32?null:(Dh=!0,Oh);case"textInput":return t=i.data,t===Oh&&Dh?null:t;default:return null}}function Up(t,i){if($n)return t==="compositionend"||!Ir&&Bh(t,i)?(t=Eh(),il=Fr=Vi=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nh&&i.locale!=="ko"?null:i.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jp[t.type]:i==="textarea"}function jh(t,i,n,l){Qn?Zn?Zn.push(l):Zn=[l]:Qn=l,i=$l(i,"onChange"),0<i.length&&(n=new al("onChange","change",null,n,l),t.push({event:n,listeners:i}))}var Ls=null,Xs=null;function kp(t){v0(t,0)}function rl(t){var i=Us(t);if(xh(i))return t}function kh(t,i){if(t==="change")return i}var Hh=!1;if(Si){var Jr;if(Si){var Wr="oninput"in document;if(!Wr){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),Wr=typeof Yh.oninput=="function"}Jr=Wr}else Jr=!1;Hh=Jr&&(!document.documentMode||9<document.documentMode)}function qh(){Ls&&(Ls.detachEvent("onpropertychange",Lh),Xs=Ls=null)}function Lh(t){if(t.propertyName==="value"&&rl(Xs)){var i=[];jh(i,Xs,t,Xr(t)),Mh(kp,i)}}function Hp(t,i,n){t==="focusin"?(qh(),Ls=i,Xs=n,Ls.attachEvent("onpropertychange",Lh)):t==="focusout"&&qh()}function Yp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Xs)}function qp(t,i){if(t==="click")return rl(i)}function Lp(t,i){if(t==="input"||t==="change")return rl(i)}function Xp(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ge=typeof Object.is=="function"?Object.is:Xp;function Vs(t,i){if(Ge(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var n=Object.keys(t),l=Object.keys(i);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!Fa.call(i,c)||!Ge(t[c],i[c]))return!1}return!0}function Xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vh(t,i){var n=Xh(t);t=0;for(var l;n;){if(n.nodeType===3){if(l=t+n.textContent.length,t<=i&&l>=i)return{node:n,offset:i-t};t=l}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Xh(n)}}function Ph(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ph(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=tl(t.document);i instanceof t.HTMLIFrameElement;){try{var n=typeof i.contentWindow.location.href=="string"}catch{n=!1}if(n)t=i.contentWindow;else break;i=tl(t.document)}return i}function tu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Vp=Si&&"documentMode"in document&&11>=document.documentMode,Kn=null,eu=null,Ps=null,iu=!1;function Qh(t,i,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Kn==null||Kn!==tl(l)||(l=Kn,"selectionStart"in l&&tu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ps&&Vs(Ps,l)||(Ps=l,l=$l(eu,"onSelect"),0<l.length&&(i=new al("onSelect","select",null,i,n),t.push({event:i,listeners:l}),i.target=Kn)))}function vn(t,i){var n={};return n[t.toLowerCase()]=i.toLowerCase(),n["Webkit"+t]="webkit"+i,n["Moz"+t]="moz"+i,n}var In={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},nu={},Zh={};Si&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function _n(t){if(nu[t])return nu[t];if(!In[t])return t;var i=In[t],n;for(n in i)if(i.hasOwnProperty(n)&&n in Zh)return nu[t]=i[n];return t}var $h=_n("animationend"),Kh=_n("animationiteration"),Ih=_n("animationstart"),Pp=_n("transitionrun"),Fp=_n("transitionstart"),Qp=_n("transitioncancel"),Jh=_n("transitionend"),Wh=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function ni(t,i){Wh.set(t,i),xn(i,[t])}var ul=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qe=[],Jn=0,au=0;function ol(){for(var t=Jn,i=au=Jn=0;i<t;){var n=Qe[i];Qe[i++]=null;var l=Qe[i];Qe[i++]=null;var c=Qe[i];Qe[i++]=null;var f=Qe[i];if(Qe[i++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&tf(n,c,f)}}function cl(t,i,n,l){Qe[Jn++]=t,Qe[Jn++]=i,Qe[Jn++]=n,Qe[Jn++]=l,au|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lu(t,i,n,l){return cl(t,i,n,l),hl(t)}function Sn(t,i){return cl(t,null,null,i),hl(t)}function tf(t,i,n){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n);for(var c=!1,f=t.return;f!==null;)f.childLanes|=n,l=f.alternate,l!==null&&(l.childLanes|=n),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&i!==null&&(c=31-Be(n),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[i]:l.push(i),i.lane=n|536870912),f):null}function hl(t){if(50<da)throw da=0,go=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Wn={};function Zp(t,i,n,l){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,i,n,l){return new Zp(t,i,n,l)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,i){var n=t.alternate;return n===null?(n=Ue(t.tag,i,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=i,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,i=t.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ef(t,i){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,i=n.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fl(t,i,n,l,c,f){var p=0;if(l=t,typeof t=="function")ru(t)&&(p=1);else if(typeof t=="string")p=Wx(t,n,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ht:return t=Ue(31,n,i,c),t.elementType=ht,t.lanes=f,t;case z:return An(n.children,c,f,i);case M:p=8,c|=24;break;case B:return t=Ue(12,n,i,c|2),t.elementType=B,t.lanes=f,t;case J:return t=Ue(13,n,i,c),t.elementType=J,t.lanes=f,t;case P:return t=Ue(19,n,i,c),t.elementType=P,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:p=10;break t;case U:p=9;break t;case $:p=11;break t;case X:p=14;break t;case at:p=16,l=null;break t}p=29,n=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Ue(p,n,i,c),i.elementType=t,i.type=l,i.lanes=f,i}function An(t,i,n,l){return t=Ue(7,t,l,i),t.lanes=n,t}function uu(t,i,n){return t=Ue(6,t,null,i),t.lanes=n,t}function nf(t){var i=Ue(18,null,null,0);return i.stateNode=t,i}function ou(t,i,n){return i=Ue(4,t.children!==null?t.children:[],t.key,i),i.lanes=n,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var sf=new WeakMap;function Ze(t,i){if(typeof t=="object"&&t!==null){var n=sf.get(t);return n!==void 0?n:(i={value:t,source:i,stack:Pa(i)},sf.set(t,i),i)}return{value:t,source:i,stack:Pa(i)}}var ts=[],es=0,dl=null,Fs=0,$e=[],Ke=0,Pi=null,ri=1,ui="";function Ti(t,i){ts[es++]=Fs,ts[es++]=dl,dl=t,Fs=i}function af(t,i,n){$e[Ke++]=ri,$e[Ke++]=ui,$e[Ke++]=Pi,Pi=t;var l=ri;t=ui;var c=32-Be(l)-1;l&=~(1<<c),n+=1;var f=32-Be(i)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,ri=1<<32-Be(i)+c|n<<c|l,ui=f+t}else ri=1<<f|n<<c|l,ui=t}function cu(t){t.return!==null&&(Ti(t,1),af(t,1,0))}function hu(t){for(;t===dl;)dl=ts[--es],ts[es]=null,Fs=ts[--es],ts[es]=null;for(;t===Pi;)Pi=$e[--Ke],$e[Ke]=null,ui=$e[--Ke],$e[Ke]=null,ri=$e[--Ke],$e[Ke]=null}function lf(t,i){$e[Ke++]=ri,$e[Ke++]=ui,$e[Ke++]=Pi,ri=i.id,ui=i.overflow,Pi=t}var de=null,qt=null,Mt=!1,Fi=null,Ie=!1,fu=Error(a(519));function Qi(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(Ze(i,t)),fu}function rf(t){var i=t.stateNode,n=t.type,l=t.memoizedProps;switch(i[fe]=t,i[Ae]=l,n){case"dialog":_t("cancel",i),_t("close",i);break;case"iframe":case"object":case"embed":_t("load",i);break;case"video":case"audio":for(n=0;n<ya.length;n++)_t(ya[n],i);break;case"source":_t("error",i);break;case"img":case"image":case"link":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"input":_t("invalid",i),bh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_t("invalid",i);break;case"textarea":_t("invalid",i),_h(i,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||i.textContent===""+n||l.suppressHydrationWarning===!0||T0(i.textContent,n)?(l.popover!=null&&(_t("beforetoggle",i),_t("toggle",i)),l.onScroll!=null&&_t("scroll",i),l.onScrollEnd!=null&&_t("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Qi(t,!0)}function uf(t){for(de=t.return;de;)switch(de.tag){case 5:case 31:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:de=de.return}}function is(t){if(t!==de)return!1;if(!Mt)return uf(t),Mt=!0,!1;var i=t.tag,n;if((n=i!==3&&i!==27)&&((n=i===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||No(t.type,t.memoizedProps)),n=!n),n&&qt&&Qi(t),uf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qt=D0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qt=D0(t)}else i===27?(i=qt,un(t.type)?(t=Uo,Uo=null,qt=t):qt=i):qt=de?We(t.stateNode.nextSibling):null;return!0}function Tn(){qt=de=null,Mt=!1}function du(){var t=Fi;return t!==null&&(we===null?we=t:we.push.apply(we,t),Fi=null),t}function Qs(t){Fi===null?Fi=[t]:Fi.push(t)}var mu=S(null),Mn=null,Mi=null;function Zi(t,i,n){G(mu,i._currentValue),i._currentValue=n}function Ei(t){t._currentValue=mu.current,C(mu)}function yu(t,i,n){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===n)break;t=t.return}}function gu(t,i,n,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var _=f;f=c;for(var R=0;R<i.length;R++)if(_.context===i[R]){f.lanes|=n,_=f.alternate,_!==null&&(_.lanes|=n),yu(f.return,n,t),l||(p=null);break t}f=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=n,f=p.alternate,f!==null&&(f.lanes|=n),yu(p,n,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ns(t,i,n,l){t=null;for(var c=i,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var _=c.type;Ge(c.pendingProps.value,p.value)||(t!==null?t.push(_):t=[_])}}else if(c===rt.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(va):t=[va])}c=c.return}t!==null&&gu(i,t,n,l),i.flags|=262144}function ml(t){for(t=t.firstContext;t!==null;){if(!Ge(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function En(t){Mn=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function me(t){return of(Mn,t)}function yl(t,i){return Mn===null&&En(t),of(t,i)}function of(t,i){var n=i._currentValue;if(i={context:i,memoizedValue:n,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return n}var $p=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(n,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(n){return n()})}},Kp=r.unstable_scheduleCallback,Ip=r.unstable_NormalPriority,Wt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new $p,data:new Map,refCount:0}}function Zs(t){t.refCount--,t.refCount===0&&Kp(Ip,function(){t.controller.abort()})}var $s=null,xu=0,ss=0,as=null;function Jp(t,i){if($s===null){var n=$s=[];xu=0,ss=So(),as={status:"pending",value:void 0,then:function(l){n.push(l)}}}return xu++,i.then(cf,cf),i}function cf(){if(--xu===0&&$s!==null){as!==null&&(as.status="fulfilled");var t=$s;$s=null,ss=0,as=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Wp(t,i){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var c=0;c<n.length;c++)(0,n[c])(i)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var hf=b.S;b.S=function(t,i){Zd=Oe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jp(t,i),hf!==null&&hf(t,i)};var Cn=S(null);function bu(){var t=Cn.current;return t!==null?t:Ht.pooledCache}function gl(t,i){i===null?G(Cn,Cn.current):G(Cn,i.pool)}function ff(){var t=bu();return t===null?null:{parent:Wt._currentValue,pool:t}}var ls=Error(a(460)),vu=Error(a(474)),pl=Error(a(542)),xl={then:function(){}};function df(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mf(t,i,n){switch(n=t[n],n===void 0?t.push(i):n!==i&&(i.then(_i,_i),i=n),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gf(t),t;default:if(typeof i.status=="string")i.then(_i,_i);else{if(t=Ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=l}},function(l){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gf(t),t}throw Rn=i,ls}}function wn(t){try{var i=t._init;return i(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Rn=n,ls):n}}var Rn=null;function yf(){if(Rn===null)throw Error(a(459));var t=Rn;return Rn=null,t}function gf(t){if(t===ls||t===pl)throw Error(a(483))}var rs=null,Ks=0;function bl(t){var i=Ks;return Ks+=1,rs===null&&(rs=[]),mf(rs,t,i)}function Is(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vl(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function pf(t){function i(D,O){if(t){var k=D.deletions;k===null?(D.deletions=[O],D.flags|=16):k.push(O)}}function n(D,O){if(!t)return null;for(;O!==null;)i(D,O),O=O.sibling;return null}function l(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function c(D,O){return D=Ai(D,O),D.index=0,D.sibling=null,D}function f(D,O,k){return D.index=k,t?(k=D.alternate,k!==null?(k=k.index,k<O?(D.flags|=67108866,O):k):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function p(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function _(D,O,k,Z){return O===null||O.tag!==6?(O=uu(k,D.mode,Z),O.return=D,O):(O=c(O,k),O.return=D,O)}function R(D,O,k,Z){var ut=k.type;return ut===z?F(D,O,k.props.children,Z,k.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===at&&wn(ut)===O.type)?(O=c(O,k.props),Is(O,k),O.return=D,O):(O=fl(k.type,k.key,k.props,null,D.mode,Z),Is(O,k),O.return=D,O)}function H(D,O,k,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=ou(k,D.mode,Z),O.return=D,O):(O=c(O,k.children||[]),O.return=D,O)}function F(D,O,k,Z,ut){return O===null||O.tag!==7?(O=An(k,D.mode,Z,ut),O.return=D,O):(O=c(O,k),O.return=D,O)}function K(D,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uu(""+O,D.mode,k),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return k=fl(O.type,O.key,O.props,null,D.mode,k),Is(k,O),k.return=D,k;case E:return O=ou(O,D.mode,k),O.return=D,O;case at:return O=wn(O),K(D,O,k)}if(Pt(O)||mt(O))return O=An(O,D.mode,k,null),O.return=D,O;if(typeof O.then=="function")return K(D,bl(O),k);if(O.$$typeof===Y)return K(D,yl(D,O),k);vl(D,O)}return null}function q(D,O,k,Z){var ut=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:_(D,O,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case v:return k.key===ut?R(D,O,k,Z):null;case E:return k.key===ut?H(D,O,k,Z):null;case at:return k=wn(k),q(D,O,k,Z)}if(Pt(k)||mt(k))return ut!==null?null:F(D,O,k,Z,null);if(typeof k.then=="function")return q(D,O,bl(k),Z);if(k.$$typeof===Y)return q(D,O,yl(D,k),Z);vl(D,k)}return null}function V(D,O,k,Z,ut){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return D=D.get(k)||null,_(O,D,""+Z,ut);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return D=D.get(Z.key===null?k:Z.key)||null,R(O,D,Z,ut);case E:return D=D.get(Z.key===null?k:Z.key)||null,H(O,D,Z,ut);case at:return Z=wn(Z),V(D,O,k,Z,ut)}if(Pt(Z)||mt(Z))return D=D.get(k)||null,F(O,D,Z,ut,null);if(typeof Z.then=="function")return V(D,O,k,bl(Z),ut);if(Z.$$typeof===Y)return V(D,O,k,yl(O,Z),ut);vl(O,Z)}return null}function st(D,O,k,Z){for(var ut=null,Ct=null,lt=O,pt=O=0,Tt=null;lt!==null&&pt<k.length;pt++){lt.index>pt?(Tt=lt,lt=null):Tt=lt.sibling;var wt=q(D,lt,k[pt],Z);if(wt===null){lt===null&&(lt=Tt);break}t&&lt&&wt.alternate===null&&i(D,lt),O=f(wt,O,pt),Ct===null?ut=wt:Ct.sibling=wt,Ct=wt,lt=Tt}if(pt===k.length)return n(D,lt),Mt&&Ti(D,pt),ut;if(lt===null){for(;pt<k.length;pt++)lt=K(D,k[pt],Z),lt!==null&&(O=f(lt,O,pt),Ct===null?ut=lt:Ct.sibling=lt,Ct=lt);return Mt&&Ti(D,pt),ut}for(lt=l(lt);pt<k.length;pt++)Tt=V(lt,D,pt,k[pt],Z),Tt!==null&&(t&&Tt.alternate!==null&&lt.delete(Tt.key===null?pt:Tt.key),O=f(Tt,O,pt),Ct===null?ut=Tt:Ct.sibling=Tt,Ct=Tt);return t&&lt.forEach(function(dn){return i(D,dn)}),Mt&&Ti(D,pt),ut}function ot(D,O,k,Z){if(k==null)throw Error(a(151));for(var ut=null,Ct=null,lt=O,pt=O=0,Tt=null,wt=k.next();lt!==null&&!wt.done;pt++,wt=k.next()){lt.index>pt?(Tt=lt,lt=null):Tt=lt.sibling;var dn=q(D,lt,wt.value,Z);if(dn===null){lt===null&&(lt=Tt);break}t&&lt&&dn.alternate===null&&i(D,lt),O=f(dn,O,pt),Ct===null?ut=dn:Ct.sibling=dn,Ct=dn,lt=Tt}if(wt.done)return n(D,lt),Mt&&Ti(D,pt),ut;if(lt===null){for(;!wt.done;pt++,wt=k.next())wt=K(D,wt.value,Z),wt!==null&&(O=f(wt,O,pt),Ct===null?ut=wt:Ct.sibling=wt,Ct=wt);return Mt&&Ti(D,pt),ut}for(lt=l(lt);!wt.done;pt++,wt=k.next())wt=V(lt,D,pt,wt.value,Z),wt!==null&&(t&&wt.alternate!==null&&lt.delete(wt.key===null?pt:wt.key),O=f(wt,O,pt),Ct===null?ut=wt:Ct.sibling=wt,Ct=wt);return t&&lt.forEach(function(c1){return i(D,c1)}),Mt&&Ti(D,pt),ut}function kt(D,O,k,Z){if(typeof k=="object"&&k!==null&&k.type===z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case v:t:{for(var ut=k.key;O!==null;){if(O.key===ut){if(ut=k.type,ut===z){if(O.tag===7){n(D,O.sibling),Z=c(O,k.props.children),Z.return=D,D=Z;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===at&&wn(ut)===O.type){n(D,O.sibling),Z=c(O,k.props),Is(Z,k),Z.return=D,D=Z;break t}n(D,O);break}else i(D,O);O=O.sibling}k.type===z?(Z=An(k.props.children,D.mode,Z,k.key),Z.return=D,D=Z):(Z=fl(k.type,k.key,k.props,null,D.mode,Z),Is(Z,k),Z.return=D,D=Z)}return p(D);case E:t:{for(ut=k.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){n(D,O.sibling),Z=c(O,k.children||[]),Z.return=D,D=Z;break t}else{n(D,O);break}else i(D,O);O=O.sibling}Z=ou(k,D.mode,Z),Z.return=D,D=Z}return p(D);case at:return k=wn(k),kt(D,O,k,Z)}if(Pt(k))return st(D,O,k,Z);if(mt(k)){if(ut=mt(k),typeof ut!="function")throw Error(a(150));return k=ut.call(k),ot(D,O,k,Z)}if(typeof k.then=="function")return kt(D,O,bl(k),Z);if(k.$$typeof===Y)return kt(D,O,yl(D,k),Z);vl(D,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(n(D,O.sibling),Z=c(O,k),Z.return=D,D=Z):(n(D,O),Z=uu(k,D.mode,Z),Z.return=D,D=Z),p(D)):n(D,O)}return function(D,O,k,Z){try{Ks=0;var ut=kt(D,O,k,Z);return rs=null,ut}catch(lt){if(lt===ls||lt===pl)throw lt;var Ct=Ue(29,lt,null,D.mode);return Ct.lanes=Z,Ct.return=D,Ct}finally{}}}var zn=pf(!0),xf=pf(!1),$i=!1;function _u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(t,i,n){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Rt&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,i=hl(t),tf(t,null,n),i}return cl(t,l,i,n),hl(t)}function Js(t,i,n){if(i=i.updateQueue,i!==null&&(i=i.shared,(n&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,n|=l,i.lanes=n,uh(t,n)}}function Au(t,i){var n=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,n=n.next}while(n!==null);f===null?c=f=i:f=f.next=i}else c=f=i;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=i:t.next=i,n.lastBaseUpdate=i}var Tu=!1;function Ws(){if(Tu){var t=as;if(t!==null)throw t}}function ta(t,i,n,l){Tu=!1;var c=t.updateQueue;$i=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var R=_,H=R.next;R.next=null,p===null?f=H:p.next=H,p=R;var F=t.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==p&&(_===null?F.firstBaseUpdate=H:_.next=H,F.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;p=0,F=H=R=null,_=f;do{var q=_.lane&-536870913,V=q!==_.lane;if(V?(At&q)===q:(l&q)===q){q!==0&&q===ss&&(Tu=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var st=t,ot=_;q=i;var kt=n;switch(ot.tag){case 1:if(st=ot.payload,typeof st=="function"){K=st.call(kt,K,q);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ot.payload,q=typeof st=="function"?st.call(kt,K,q):st,q==null)break t;K=x({},K,q);break t;case 2:$i=!0}}q=_.callback,q!==null&&(t.flags|=64,V&&(t.flags|=8192),V=c.callbacks,V===null?c.callbacks=[q]:V.push(q))}else V={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(H=F=V,R=K):F=F.next=V,p|=q;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;V=_,_=V.next,V.next=null,c.lastBaseUpdate=V,c.shared.pending=null}}while(!0);F===null&&(R=K),c.baseState=R,c.firstBaseUpdate=H,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),nn|=p,t.lanes=p,t.memoizedState=K}}function bf(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function vf(t,i){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)bf(n[t],i)}var us=S(null),_l=S(0);function _f(t,i){t=Gi,G(_l,t),G(us,i),Gi=t|i.baseLanes}function Mu(){G(_l,Gi),G(us,us.current)}function Eu(){Gi=_l.current,C(us),C(_l)}var je=S(null),Je=null;function Ji(t){var i=t.alternate;G(Kt,Kt.current&1),G(je,t),Je===null&&(i===null||us.current!==null||i.memoizedState!==null)&&(Je=t)}function Cu(t){G(Kt,Kt.current),G(je,t),Je===null&&(Je=t)}function Sf(t){t.tag===22?(G(Kt,Kt.current),G(je,t),Je===null&&(Je=t)):Wi()}function Wi(){G(Kt,Kt.current),G(je,je.current)}function ke(t){C(je),Je===t&&(Je=null),C(Kt)}var Kt=S(0);function Sl(t){for(var i=t;i!==null;){if(i.tag===13){var n=i.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Bo(n)||Go(n)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ci=0,gt=null,Ut=null,te=null,Al=!1,os=!1,Nn=!1,Tl=0,ea=0,cs=null,tx=0;function Qt(){throw Error(a(321))}function wu(t,i){if(i===null)return!1;for(var n=0;n<i.length&&n<t.length;n++)if(!Ge(t[n],i[n]))return!1;return!0}function Ru(t,i,n,l,c,f){return Ci=f,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?ad:Vu,Nn=!1,f=n(l,c),Nn=!1,os&&(f=Tf(i,n,l,c)),Af(t),f}function Af(t){b.H=sa;var i=Ut!==null&&Ut.next!==null;if(Ci=0,te=Ut=gt=null,Al=!1,ea=0,cs=null,i)throw Error(a(300));t===null||ee||(t=t.dependencies,t!==null&&ml(t)&&(ee=!0))}function Tf(t,i,n,l){gt=t;var c=0;do{if(os&&(cs=null),ea=0,os=!1,25<=c)throw Error(a(301));if(c+=1,te=Ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=ld,f=i(n,l)}while(os);return f}function ex(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?ia(i):i,t=t.useState()[0],(Ut!==null?Ut.memoizedState:null)!==t&&(gt.flags|=1024),i}function zu(){var t=Tl!==0;return Tl=0,t}function Nu(t,i,n){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~n}function Ou(t){if(Al){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Al=!1}Ci=0,te=Ut=gt=null,os=!1,ea=Tl=0,cs=null}function ve(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?gt.memoizedState=te=t:te=te.next=t,te}function It(){if(Ut===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var i=te===null?gt.memoizedState:te.next;if(i!==null)te=i,Ut=t;else{if(t===null)throw gt.alternate===null?Error(a(467)):Error(a(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},te===null?gt.memoizedState=te=t:te=te.next=t}return te}function Ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ia(t){var i=ea;return ea+=1,cs===null&&(cs=[]),t=mf(cs,t,i),i=gt,(te===null?i.memoizedState:te.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?ad:Vu),t}function El(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ia(t);if(t.$$typeof===Y)return me(t)}throw Error(a(438,String(t)))}function Du(t){var i=null,n=gt.updateQueue;if(n!==null&&(i=n.memoCache),i==null){var l=gt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),n===null&&(n=Ml(),gt.updateQueue=n),n.memoCache=i,n=i.data[i.index],n===void 0)for(n=i.data[i.index]=Array(t),l=0;l<t;l++)n[l]=it;return i.index++,n}function wi(t,i){return typeof i=="function"?i(t):i}function Cl(t){var i=It();return Bu(i,Ut,t)}function Bu(t,i,n){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}i.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{i=c.next;var _=p=null,R=null,H=i,F=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(At&K)===K:(Ci&K)===K){var q=H.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===ss&&(F=!0);else if((Ci&q)===q){H=H.next,q===ss&&(F=!0);continue}else K={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(_=R=K,p=f):R=R.next=K,gt.lanes|=q,nn|=q;K=H.action,Nn&&n(f,K),f=H.hasEagerState?H.eagerState:n(f,K)}else q={lane:K,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(_=R=q,p=f):R=R.next=q,gt.lanes|=K,nn|=K;H=H.next}while(H!==null&&H!==i);if(R===null?p=f:R.next=_,!Ge(f,t.memoizedState)&&(ee=!0,F&&(n=as,n!==null)))throw n;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gu(t){var i=It(),n=i.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=t;var l=n.dispatch,c=n.pending,f=i.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);Ge(f,i.memoizedState)||(ee=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),n.lastRenderedState=f}return[f,l]}function Mf(t,i,n){var l=gt,c=It(),f=Mt;if(f){if(n===void 0)throw Error(a(407));n=n()}else n=i();var p=!Ge((Ut||c).memoizedState,n);if(p&&(c.memoizedState=n,ee=!0),c=c.queue,ku(wf.bind(null,l,c,t),[t]),c.getSnapshot!==i||p||te!==null&&te.memoizedState.tag&1){if(l.flags|=2048,hs(9,{destroy:void 0},Cf.bind(null,l,c,n,i),null),Ht===null)throw Error(a(349));f||(Ci&127)!==0||Ef(l,i,n)}return n}function Ef(t,i,n){t.flags|=16384,t={getSnapshot:i,value:n},i=gt.updateQueue,i===null?(i=Ml(),gt.updateQueue=i,i.stores=[t]):(n=i.stores,n===null?i.stores=[t]:n.push(t))}function Cf(t,i,n,l){i.value=n,i.getSnapshot=l,Rf(i)&&zf(t)}function wf(t,i,n){return n(function(){Rf(i)&&zf(t)})}function Rf(t){var i=t.getSnapshot;t=t.value;try{var n=i();return!Ge(t,n)}catch{return!0}}function zf(t){var i=Sn(t,2);i!==null&&Re(i,t,2)}function Uu(t){var i=ve();if(typeof t=="function"){var n=t;if(t=n(),Nn){Li(!0);try{n()}finally{Li(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},i}function Nf(t,i,n,l){return t.baseState=n,Bu(t,Ut,typeof l=="function"?l:wi)}function ix(t,i,n,l,c){if(zl(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};b.T!==null?n(!0):f.isTransition=!1,l(f),n=i.pending,n===null?(f.next=i.pending=f,Of(i,f)):(f.next=n.next,i.pending=n.next=f)}}function Of(t,i){var n=i.action,l=i.payload,c=t.state;if(i.isTransition){var f=b.T,p={};b.T=p;try{var _=n(c,l),R=b.S;R!==null&&R(p,_),Df(t,i,_)}catch(H){ju(t,i,H)}finally{f!==null&&p.types!==null&&(f.types=p.types),b.T=f}}else try{f=n(c,l),Df(t,i,f)}catch(H){ju(t,i,H)}}function Df(t,i,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Bf(t,i,l)},function(l){return ju(t,i,l)}):Bf(t,i,n)}function Bf(t,i,n){i.status="fulfilled",i.value=n,Gf(i),t.state=n,i=t.pending,i!==null&&(n=i.next,n===i?t.pending=null:(n=n.next,i.next=n,Of(t,n)))}function ju(t,i,n){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=n,Gf(i),i=i.next;while(i!==l)}t.action=null}function Gf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Uf(t,i){return i}function jf(t,i){if(Mt){var n=Ht.formState;if(n!==null){t:{var l=gt;if(Mt){if(qt){e:{for(var c=qt,f=Ie;c.nodeType!==8;){if(!f){c=null;break e}if(c=We(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){qt=We(c.nextSibling),l=c.data==="F!";break t}}Qi(l)}l=!1}l&&(i=n[0])}}return n=ve(),n.memoizedState=n.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:i},n.queue=l,n=id.bind(null,gt,l),l.dispatch=n,l=Uu(!1),f=Xu.bind(null,gt,!1,l.queue),l=ve(),c={state:i,dispatch:null,action:t,pending:null},l.queue=c,n=ix.bind(null,gt,c,f,n),c.dispatch=n,l.memoizedState=t,[i,n,!1]}function kf(t){var i=It();return Hf(i,Ut,t)}function Hf(t,i,n){if(i=Bu(t,i,Uf)[0],t=Cl(wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ia(i)}catch(p){throw p===ls?pl:p}else l=i;i=It();var c=i.queue,f=c.dispatch;return n!==i.memoizedState&&(gt.flags|=2048,hs(9,{destroy:void 0},nx.bind(null,c,n),null)),[l,f,t]}function nx(t,i){t.action=i}function Yf(t){var i=It(),n=Ut;if(n!==null)return Hf(i,n,t);It(),i=i.memoizedState,n=It();var l=n.queue.dispatch;return n.memoizedState=t,[i,l,!1]}function hs(t,i,n,l){return t={tag:t,create:n,deps:l,inst:i,next:null},i=gt.updateQueue,i===null&&(i=Ml(),gt.updateQueue=i),n=i.lastEffect,n===null?i.lastEffect=t.next=t:(l=n.next,n.next=t,t.next=l,i.lastEffect=t),t}function qf(){return It().memoizedState}function wl(t,i,n,l){var c=ve();gt.flags|=t,c.memoizedState=hs(1|i,{destroy:void 0},n,l===void 0?null:l)}function Rl(t,i,n,l){var c=It();l=l===void 0?null:l;var f=c.memoizedState.inst;Ut!==null&&l!==null&&wu(l,Ut.memoizedState.deps)?c.memoizedState=hs(i,f,n,l):(gt.flags|=t,c.memoizedState=hs(1|i,f,n,l))}function Lf(t,i){wl(8390656,8,t,i)}function ku(t,i){Rl(2048,8,t,i)}function sx(t){gt.flags|=4;var i=gt.updateQueue;if(i===null)i=Ml(),gt.updateQueue=i,i.events=[t];else{var n=i.events;n===null?i.events=[t]:n.push(t)}}function Xf(t){var i=It().memoizedState;return sx({ref:i,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Vf(t,i){return Rl(4,2,t,i)}function Pf(t,i){return Rl(4,4,t,i)}function Ff(t,i){if(typeof i=="function"){t=t();var n=i(t);return function(){typeof n=="function"?n():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Qf(t,i,n){n=n!=null?n.concat([t]):null,Rl(4,4,Ff.bind(null,i,t),n)}function Hu(){}function Zf(t,i){var n=It();i=i===void 0?null:i;var l=n.memoizedState;return i!==null&&wu(i,l[1])?l[0]:(n.memoizedState=[t,i],t)}function $f(t,i){var n=It();i=i===void 0?null:i;var l=n.memoizedState;if(i!==null&&wu(i,l[1]))return l[0];if(l=t(),Nn){Li(!0);try{t()}finally{Li(!1)}}return n.memoizedState=[l,i],l}function Yu(t,i,n){return n===void 0||(Ci&1073741824)!==0&&(At&261930)===0?t.memoizedState=i:(t.memoizedState=n,t=Kd(),gt.lanes|=t,nn|=t,n)}function Kf(t,i,n,l){return Ge(n,i)?n:us.current!==null?(t=Yu(t,n,l),Ge(t,i)||(ee=!0),t):(Ci&42)===0||(Ci&1073741824)!==0&&(At&261930)===0?(ee=!0,t.memoizedState=n):(t=Kd(),gt.lanes|=t,nn|=t,i)}function If(t,i,n,l,c){var f=T.p;T.p=f!==0&&8>f?f:8;var p=b.T,_={};b.T=_,Xu(t,!1,i,n);try{var R=c(),H=b.S;if(H!==null&&H(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=Wp(R,l);na(t,i,F,qe(t))}else na(t,i,l,qe(t))}catch(K){na(t,i,{then:function(){},status:"rejected",reason:K},qe())}finally{T.p=f,p!==null&&_.types!==null&&(p.types=_.types),b.T=p}}function ax(){}function qu(t,i,n,l){if(t.tag!==5)throw Error(a(476));var c=Jf(t).queue;If(t,c,i,w,n===null?ax:function(){return Wf(t),n(l)})}function Jf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:w},next:null};var n={};return i.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:n},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wf(t){var i=Jf(t);i.next===null&&(i=t.alternate.memoizedState),na(t,i.next.queue,{},qe())}function Lu(){return me(va)}function td(){return It().memoizedState}function ed(){return It().memoizedState}function lx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var n=qe();t=Ki(n);var l=Ii(i,t,n);l!==null&&(Re(l,i,n),Js(l,i,n)),i={cache:pu()},t.payload=i;return}i=i.return}}function rx(t,i,n){var l=qe();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},zl(t)?nd(i,n):(n=lu(t,i,n,l),n!==null&&(Re(n,t,l),sd(n,i,l)))}function id(t,i,n){var l=qe();na(t,i,n,l)}function na(t,i,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(zl(t))nd(i,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,_=f(p,n);if(c.hasEagerState=!0,c.eagerState=_,Ge(_,p))return cl(t,i,c,0),Ht===null&&ol(),!1}catch{}finally{}if(n=lu(t,i,c,l),n!==null)return Re(n,t,l),sd(n,i,l),!0}return!1}function Xu(t,i,n,l){if(l={lane:2,revertLane:So(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zl(t)){if(i)throw Error(a(479))}else i=lu(t,n,l,2),i!==null&&Re(i,t,2)}function zl(t){var i=t.alternate;return t===gt||i!==null&&i===gt}function nd(t,i){os=Al=!0;var n=t.pending;n===null?i.next=i:(i.next=n.next,n.next=i),t.pending=i}function sd(t,i,n){if((n&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,n|=l,i.lanes=n,uh(t,n)}}var sa={readContext:me,use:El,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};sa.useEffectEvent=Qt;var ad={readContext:me,use:El,useCallback:function(t,i){return ve().memoizedState=[t,i===void 0?null:i],t},useContext:me,useEffect:Lf,useImperativeHandle:function(t,i,n){n=n!=null?n.concat([t]):null,wl(4194308,4,Ff.bind(null,i,t),n)},useLayoutEffect:function(t,i){return wl(4194308,4,t,i)},useInsertionEffect:function(t,i){wl(4,2,t,i)},useMemo:function(t,i){var n=ve();i=i===void 0?null:i;var l=t();if(Nn){Li(!0);try{t()}finally{Li(!1)}}return n.memoizedState=[l,i],l},useReducer:function(t,i,n){var l=ve();if(n!==void 0){var c=n(i);if(Nn){Li(!0);try{n(i)}finally{Li(!1)}}}else c=i;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=rx.bind(null,gt,t),[l.memoizedState,t]},useRef:function(t){var i=ve();return t={current:t},i.memoizedState=t},useState:function(t){t=Uu(t);var i=t.queue,n=id.bind(null,gt,i);return i.dispatch=n,[t.memoizedState,n]},useDebugValue:Hu,useDeferredValue:function(t,i){var n=ve();return Yu(n,t,i)},useTransition:function(){var t=Uu(!1);return t=If.bind(null,gt,t.queue,!0,!1),ve().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,n){var l=gt,c=ve();if(Mt){if(n===void 0)throw Error(a(407));n=n()}else{if(n=i(),Ht===null)throw Error(a(349));(At&127)!==0||Ef(l,i,n)}c.memoizedState=n;var f={value:n,getSnapshot:i};return c.queue=f,Lf(wf.bind(null,l,f,t),[t]),l.flags|=2048,hs(9,{destroy:void 0},Cf.bind(null,l,f,n,i),null),n},useId:function(){var t=ve(),i=Ht.identifierPrefix;if(Mt){var n=ui,l=ri;n=(l&~(1<<32-Be(l)-1)).toString(32)+n,i="_"+i+"R_"+n,n=Tl++,0<n&&(i+="H"+n.toString(32)),i+="_"}else n=tx++,i="_"+i+"r_"+n.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Lu,useFormState:jf,useActionState:jf,useOptimistic:function(t){var i=ve();i.memoizedState=i.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=n,i=Xu.bind(null,gt,!0,n),n.dispatch=i,[t,i]},useMemoCache:Du,useCacheRefresh:function(){return ve().memoizedState=lx.bind(null,gt)},useEffectEvent:function(t){var i=ve(),n={impl:t};return i.memoizedState=n,function(){if((Rt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}},Vu={readContext:me,use:El,useCallback:Zf,useContext:me,useEffect:ku,useImperativeHandle:Qf,useInsertionEffect:Vf,useLayoutEffect:Pf,useMemo:$f,useReducer:Cl,useRef:qf,useState:function(){return Cl(wi)},useDebugValue:Hu,useDeferredValue:function(t,i){var n=It();return Kf(n,Ut.memoizedState,t,i)},useTransition:function(){var t=Cl(wi)[0],i=It().memoizedState;return[typeof t=="boolean"?t:ia(t),i]},useSyncExternalStore:Mf,useId:td,useHostTransitionStatus:Lu,useFormState:kf,useActionState:kf,useOptimistic:function(t,i){var n=It();return Nf(n,Ut,t,i)},useMemoCache:Du,useCacheRefresh:ed};Vu.useEffectEvent=Xf;var ld={readContext:me,use:El,useCallback:Zf,useContext:me,useEffect:ku,useImperativeHandle:Qf,useInsertionEffect:Vf,useLayoutEffect:Pf,useMemo:$f,useReducer:Gu,useRef:qf,useState:function(){return Gu(wi)},useDebugValue:Hu,useDeferredValue:function(t,i){var n=It();return Ut===null?Yu(n,t,i):Kf(n,Ut.memoizedState,t,i)},useTransition:function(){var t=Gu(wi)[0],i=It().memoizedState;return[typeof t=="boolean"?t:ia(t),i]},useSyncExternalStore:Mf,useId:td,useHostTransitionStatus:Lu,useFormState:Yf,useActionState:Yf,useOptimistic:function(t,i){var n=It();return Ut!==null?Nf(n,Ut,t,i):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Du,useCacheRefresh:ed};ld.useEffectEvent=Xf;function Pu(t,i,n,l){i=t.memoizedState,n=n(l,i),n=n==null?i:x({},i,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fu={enqueueSetState:function(t,i,n){t=t._reactInternals;var l=qe(),c=Ki(l);c.payload=i,n!=null&&(c.callback=n),i=Ii(t,c,l),i!==null&&(Re(i,t,l),Js(i,t,l))},enqueueReplaceState:function(t,i,n){t=t._reactInternals;var l=qe(),c=Ki(l);c.tag=1,c.payload=i,n!=null&&(c.callback=n),i=Ii(t,c,l),i!==null&&(Re(i,t,l),Js(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var n=qe(),l=Ki(n);l.tag=2,i!=null&&(l.callback=i),i=Ii(t,l,n),i!==null&&(Re(i,t,n),Js(i,t,n))}};function rd(t,i,n,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):i.prototype&&i.prototype.isPureReactComponent?!Vs(n,l)||!Vs(c,f):!0}function ud(t,i,n,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(n,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(n,l),i.state!==t&&Fu.enqueueReplaceState(i,i.state,null)}function On(t,i){var n=i;if("ref"in i){n={};for(var l in i)l!=="ref"&&(n[l]=i[l])}if(t=t.defaultProps){n===i&&(n=x({},n));for(var c in t)n[c]===void 0&&(n[c]=t[c])}return n}function od(t){ul(t)}function cd(t){console.error(t)}function hd(t){ul(t)}function Nl(t,i){try{var n=t.onUncaughtError;n(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fd(t,i,n){try{var l=t.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qu(t,i,n){return n=Ki(n),n.tag=3,n.payload={element:null},n.callback=function(){Nl(t,i)},n}function dd(t){return t=Ki(t),t.tag=3,t}function md(t,i,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){fd(i,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){fd(i,n,l),typeof c!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function ux(t,i,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=n.alternate,i!==null&&ns(i,n,c,!0),n=je.current,n!==null){switch(n.tag){case 31:case 13:return Je===null?Xl():n.alternate===null&&Zt===0&&(Zt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===xl?n.flags|=16384:(i=n.updateQueue,i===null?n.updateQueue=new Set([l]):i.add(l),bo(t,l,c)),!1;case 22:return n.flags|=65536,l===xl?n.flags|=16384:(i=n.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=i):(n=i.retryQueue,n===null?i.retryQueue=new Set([l]):n.add(l)),bo(t,l,c)),!1}throw Error(a(435,n.tag))}return bo(t,l,c),Xl(),!1}if(Mt)return i=je.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,l!==fu&&(t=Error(a(422),{cause:l}),Qs(Ze(t,n)))):(l!==fu&&(i=Error(a(423),{cause:l}),Qs(Ze(i,n))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ze(l,n),c=Qu(t.stateNode,l,c),Au(t,c),Zt!==4&&(Zt=2)),!1;var f=Error(a(520),{cause:l});if(f=Ze(f,n),fa===null?fa=[f]:fa.push(f),Zt!==4&&(Zt=2),i===null)return!0;l=Ze(l,n),n=i;do{switch(n.tag){case 3:return n.flags|=65536,t=c&-c,n.lanes|=t,t=Qu(n.stateNode,l,t),Au(n,t),!1;case 1:if(i=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sn===null||!sn.has(f))))return n.flags|=65536,c&=-c,n.lanes|=c,c=dd(c),md(c,t,n,l),Au(n,c),!1}n=n.return}while(n!==null);return!1}var Zu=Error(a(461)),ee=!1;function ye(t,i,n,l){i.child=t===null?xf(i,null,n,l):zn(i,t.child,n,l)}function yd(t,i,n,l,c){n=n.render;var f=i.ref;if("ref"in l){var p={};for(var _ in l)_!=="ref"&&(p[_]=l[_])}else p=l;return En(i),l=Ru(t,i,n,p,f,c),_=zu(),t!==null&&!ee?(Nu(t,i,c),Ri(t,i,c)):(Mt&&_&&cu(i),i.flags|=1,ye(t,i,l,c),i.child)}function gd(t,i,n,l,c){if(t===null){var f=n.type;return typeof f=="function"&&!ru(f)&&f.defaultProps===void 0&&n.compare===null?(i.tag=15,i.type=f,pd(t,i,f,l,c)):(t=fl(n.type,null,l,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!io(t,c)){var p=f.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(p,l)&&t.ref===i.ref)return Ri(t,i,c)}return i.flags|=1,t=Ai(f,l),t.ref=i.ref,t.return=i,i.child=t}function pd(t,i,n,l,c){if(t!==null){var f=t.memoizedProps;if(Vs(f,l)&&t.ref===i.ref)if(ee=!1,i.pendingProps=l=f,io(t,c))(t.flags&131072)!==0&&(ee=!0);else return i.lanes=t.lanes,Ri(t,i,c)}return $u(t,i,n,l,c)}function xd(t,i,n,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,t!==null){for(l=i.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,i.child=null;return bd(t,i,f,n,l)}if((n&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gl(i,f!==null?f.cachePool:null),f!==null?_f(i,f):Mu(),Sf(i);else return l=i.lanes=536870912,bd(t,i,f!==null?f.baseLanes|n:n,n,l)}else f!==null?(gl(i,f.cachePool),_f(i,f),Wi(),i.memoizedState=null):(t!==null&&gl(i,null),Mu(),Wi());return ye(t,i,c,n),i.child}function aa(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function bd(t,i,n,l,c){var f=bu();return f=f===null?null:{parent:Wt._currentValue,pool:f},i.memoizedState={baseLanes:n,cachePool:f},t!==null&&gl(i,null),Mu(),Sf(i),t!==null&&ns(t,i,l,!0),i.childLanes=c,null}function Ol(t,i){return i=Bl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function vd(t,i,n){return zn(i,t.child,null,n),t=Ol(i,i.pendingProps),t.flags|=2,ke(i),i.memoizedState=null,t}function ox(t,i,n){var l=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Mt){if(l.mode==="hidden")return t=Ol(i,l),i.lanes=536870912,aa(null,t);if(Cu(i),(t=qt)?(t=O0(t,Ie),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:ri,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},n=nf(t),n.return=i,i.child=n,de=i,qt=null)):t=null,t===null)throw Qi(i);return i.lanes=536870912,null}return Ol(i,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Cu(i),c)if(i.flags&256)i.flags&=-257,i=vd(t,i,n);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(ee||ns(t,i,n,!1),c=(n&t.childLanes)!==0,ee||c){if(l=Ht,l!==null&&(p=oh(l,n),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sn(t,p),Re(l,t,p),Zu;Xl(),i=vd(t,i,n)}else t=f.treeContext,qt=We(p.nextSibling),de=i,Mt=!0,Fi=null,Ie=!1,t!==null&&lf(i,t),i=Ol(i,l),i.flags|=4096;return i}return t=Ai(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Dl(t,i){var n=i.ref;if(n===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(a(284));(t===null||t.ref!==n)&&(i.flags|=4194816)}}function $u(t,i,n,l,c){return En(i),n=Ru(t,i,n,l,void 0,c),l=zu(),t!==null&&!ee?(Nu(t,i,c),Ri(t,i,c)):(Mt&&l&&cu(i),i.flags|=1,ye(t,i,n,c),i.child)}function _d(t,i,n,l,c,f){return En(i),i.updateQueue=null,n=Tf(i,l,n,c),Af(t),l=zu(),t!==null&&!ee?(Nu(t,i,f),Ri(t,i,f)):(Mt&&l&&cu(i),i.flags|=1,ye(t,i,n,f),i.child)}function Sd(t,i,n,l,c){if(En(i),i.stateNode===null){var f=Wn,p=n.contextType;typeof p=="object"&&p!==null&&(f=me(p)),f=new n(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fu,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},_u(i),p=n.contextType,f.context=typeof p=="object"&&p!==null?me(p):Wn,f.state=i.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Pu(i,n,p,l),f.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Fu.enqueueReplaceState(f,f.state,null),ta(i,l,f,c),Ws(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var _=i.memoizedProps,R=On(n,_);f.props=R;var H=f.context,F=n.contextType;p=Wn,typeof F=="object"&&F!==null&&(p=me(F));var K=n.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||H!==p)&&ud(i,f,l,p),$i=!1;var q=i.memoizedState;f.state=q,ta(i,l,f,c),Ws(),H=i.memoizedState,_||q!==H||$i?(typeof K=="function"&&(Pu(i,n,K,l),H=i.memoizedState),(R=$i||rd(i,n,R,l,q,H,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Su(t,i),p=i.memoizedProps,F=On(n,p),f.props=F,K=i.pendingProps,q=f.context,H=n.contextType,R=Wn,typeof H=="object"&&H!==null&&(R=me(H)),_=n.getDerivedStateFromProps,(H=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||q!==R)&&ud(i,f,l,R),$i=!1,q=i.memoizedState,f.state=q,ta(i,l,f,c),Ws();var V=i.memoizedState;p!==K||q!==V||$i||t!==null&&t.dependencies!==null&&ml(t.dependencies)?(typeof _=="function"&&(Pu(i,n,_,l),V=i.memoizedState),(F=$i||rd(i,n,F,l,q,V,R)||t!==null&&t.dependencies!==null&&ml(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=V),f.props=l,f.state=V,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Dl(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=zn(i,t.child,null,c),i.child=zn(i,null,n,c)):ye(t,i,n,c),i.memoizedState=f.state,t=i.child):t=Ri(t,i,c),t}function Ad(t,i,n,l){return Tn(),i.flags|=256,ye(t,i,n,l),i.child}var Ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iu(t){return{baseLanes:t,cachePool:ff()}}function Ju(t,i,n){return t=t!==null?t.childLanes&~n:0,i&&(t|=Ye),t}function Td(t,i,n){var l=i.pendingProps,c=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),p&&(c=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,t===null){if(Mt){if(c?Ji(i):Wi(),(t=qt)?(t=O0(t,Ie),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pi!==null?{id:ri,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},n=nf(t),n.return=i,i.child=n,de=i,qt=null)):t=null,t===null)throw Qi(i);return Go(t)?i.lanes=32:i.lanes=536870912,null}var _=l.children;return l=l.fallback,c?(Wi(),c=i.mode,_=Bl({mode:"hidden",children:_},c),l=An(l,c,n,null),_.return=i,l.return=i,_.sibling=l,i.child=_,l=i.child,l.memoizedState=Iu(n),l.childLanes=Ju(t,p,n),i.memoizedState=Ku,aa(null,l)):(Ji(i),Wu(i,_))}var R=t.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(f)i.flags&256?(Ji(i),i.flags&=-257,i=to(t,i,n)):i.memoizedState!==null?(Wi(),i.child=t.child,i.flags|=128,i=null):(Wi(),_=l.fallback,c=i.mode,l=Bl({mode:"visible",children:l.children},c),_=An(_,c,n,null),_.flags|=2,l.return=i,_.return=i,l.sibling=_,i.child=l,zn(i,t.child,null,n),l=i.child,l.memoizedState=Iu(n),l.childLanes=Ju(t,p,n),i.memoizedState=Ku,i=aa(null,l));else if(Ji(i),Go(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var H=p.dgst;p=H,l=Error(a(419)),l.stack="",l.digest=p,Qs({value:l,source:null,stack:null}),i=to(t,i,n)}else if(ee||ns(t,i,n,!1),p=(n&t.childLanes)!==0,ee||p){if(p=Ht,p!==null&&(l=oh(p,n),l!==0&&l!==R.retryLane))throw R.retryLane=l,Sn(t,l),Re(p,t,l),Zu;Bo(_)||Xl(),i=to(t,i,n)}else Bo(_)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,qt=We(_.nextSibling),de=i,Mt=!0,Fi=null,Ie=!1,t!==null&&lf(i,t),i=Wu(i,l.children),i.flags|=4096);return i}return c?(Wi(),_=l.fallback,c=i.mode,R=t.child,H=R.sibling,l=Ai(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,H!==null?_=Ai(H,_):(_=An(_,c,n,null),_.flags|=2),_.return=i,l.return=i,l.sibling=_,i.child=l,aa(null,l),l=i.child,_=t.child.memoizedState,_===null?_=Iu(n):(c=_.cachePool,c!==null?(R=Wt._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=ff(),_={baseLanes:_.baseLanes|n,cachePool:c}),l.memoizedState=_,l.childLanes=Ju(t,p,n),i.memoizedState=Ku,aa(t.child,l)):(Ji(i),n=t.child,t=n.sibling,n=Ai(n,{mode:"visible",children:l.children}),n.return=i,n.sibling=null,t!==null&&(p=i.deletions,p===null?(i.deletions=[t],i.flags|=16):p.push(t)),i.child=n,i.memoizedState=null,n)}function Wu(t,i){return i=Bl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bl(t,i){return t=Ue(22,t,null,i),t.lanes=0,t}function to(t,i,n){return zn(i,t.child,null,n),t=Wu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Md(t,i,n){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),yu(t.return,i,n)}function eo(t,i,n,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=c,p.treeForkCount=f)}function Ed(t,i,n){var l=i.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=Kt.current,_=(p&2)!==0;if(_?(p=p&1|2,i.flags|=128):p&=1,G(Kt,p),ye(t,i,l,n),l=Mt?Fs:0,!_&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,n,i);else if(t.tag===19)Md(t,n,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(n=i.child,c=null;n!==null;)t=n.alternate,t!==null&&Sl(t)===null&&(c=n),n=n.sibling;n=c,n===null?(c=i.child,i.child=null):(c=n.sibling,n.sibling=null),eo(i,!1,c,n,f,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&Sl(t)===null){i.child=c;break}t=c.sibling,c.sibling=n,n=c,c=t}eo(i,!0,n,null,f,l);break;case"together":eo(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ri(t,i,n){if(t!==null&&(i.dependencies=t.dependencies),nn|=i.lanes,(n&i.childLanes)===0)if(t!==null){if(ns(t,i,n,!1),(n&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,n=Ai(t,t.pendingProps),i.child=n,n.return=i;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=i;n.sibling=null}return i.child}function io(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ml(t)))}function cx(t,i,n){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),Zi(i,Wt,t.memoizedState.cache),Tn();break;case 27:case 5:bt(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cu(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(i),i.flags|=128,null):(n&i.child.childLanes)!==0?Td(t,i,n):(Ji(i),t=Ri(t,i,n),t!==null?t.sibling:null);Ji(i);break;case 19:var c=(t.flags&128)!==0;if(l=(n&i.childLanes)!==0,l||(ns(t,i,n,!1),l=(n&i.childLanes)!==0),c){if(l)return Ed(t,i,n);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Kt,Kt.current),l)break;return null;case 22:return i.lanes=0,xd(t,i,n,i.pendingProps);case 24:Zi(i,Wt,t.memoizedState.cache)}return Ri(t,i,n)}function Cd(t,i,n){if(t!==null)if(t.memoizedProps!==i.pendingProps)ee=!0;else{if(!io(t,n)&&(i.flags&128)===0)return ee=!1,cx(t,i,n);ee=(t.flags&131072)!==0}else ee=!1,Mt&&(i.flags&1048576)!==0&&af(i,Fs,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(t=wn(i.elementType),i.type=t,typeof t=="function")ru(t)?(l=On(t,l),i.tag=1,i=Sd(null,i,t,l,n)):(i.tag=0,i=$u(null,i,t,l,n));else{if(t!=null){var c=t.$$typeof;if(c===$){i.tag=11,i=yd(null,i,t,l,n);break t}else if(c===X){i.tag=14,i=gd(null,i,t,l,n);break t}}throw i=zt(t)||t,Error(a(306,i,""))}}return i;case 0:return $u(t,i,i.type,i.pendingProps,n);case 1:return l=i.type,c=On(l,i.pendingProps),Sd(t,i,l,c,n);case 3:t:{if(ct(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;c=f.element,Su(t,i),ta(i,l,null,n);var p=i.memoizedState;if(l=p.cache,Zi(i,Wt,l),l!==f.cache&&gu(i,[Wt],n,!0),Ws(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ad(t,i,l,n);break t}else if(l!==c){c=Ze(Error(a(424)),i),Qs(c),i=Ad(t,i,l,n);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qt=We(t.firstChild),de=i,Mt=!0,Fi=null,Ie=!0,n=xf(i,null,l,n),i.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Tn(),l===c){i=Ri(t,i,n);break t}ye(t,i,l,n)}i=i.child}return i;case 26:return Dl(t,i),t===null?(n=k0(i.type,null,i.pendingProps,null))?i.memoizedState=n:Mt||(n=i.type,t=i.pendingProps,l=Kl(nt.current).createElement(n),l[fe]=i,l[Ae]=t,ge(l,n,t),re(l),i.stateNode=l):i.memoizedState=k0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bt(i),t===null&&Mt&&(l=i.stateNode=G0(i.type,i.pendingProps,nt.current),de=i,Ie=!0,c=qt,un(i.type)?(Uo=c,qt=We(l.firstChild)):qt=c),ye(t,i,i.pendingProps.children,n),Dl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Mt&&((c=l=qt)&&(l=Yx(l,i.type,i.pendingProps,Ie),l!==null?(i.stateNode=l,de=i,qt=We(l.firstChild),Ie=!1,c=!0):c=!1),c||Qi(i)),bt(i),c=i.type,f=i.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,No(c,f)?l=null:p!==null&&No(c,p)&&(i.flags|=32),i.memoizedState!==null&&(c=Ru(t,i,ex,null,null,n),va._currentValue=c),Dl(t,i),ye(t,i,l,n),i.child;case 6:return t===null&&Mt&&((t=n=qt)&&(n=qx(n,i.pendingProps,Ie),n!==null?(i.stateNode=n,de=i,qt=null,t=!0):t=!1),t||Qi(i)),null;case 13:return Td(t,i,n);case 4:return ct(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zn(i,null,l,n):ye(t,i,l,n),i.child;case 11:return yd(t,i,i.type,i.pendingProps,n);case 7:return ye(t,i,i.pendingProps,n),i.child;case 8:return ye(t,i,i.pendingProps.children,n),i.child;case 12:return ye(t,i,i.pendingProps.children,n),i.child;case 10:return l=i.pendingProps,Zi(i,i.type,l.value),ye(t,i,l.children,n),i.child;case 9:return c=i.type._context,l=i.pendingProps.children,En(i),c=me(c),l=l(c),i.flags|=1,ye(t,i,l,n),i.child;case 14:return gd(t,i,i.type,i.pendingProps,n);case 15:return pd(t,i,i.type,i.pendingProps,n);case 19:return Ed(t,i,n);case 31:return ox(t,i,n);case 22:return xd(t,i,n,i.pendingProps);case 24:return En(i),l=me(Wt),t===null?(c=bu(),c===null&&(c=Ht,f=pu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=n),c=f),i.memoizedState={parent:l,cache:c},_u(i),Zi(i,Wt,c)):((t.lanes&n)!==0&&(Su(t,i),ta(i,null,null,n),Ws()),c=t.memoizedState,f=i.memoizedState,c.parent!==l?(c={parent:l,cache:l},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Zi(i,Wt,l)):(l=f.cache,Zi(i,Wt,l),l!==c.cache&&gu(i,[Wt],n,!0))),ye(t,i,i.pendingProps.children,n),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zi(t){t.flags|=4}function no(t,i,n,l,c){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(t0())t.flags|=8192;else throw Rn=xl,vu}else t.flags&=-16777217}function wd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X0(i))if(t0())t.flags|=8192;else throw Rn=xl,vu}function Gl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lh():536870912,t.lanes|=i,ys|=i)}function la(t,i){if(!Mt)switch(t.tailMode){case"hidden":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,n=0,l=0;if(i)for(var c=t.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=n,i}function hx(t,i,n){var l=i.pendingProps;switch(hu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Lt(i),null;case 3:return n=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ei(Wt),dt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(is(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,du())),Lt(i),null;case 26:var c=i.type,f=i.memoizedState;return t===null?(zi(i),f!==null?(Lt(i),wd(i,f)):(Lt(i),no(i,c,null,l,n))):f?f!==t.memoizedState?(zi(i),Lt(i),wd(i,f)):(Lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(i),Lt(i),no(i,c,t,l,n)),null;case 27:if(Se(i),n=nt.current,c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}t=Q.current,is(i)?rf(i):(t=G0(c,l,n),i.stateNode=t,zi(i))}return Lt(i),null;case 5:if(Se(i),c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Lt(i),null}if(f=Q.current,is(i))rf(i);else{var p=Kl(nt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[fe]=i,f[Ae]=l;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;t:switch(ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(i)}}return Lt(i),no(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,n),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=nt.current,is(i)){if(t=i.stateNode,n=i.memoizedProps,l=null,c=de,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[fe]=i,t=!!(t.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||T0(t.nodeValue,n)),t||Qi(i,!0)}else t=Kl(t).createTextNode(l),t[fe]=i,i.stateNode=t}return Lt(i),null;case 31:if(n=i.memoizedState,t===null||t.memoizedState!==null){if(l=is(i),n!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[fe]=i}else Tn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),t=!1}else n=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return i.flags&256?(ke(i),i):(ke(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=is(i),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[fe]=i}else Tn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),c=!1}else c=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(ke(i),i):(ke(i),null)}return ke(i),(i.flags&128)!==0?(i.lanes=n,i):(n=l!==null,t=t!==null&&t.memoizedState!==null,n&&(l=i.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),n!==t&&n&&(i.child.flags|=8192),Gl(i,i.updateQueue),Lt(i),null);case 4:return dt(),t===null&&Eo(i.stateNode.containerInfo),Lt(i),null;case 10:return Ei(i.type),Lt(i),null;case 19:if(C(Kt),l=i.memoizedState,l===null)return Lt(i),null;if(c=(i.flags&128)!==0,f=l.rendering,f===null)if(c)la(l,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Sl(t),f!==null){for(i.flags|=128,la(l,!1),t=f.updateQueue,i.updateQueue=t,Gl(i,t),i.subtreeFlags=0,t=n,n=i.child;n!==null;)ef(n,t),n=n.sibling;return G(Kt,Kt.current&1|2),Mt&&Ti(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Oe()>Yl&&(i.flags|=128,c=!0,la(l,!1),i.lanes=4194304)}else{if(!c)if(t=Sl(f),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,Gl(i,t),la(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return Lt(i),null}else 2*Oe()-l.renderingStartTime>Yl&&n!==536870912&&(i.flags|=128,c=!0,la(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Oe(),t.sibling=null,n=Kt.current,G(Kt,c?n&1|2:n&1),Mt&&Ti(i,l.treeForkCount),t):(Lt(i),null);case 22:case 23:return ke(i),Eu(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(n&536870912)!==0&&(i.flags&128)===0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),n=i.updateQueue,n!==null&&Gl(i,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==n&&(i.flags|=2048),t!==null&&C(Cn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),i.memoizedState.cache!==n&&(i.flags|=2048),Ei(Wt),Lt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function fx(t,i){switch(hu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ei(Wt),dt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Se(i),null;case 31:if(i.memoizedState!==null){if(ke(i),i.alternate===null)throw Error(a(340));Tn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ke(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Tn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return C(Kt),null;case 4:return dt(),null;case 10:return Ei(i.type),null;case 22:case 23:return ke(i),Eu(),t!==null&&C(Cn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ei(Wt),null;case 25:return null;default:return null}}function Rd(t,i){switch(hu(i),i.tag){case 3:Ei(Wt),dt();break;case 26:case 27:case 5:Se(i);break;case 4:dt();break;case 31:i.memoizedState!==null&&ke(i);break;case 13:ke(i);break;case 19:C(Kt);break;case 10:Ei(i.type);break;case 22:case 23:ke(i),Eu(),t!==null&&C(Cn);break;case 24:Ei(Wt)}}function ra(t,i){try{var n=i.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&t)===t){l=void 0;var f=n.create,p=n.inst;l=f(),p.destroy=l}n=n.next}while(n!==c)}}catch(_){Bt(i,i.return,_)}}function tn(t,i,n){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=i;var R=n,H=_;try{H()}catch(F){Bt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Bt(i,i.return,F)}}function zd(t){var i=t.updateQueue;if(i!==null){var n=t.stateNode;try{vf(i,n)}catch(l){Bt(t,t.return,l)}}}function Nd(t,i,n){n.props=On(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(l){Bt(t,i,l)}}function ua(t,i){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof n=="function"?t.refCleanup=n(l):n.current=l}}catch(c){Bt(t,i,c)}}function oi(t,i){var n=t.ref,l=t.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Bt(t,i,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Bt(t,i,c)}else n.current=null}function Od(t){var i=t.type,n=t.memoizedProps,l=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break t;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Bt(t,t.return,c)}}function so(t,i,n){try{var l=t.stateNode;Bx(l,t.type,n,i),l[Ae]=i}catch(c){Bt(t,t.return,c)}}function Dd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&un(t.type)||t.tag===4}function ao(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Dd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&un(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lo(t,i,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,i):(i=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.appendChild(t),n=n._reactRootContainer,n!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&un(t.type)&&(n=t.stateNode,i=null),t=t.child,t!==null))for(lo(t,i,n),t=t.sibling;t!==null;)lo(t,i,n),t=t.sibling}function Ul(t,i,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?n.insertBefore(t,i):n.appendChild(t);else if(l!==4&&(l===27&&un(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ul(t,i,n),t=t.sibling;t!==null;)Ul(t,i,n),t=t.sibling}function Bd(t){var i=t.stateNode,n=t.memoizedProps;try{for(var l=t.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);ge(i,l,n),i[fe]=t,i[Ae]=n}catch(f){Bt(t,t.return,f)}}var Ni=!1,ie=!1,ro=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,ue=null;function dx(t,i){if(t=t.containerInfo,Ro=nr,t=Fh(t),tu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break t}var p=0,_=-1,R=-1,H=0,F=0,K=t,q=null;e:for(;;){for(var V;K!==n||c!==0&&K.nodeType!==3||(_=p+c),K!==f||l!==0&&K.nodeType!==3||(R=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(V=K.firstChild)!==null;)q=K,K=V;for(;;){if(K===t)break e;if(q===n&&++H===c&&(_=p),q===f&&++F===l&&(R=p),(V=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=V}n=_===-1||R===-1?null:{start:_,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:t,selectionRange:n},nr=!1,ue=i;ue!==null;)if(i=ue,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ue=t;else for(;ue!==null;){switch(i=ue,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)c=t[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,n=i,c=f.memoizedProps,f=f.memoizedState,l=n.stateNode;try{var st=On(n.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ot){Bt(n,n.return,ot)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,n=t.nodeType,n===9)Do(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Do(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ue=t;break}ue=i.return}}function Ud(t,i,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Di(t,n),l&4&&ra(5,n);break;case 1:if(Di(t,n),l&4)if(t=n.stateNode,i===null)try{t.componentDidMount()}catch(p){Bt(n,n.return,p)}else{var c=On(n.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(c,i,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Bt(n,n.return,p)}}l&64&&zd(n),l&512&&ua(n,n.return);break;case 3:if(Di(t,n),l&64&&(t=n.updateQueue,t!==null)){if(i=null,n.child!==null)switch(n.child.tag){case 27:case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}try{vf(t,i)}catch(p){Bt(n,n.return,p)}}break;case 27:i===null&&l&4&&Bd(n);case 26:case 5:Di(t,n),i===null&&l&4&&Od(n),l&512&&ua(n,n.return);break;case 12:Di(t,n);break;case 31:Di(t,n),l&4&&Hd(t,n);break;case 13:Di(t,n),l&4&&Yd(t,n),l&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Sx.bind(null,n),Lx(t,n))));break;case 22:if(l=n.memoizedState!==null||Ni,!l){i=i!==null&&i.memoizedState!==null||ie,c=Ni;var f=ie;Ni=l,(ie=i)&&!f?Bi(t,n,(n.subtreeFlags&8772)!==0):Di(t,n),Ni=c,ie=f}break;case 30:break;default:Di(t,n)}}function jd(t){var i=t.alternate;i!==null&&(t.alternate=null,jd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&jr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Vt=null,Me=!1;function Oi(t,i,n){for(n=n.child;n!==null;)kd(t,i,n),n=n.sibling}function kd(t,i,n){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Os,n)}catch{}switch(n.tag){case 26:ie||oi(n,i),Oi(t,i,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ie||oi(n,i);var l=Vt,c=Me;un(n.type)&&(Vt=n.stateNode,Me=!1),Oi(t,i,n),pa(n.stateNode),Vt=l,Me=c;break;case 5:ie||oi(n,i);case 6:if(l=Vt,c=Me,Vt=null,Oi(t,i,n),Vt=l,Me=c,Vt!==null)if(Me)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(n.stateNode)}catch(f){Bt(n,i,f)}else try{Vt.removeChild(n.stateNode)}catch(f){Bt(n,i,f)}break;case 18:Vt!==null&&(Me?(t=Vt,z0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),As(t)):z0(Vt,n.stateNode));break;case 4:l=Vt,c=Me,Vt=n.stateNode.containerInfo,Me=!0,Oi(t,i,n),Vt=l,Me=c;break;case 0:case 11:case 14:case 15:tn(2,n,i),ie||tn(4,n,i),Oi(t,i,n);break;case 1:ie||(oi(n,i),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Nd(n,i,l)),Oi(t,i,n);break;case 21:Oi(t,i,n);break;case 22:ie=(l=ie)||n.memoizedState!==null,Oi(t,i,n),ie=l;break;default:Oi(t,i,n)}}function Hd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{As(t)}catch(n){Bt(i,i.return,n)}}}function Yd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(n){Bt(i,i.return,n)}}function mx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gd),i;default:throw Error(a(435,t.tag))}}function jl(t,i){var n=mx(t);i.forEach(function(l){if(!n.has(l)){n.add(l);var c=Ax.bind(null,t,l);l.then(c,c)}})}function Ee(t,i){var n=i.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],f=t,p=i,_=p;t:for(;_!==null;){switch(_.tag){case 27:if(un(_.type)){Vt=_.stateNode,Me=!1;break t}break;case 5:Vt=_.stateNode,Me=!1;break t;case 3:case 4:Vt=_.stateNode.containerInfo,Me=!0;break t}_=_.return}if(Vt===null)throw Error(a(160));kd(f,p,c),Vt=null,Me=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qd(i,t),i=i.sibling}var si=null;function qd(t,i){var n=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ee(i,t),Ce(t),l&4&&(tn(3,t,t.return),ra(3,t),tn(5,t,t.return));break;case 1:Ee(i,t),Ce(t),l&512&&(ie||n===null||oi(n,n.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=si;if(Ee(i,t),Ce(t),l&512&&(ie||n===null||oi(n,n.return)),l&4){var f=n!==null?n.memoizedState:null;if(l=t.memoizedState,n===null)if(l===null)if(t.stateNode===null){t:{l=t.type,n=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gs]||f[fe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ge(f,l,n),f[fe]=t,re(f),l=f;break t;case"link":var p=q0("link","href",c).get(l+(n.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(_,1);break e}}f=c.createElement(l),ge(f,l,n),c.head.appendChild(f);break;case"meta":if(p=q0("meta","content",c).get(l+(n.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(_,1);break e}}f=c.createElement(l),ge(f,l,n),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[fe]=t,re(f),l=f}t.stateNode=l}else L0(c,t.type,t.stateNode);else t.stateNode=Y0(c,l,t.memoizedProps);else f!==l?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,l===null?L0(c,t.type,t.stateNode):Y0(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&so(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ee(i,t),Ce(t),l&512&&(ie||n===null||oi(n,n.return)),n!==null&&l&4&&so(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ee(i,t),Ce(t),l&512&&(ie||n===null||oi(n,n.return)),t.flags&32){c=t.stateNode;try{Fn(c,"")}catch(st){Bt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,so(t,c,n!==null?n.memoizedProps:c)),l&1024&&(ro=!0);break;case 6:if(Ee(i,t),Ce(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,n=t.stateNode;try{n.nodeValue=l}catch(st){Bt(t,t.return,st)}}break;case 3:if(Wl=null,c=si,si=Il(i.containerInfo),Ee(i,t),si=c,Ce(t),l&4&&n!==null&&n.memoizedState.isDehydrated)try{As(i.containerInfo)}catch(st){Bt(t,t.return,st)}ro&&(ro=!1,Ld(t));break;case 4:l=si,si=Il(t.stateNode.containerInfo),Ee(i,t),Ce(t),si=l;break;case 12:Ee(i,t),Ce(t);break;case 31:Ee(i,t),Ce(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jl(t,l)));break;case 13:Ee(i,t),Ce(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hl=Oe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jl(t,l)));break;case 22:c=t.memoizedState!==null;var R=n!==null&&n.memoizedState!==null,H=Ni,F=ie;if(Ni=H||c,ie=F||R,Ee(i,t),ie=F,Ni=H,Ce(t),l&8192)t:for(i=t.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(n===null||R||Ni||ie||Dn(t)),n=null,i=t;;){if(i.tag===5||i.tag===26){if(n===null){R=n=i;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=R.stateNode;var K=R.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Bt(R,R.return,st)}}}else if(i.tag===6){if(n===null){R=i;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(st){Bt(R,R.return,st)}}}else if(i.tag===18){if(n===null){R=i;try{var V=R.stateNode;c?N0(V,!0):N0(R.stateNode,!1)}catch(st){Bt(R,R.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;n===i&&(n=null),i=i.return}n===i&&(n=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,jl(t,n))));break;case 19:Ee(i,t),Ce(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jl(t,l)));break;case 30:break;case 21:break;default:Ee(i,t),Ce(t)}}function Ce(t){var i=t.flags;if(i&2){try{for(var n,l=t.return;l!==null;){if(Dd(l)){n=l;break}l=l.return}if(n==null)throw Error(a(160));switch(n.tag){case 27:var c=n.stateNode,f=ao(t);Ul(t,f,c);break;case 5:var p=n.stateNode;n.flags&32&&(Fn(p,""),n.flags&=-33);var _=ao(t);Ul(t,_,p);break;case 3:case 4:var R=n.stateNode.containerInfo,H=ao(t);lo(t,H,R);break;default:throw Error(a(161))}}catch(F){Bt(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ld(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ld(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ud(t,i.alternate,i),i=i.sibling}function Dn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:tn(4,i,i.return),Dn(i);break;case 1:oi(i,i.return);var n=i.stateNode;typeof n.componentWillUnmount=="function"&&Nd(i,i.return,n),Dn(i);break;case 27:pa(i.stateNode);case 26:case 5:oi(i,i.return),Dn(i);break;case 22:i.memoizedState===null&&Dn(i);break;case 30:Dn(i);break;default:Dn(i)}t=t.sibling}}function Bi(t,i,n){for(n=n&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,c=t,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,n),ra(4,f);break;case 1:if(Bi(c,f,n),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){Bt(l,l.return,H)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)bf(R[c],_)}catch(H){Bt(l,l.return,H)}}n&&p&64&&zd(f),ua(f,f.return);break;case 27:Bd(f);case 26:case 5:Bi(c,f,n),n&&l===null&&p&4&&Od(f),ua(f,f.return);break;case 12:Bi(c,f,n);break;case 31:Bi(c,f,n),n&&p&4&&Hd(c,f);break;case 13:Bi(c,f,n),n&&p&4&&Yd(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,n),ua(f,f.return);break;case 30:break;default:Bi(c,f,n)}i=i.sibling}}function uo(t,i){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Zs(n))}function oo(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zs(t))}function ai(t,i,n,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xd(t,i,n,l),i=i.sibling}function Xd(t,i,n,l){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,n,l),c&2048&&ra(9,i);break;case 1:ai(t,i,n,l);break;case 3:ai(t,i,n,l),c&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zs(t)));break;case 12:if(c&2048){ai(t,i,n,l),t=i.stateNode;try{var f=i.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Bt(i,i.return,R)}}else ai(t,i,n,l);break;case 31:ai(t,i,n,l);break;case 13:ai(t,i,n,l);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?ai(t,i,n,l):oa(t,i):f._visibility&2?ai(t,i,n,l):(f._visibility|=2,fs(t,i,n,l,(i.subtreeFlags&10256)!==0||!1)),c&2048&&uo(p,i);break;case 24:ai(t,i,n,l),c&2048&&oo(i.alternate,i);break;default:ai(t,i,n,l)}}function fs(t,i,n,l,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,p=i,_=n,R=l,H=p.flags;switch(p.tag){case 0:case 11:case 15:fs(f,p,_,R,c),ra(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?fs(f,p,_,R,c):oa(f,p):(F._visibility|=2,fs(f,p,_,R,c)),c&&H&2048&&uo(p.alternate,p);break;case 24:fs(f,p,_,R,c),c&&H&2048&&oo(p.alternate,p);break;default:fs(f,p,_,R,c)}i=i.sibling}}function oa(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var n=t,l=i,c=l.flags;switch(l.tag){case 22:oa(n,l),c&2048&&uo(l.alternate,l);break;case 24:oa(n,l),c&2048&&oo(l.alternate,l);break;default:oa(n,l)}i=i.sibling}}var ca=8192;function ds(t,i,n){if(t.subtreeFlags&ca)for(t=t.child;t!==null;)Vd(t,i,n),t=t.sibling}function Vd(t,i,n){switch(t.tag){case 26:ds(t,i,n),t.flags&ca&&t.memoizedState!==null&&t1(n,si,t.memoizedState,t.memoizedProps);break;case 5:ds(t,i,n);break;case 3:case 4:var l=si;si=Il(t.stateNode.containerInfo),ds(t,i,n),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ca,ca=16777216,ds(t,i,n),ca=l):ds(t,i,n));break;default:ds(t,i,n)}}function Pd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ha(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var l=i[n];ue=l,Qd(l,t)}Pd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fd(t),t=t.sibling}function Fd(t){switch(t.tag){case 0:case 11:case 15:ha(t),t.flags&2048&&tn(9,t,t.return);break;case 3:ha(t);break;case 12:ha(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kl(t)):ha(t);break;default:ha(t)}}function kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var l=i[n];ue=l,Qd(l,t)}Pd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:tn(8,i,i.return),kl(i);break;case 22:n=i.stateNode,n._visibility&2&&(n._visibility&=-3,kl(i));break;default:kl(i)}t=t.sibling}}function Qd(t,i){for(;ue!==null;){var n=ue;switch(n.tag){case 0:case 11:case 15:tn(8,n,i);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zs(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,ue=l;else t:for(n=t;ue!==null;){l=ue;var c=l.sibling,f=l.return;if(jd(l),l===n){ue=null;break t}if(c!==null){c.return=f,ue=c;break t}ue=f}}}var yx={getCacheForType:function(t){var i=me(Wt),n=i.data.get(t);return n===void 0&&(n=t(),i.data.set(t,n)),n},cacheSignal:function(){return me(Wt).controller.signal}},gx=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ht=null,vt=null,At=0,Dt=0,He=null,en=!1,ms=!1,co=!1,Gi=0,Zt=0,nn=0,Bn=0,ho=0,Ye=0,ys=0,fa=null,we=null,fo=!1,Hl=0,Zd=0,Yl=1/0,ql=null,sn=null,ne=0,an=null,gs=null,Ui=0,mo=0,yo=null,$d=null,da=0,go=null;function qe(){return(Rt&2)!==0&&At!==0?At&-At:b.T!==null?So():ch()}function Kd(){if(Ye===0)if((At&536870912)===0||Mt){var t=$a;$a<<=1,($a&3932160)===0&&($a=262144),Ye=t}else Ye=536870912;return t=je.current,t!==null&&(t.flags|=32),Ye}function Re(t,i,n){(t===Ht&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)&&(ps(t,0),ln(t,At,Ye,!1)),Bs(t,n),((Rt&2)===0||t!==Ht)&&(t===Ht&&((Rt&2)===0&&(Bn|=n),Zt===4&&ln(t,At,Ye,!1)),ci(t))}function Id(t,i,n){if((Rt&6)!==0)throw Error(a(327));var l=!n&&(i&127)===0&&(i&t.expiredLanes)===0||Ds(t,i),c=l?bx(t,i):xo(t,i,!0),f=l;do{if(c===0){ms&&!l&&ln(t,i,0,!1);break}else{if(n=t.current.alternate,f&&!px(n)){c=xo(t,i,!1),f=!1;continue}if(c===2){if(f=i,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var _=t;c=fa;var R=_.current.memoizedState.isDehydrated;if(R&&(ps(_,p).flags|=256),p=xo(_,p,!1),p!==2){if(co&&!R){_.errorRecoveryDisabledLanes|=f,Bn|=f,c=4;break t}f=we,we=c,f!==null&&(we===null?we=f:we.push.apply(we,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){ps(t,0),ln(t,i,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ln(l,i,Ye,!en);break t;case 2:we=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(c=Hl+300-Oe(),10<c)){if(ln(l,i,Ye,!en),Ia(l,0,!0)!==0)break t;Ui=i,l.timeoutHandle=w0(Jd.bind(null,l,n,we,ql,fo,i,Ye,Bn,ys,en,f,"Throttled",-0,0),c);break t}Jd(l,n,we,ql,fo,i,Ye,Bn,ys,en,f,null,-0,0)}}break}while(!0);ci(t)}function Jd(t,i,n,l,c,f,p,_,R,H,F,K,q,V){if(t.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Vd(i,f,K);var st=(f&62914560)===f?Hl-Oe():(f&4194048)===f?Zd-Oe():0;if(st=e1(K,st),st!==null){Ui=f,t.cancelPendingCommit=st(l0.bind(null,t,i,f,n,l,c,p,_,R,F,K,null,q,V)),ln(t,f,p,!H);return}}l0(t,i,f,n,l,c,p,_,R)}function px(t){for(var i=t;;){var n=i.tag;if((n===0||n===11||n===15)&&i.flags&16384&&(n=i.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],f=c.getSnapshot;c=c.value;try{if(!Ge(f(),c))return!1}catch{return!1}}if(n=i.child,i.subtreeFlags&16384&&n!==null)n.return=i,i=n;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ln(t,i,n,l){i&=~ho,i&=~Bn,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var c=i;0<c;){var f=31-Be(c),p=1<<f;l[f]=-1,c&=~p}n!==0&&rh(t,n,i)}function Ll(){return(Rt&6)===0?(ma(0),!1):!0}function po(){if(vt!==null){if(Dt===0)var t=vt.return;else t=vt,Mi=Mn=null,Ou(t),rs=null,Ks=0,t=vt;for(;t!==null;)Rd(t.alternate,t),t=t.return;vt=null}}function ps(t,i){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,jx(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ui=0,po(),Ht=t,vt=n=Ai(t.current,null),At=i,Dt=0,He=null,en=!1,ms=Ds(t,i),co=!1,ys=Ye=ho=Bn=nn=Zt=0,we=fa=null,fo=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var c=31-Be(l),f=1<<c;i|=t[c],l&=~f}return Gi=i,ol(),n}function Wd(t,i){gt=null,b.H=sa,i===ls||i===pl?(i=yf(),Dt=3):i===vu?(i=yf(),Dt=4):Dt=i===Zu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,He=i,vt===null&&(Zt=1,Nl(t,Ze(i,t.current)))}function t0(){var t=je.current;return t===null?!0:(At&4194048)===At?Je===null:(At&62914560)===At||(At&536870912)!==0?t===Je:!1}function e0(){var t=b.H;return b.H=sa,t===null?sa:t}function i0(){var t=b.A;return b.A=yx,t}function Xl(){Zt=4,en||(At&4194048)!==At&&je.current!==null||(ms=!0),(nn&134217727)===0&&(Bn&134217727)===0||Ht===null||ln(Ht,At,Ye,!1)}function xo(t,i,n){var l=Rt;Rt|=2;var c=e0(),f=i0();(Ht!==t||At!==i)&&(ql=null,ps(t,i)),i=!1;var p=Zt;t:do try{if(Dt!==0&&vt!==null){var _=vt,R=He;switch(Dt){case 8:po(),p=6;break t;case 3:case 2:case 9:case 6:je.current===null&&(i=!0);var H=Dt;if(Dt=0,He=null,xs(t,_,R,H),n&&ms){p=0;break t}break;default:H=Dt,Dt=0,He=null,xs(t,_,R,H)}}xx(),p=Zt;break}catch(F){Wd(t,F)}while(!0);return i&&t.shellSuspendCounter++,Mi=Mn=null,Rt=l,b.H=c,b.A=f,vt===null&&(Ht=null,At=0,ol()),p}function xx(){for(;vt!==null;)n0(vt)}function bx(t,i){var n=Rt;Rt|=2;var l=e0(),c=i0();Ht!==t||At!==i?(ql=null,Yl=Oe()+500,ps(t,i)):ms=Ds(t,i);t:do try{if(Dt!==0&&vt!==null){i=vt;var f=He;e:switch(Dt){case 1:Dt=0,He=null,xs(t,i,f,1);break;case 2:case 9:if(df(f)){Dt=0,He=null,s0(i);break}i=function(){Dt!==2&&Dt!==9||Ht!==t||(Dt=7),ci(t)},f.then(i,i);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:df(f)?(Dt=0,He=null,s0(i)):(Dt=0,He=null,xs(t,i,f,7));break;case 5:var p=null;switch(vt.tag){case 26:p=vt.memoizedState;case 5:case 27:var _=vt;if(p?X0(p):_.stateNode.complete){Dt=0,He=null;var R=_.sibling;if(R!==null)vt=R;else{var H=_.return;H!==null?(vt=H,Vl(H)):vt=null}break e}}Dt=0,He=null,xs(t,i,f,5);break;case 6:Dt=0,He=null,xs(t,i,f,6);break;case 8:po(),Zt=6;break t;default:throw Error(a(462))}}vx();break}catch(F){Wd(t,F)}while(!0);return Mi=Mn=null,b.H=l,b.A=c,Rt=n,vt!==null?0:(Ht=null,At=0,ol(),Zt)}function vx(){for(;vt!==null&&!Xg();)n0(vt)}function n0(t){var i=Cd(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?Vl(t):vt=i}function s0(t){var i=t,n=i.alternate;switch(i.tag){case 15:case 0:i=_d(n,i,i.pendingProps,i.type,void 0,At);break;case 11:i=_d(n,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:Ou(i);default:Rd(n,i),i=vt=ef(i,Gi),i=Cd(n,i,Gi)}t.memoizedProps=t.pendingProps,i===null?Vl(t):vt=i}function xs(t,i,n,l){Mi=Mn=null,Ou(i),rs=null,Ks=0;var c=i.return;try{if(ux(t,c,i,n,At)){Zt=1,Nl(t,Ze(n,t.current)),vt=null;return}}catch(f){if(c!==null)throw vt=c,f;Zt=1,Nl(t,Ze(n,t.current)),vt=null;return}i.flags&32768?(Mt||l===1?t=!0:ms||(At&536870912)!==0?t=!1:(en=t=!0,(l===2||l===9||l===3||l===6)&&(l=je.current,l!==null&&l.tag===13&&(l.flags|=16384))),a0(i,t)):Vl(i)}function Vl(t){var i=t;do{if((i.flags&32768)!==0){a0(i,en);return}t=i.return;var n=hx(i.alternate,i,Gi);if(n!==null){vt=n;return}if(i=i.sibling,i!==null){vt=i;return}vt=i=t}while(i!==null);Zt===0&&(Zt=5)}function a0(t,i){do{var n=fx(t.alternate,t);if(n!==null){n.flags&=32767,vt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!i&&(t=t.sibling,t!==null)){vt=t;return}vt=t=n}while(t!==null);Zt=6,vt=null}function l0(t,i,n,l,c,f,p,_,R){t.cancelPendingCommit=null;do Pl();while(ne!==0);if((Rt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=au,Wg(t,n,f,p,_,R),t===Ht&&(vt=Ht=null,At=0),gs=i,an=t,Ui=n,mo=f,yo=c,$d=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tx(Qa,function(){return h0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=b.T,b.T=null,c=T.p,T.p=2,p=Rt,Rt|=4;try{dx(t,i,n)}finally{Rt=p,T.p=c,b.T=l}}ne=1,r0(),u0(),o0()}}function r0(){if(ne===1){ne=0;var t=an,i=gs,n=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||n){n=b.T,b.T=null;var l=T.p;T.p=2;var c=Rt;Rt|=4;try{qd(i,t);var f=zo,p=Fh(t.containerInfo),_=f.focusedElem,R=f.selectionRange;if(p!==_&&_&&_.ownerDocument&&Ph(_.ownerDocument.documentElement,_)){if(R!==null&&tu(_)){var H=R.start,F=R.end;if(F===void 0&&(F=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(F,_.value.length);else{var K=_.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var V=q.getSelection(),st=_.textContent.length,ot=Math.min(R.start,st),kt=R.end===void 0?ot:Math.min(R.end,st);!V.extend&&ot>kt&&(p=kt,kt=ot,ot=p);var D=Vh(_,ot),O=Vh(_,kt);if(D&&O&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==O.node||V.focusOffset!==O.offset)){var k=K.createRange();k.setStart(D.node,D.offset),V.removeAllRanges(),ot>kt?(V.addRange(k),V.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),V.addRange(k))}}}}for(K=[],V=_;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<K.length;_++){var Z=K[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nr=!!Ro,zo=Ro=null}finally{Rt=c,T.p=l,b.T=n}}t.current=i,ne=2}}function u0(){if(ne===2){ne=0;var t=an,i=gs,n=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||n){n=b.T,b.T=null;var l=T.p;T.p=2;var c=Rt;Rt|=4;try{Ud(t,i.alternate,i)}finally{Rt=c,T.p=l,b.T=n}}ne=3}}function o0(){if(ne===4||ne===3){ne=0,Vg();var t=an,i=gs,n=Ui,l=$d;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ne=5:(ne=0,gs=an=null,c0(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(sn=null),Gr(n),i=i.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Os,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=b.T,c=T.p,T.p=2,b.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var _=l[p];f(_.value,{componentStack:_.stack})}}finally{b.T=i,T.p=c}}(Ui&3)!==0&&Pl(),ci(t),c=t.pendingLanes,(n&261930)!==0&&(c&42)!==0?t===go?da++:(da=0,go=t):da=0,ma(0)}}function c0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zs(i)))}function Pl(){return r0(),u0(),o0(),h0()}function h0(){if(ne!==5)return!1;var t=an,i=mo;mo=0;var n=Gr(Ui),l=b.T,c=T.p;try{T.p=32>n?32:n,b.T=null,n=yo,yo=null;var f=an,p=Ui;if(ne=0,gs=an=null,Ui=0,(Rt&6)!==0)throw Error(a(331));var _=Rt;if(Rt|=4,Fd(f.current),Xd(f,f.current,p,n),Rt=_,ma(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Os,f)}catch{}return!0}finally{T.p=c,b.T=l,c0(t,i)}}function f0(t,i,n){i=Ze(n,i),i=Qu(t.stateNode,i,2),t=Ii(t,i,2),t!==null&&(Bs(t,2),ci(t))}function Bt(t,i,n){if(t.tag===3)f0(t,t,n);else for(;i!==null;){if(i.tag===3){f0(i,t,n);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sn===null||!sn.has(l))){t=Ze(n,t),n=dd(2),l=Ii(i,n,2),l!==null&&(md(n,l,i,t),Bs(l,2),ci(l));break}}i=i.return}}function bo(t,i,n){var l=t.pingCache;if(l===null){l=t.pingCache=new gx;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(n)||(co=!0,c.add(n),t=_x.bind(null,t,i,n),i.then(t,t))}function _x(t,i,n){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ht===t&&(At&n)===n&&(Zt===4||Zt===3&&(At&62914560)===At&&300>Oe()-Hl?(Rt&2)===0&&ps(t,0):ho|=n,ys===At&&(ys=0)),ci(t)}function d0(t,i){i===0&&(i=lh()),t=Sn(t,i),t!==null&&(Bs(t,i),ci(t))}function Sx(t){var i=t.memoizedState,n=0;i!==null&&(n=i.retryLane),d0(t,n)}function Ax(t,i){var n=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),d0(t,n)}function Tx(t,i){return Nr(t,i)}var Fl=null,bs=null,vo=!1,Ql=!1,_o=!1,rn=0;function ci(t){t!==bs&&t.next===null&&(bs===null?Fl=bs=t:bs=bs.next=t),Ql=!0,vo||(vo=!0,Ex())}function ma(t,i){if(!_o&&Ql){_o=!0;do for(var n=!1,l=Fl;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(p&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,p0(l,f))}else f=At,f=Ia(l,l===Ht?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ds(l,f)||(n=!0,p0(l,f));l=l.next}while(n);_o=!1}}function Mx(){m0()}function m0(){Ql=vo=!1;var t=0;rn!==0&&Ux()&&(t=rn);for(var i=Oe(),n=null,l=Fl;l!==null;){var c=l.next,f=y0(l,i);f===0?(l.next=null,n===null?Fl=c:n.next=c,c===null&&(bs=n)):(n=l,(t!==0||(f&3)!==0)&&(Ql=!0)),l=c}ne!==0&&ne!==5||ma(t),rn!==0&&(rn=0)}function y0(t,i){for(var n=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Be(f),_=1<<p,R=c[p];R===-1?((_&n)===0||(_&l)!==0)&&(c[p]=Jg(_,i)):R<=i&&(t.expiredLanes|=_),f&=~_}if(i=Ht,n=At,n=Ia(t,t===i?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,n===0||t===i&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ds(t,n)){if(i=n&-n,i===t.callbackPriority)return i;switch(l!==null&&Or(l),Gr(n)){case 2:case 8:n=sh;break;case 32:n=Qa;break;case 268435456:n=ah;break;default:n=Qa}return l=g0.bind(null,t),n=Nr(n,l),t.callbackPriority=i,t.callbackNode=n,i}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function g0(t,i){if(ne!==0&&ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Pl()&&t.callbackNode!==n)return null;var l=At;return l=Ia(t,t===Ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Id(t,l,i),y0(t,Oe()),t.callbackNode!=null&&t.callbackNode===n?g0.bind(null,t):null)}function p0(t,i){if(Pl())return null;Id(t,i,!0)}function Ex(){kx(function(){(Rt&6)!==0?Nr(nh,Mx):m0()})}function So(){if(rn===0){var t=ss;t===0&&(t=Za,Za<<=1,(Za&261888)===0&&(Za=256)),rn=t}return rn}function x0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:el(""+t)}function b0(t,i){var n=i.ownerDocument.createElement("input");return n.name=i.name,n.value=i.value,t.id&&n.setAttribute("form",t.id),i.parentNode.insertBefore(n,i),t=new FormData(t),n.parentNode.removeChild(n),t}function Cx(t,i,n,l,c){if(i==="submit"&&n&&n.stateNode===c){var f=x0((c[Ae]||null).action),p=l.submitter;p&&(i=(i=p[Ae]||null)?x0(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var _=new al("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rn!==0){var R=p?b0(c,p):new FormData(c);qu(n,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(_.preventDefault(),R=p?b0(c,p):new FormData(c),qu(n,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Ao=0;Ao<su.length;Ao++){var To=su[Ao],wx=To.toLowerCase(),Rx=To[0].toUpperCase()+To.slice(1);ni(wx,"on"+Rx)}ni($h,"onAnimationEnd"),ni(Kh,"onAnimationIteration"),ni(Ih,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Pp,"onTransitionRun"),ni(Fp,"onTransitionStart"),ni(Qp,"onTransitionCancel"),ni(Jh,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function v0(t,i){i=(i&4)!==0;for(var n=0;n<t.length;n++){var l=t[n],c=l.event;l=l.listeners;t:{var f=void 0;if(i)for(var p=l.length-1;0<=p;p--){var _=l[p],R=_.instance,H=_.currentTarget;if(_=_.listener,R!==f&&c.isPropagationStopped())break t;f=_,c.currentTarget=H;try{f(c)}catch(F){ul(F)}c.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(_=l[p],R=_.instance,H=_.currentTarget,_=_.listener,R!==f&&c.isPropagationStopped())break t;f=_,c.currentTarget=H;try{f(c)}catch(F){ul(F)}c.currentTarget=null,f=R}}}}function _t(t,i){var n=i[Ur];n===void 0&&(n=i[Ur]=new Set);var l=t+"__bubble";n.has(l)||(_0(i,t,2,!1),n.add(l))}function Mo(t,i,n){var l=0;i&&(l|=4),_0(n,t,l,i)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Eo(t){if(!t[Zl]){t[Zl]=!0,dh.forEach(function(n){n!=="selectionchange"&&(zx.has(n)||Mo(n,!1,t),Mo(n,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zl]||(i[Zl]=!0,Mo("selectionchange",!1,i))}}function _0(t,i,n,l){switch(K0(i)){case 2:var c=s1;break;case 8:c=a1;break;default:c=qo}n=c.bind(null,i,n,t),c=void 0,!Pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(i,n,{capture:!0,passive:c}):t.addEventListener(i,n,!0):c!==void 0?t.addEventListener(i,n,{passive:c}):t.addEventListener(i,n,!1)}function Co(t,i,n,l,c){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=qn(_),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}_=_.parentNode}}l=l.return}Mh(function(){var H=f,F=Xr(n),K=[];t:{var q=Wh.get(t);if(q!==void 0){var V=al,st=t;switch(t){case"keypress":if(nl(n)===0)break t;case"keydown":case"keyup":V=Ap;break;case"focusin":st="focus",V=$r;break;case"focusout":st="blur",V=$r;break;case"beforeblur":case"afterblur":V=$r;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ep;break;case $h:case Kh:case Ih:V=mp;break;case Jh:V=wp;break;case"scroll":case"scrollend":V=op;break;case"wheel":V=zp;break;case"copy":case"cut":case"paste":V=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=zh;break;case"toggle":case"beforetoggle":V=Op}var ot=(i&4)!==0,kt=!ot&&(t==="scroll"||t==="scrollend"),D=ot?q!==null?q+"Capture":null:q;ot=[];for(var O=H,k;O!==null;){var Z=O;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||D===null||(Z=js(O,D),Z!=null&&ot.push(ga(O,Z,k))),kt)break;O=O.return}0<ot.length&&(q=new V(q,st,null,n,F),K.push({event:q,listeners:ot}))}}if((i&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",q&&n!==Lr&&(st=n.relatedTarget||n.fromElement)&&(qn(st)||st[Yn]))break t;if((V||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,V?(st=n.relatedTarget||n.toElement,V=H,st=st?qn(st):null,st!==null&&(kt=o(st),ot=st.tag,st!==kt||ot!==5&&ot!==27&&ot!==6)&&(st=null)):(V=null,st=H),V!==st)){if(ot=wh,Z="onMouseLeave",D="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ot=zh,Z="onPointerLeave",D="onPointerEnter",O="pointer"),kt=V==null?q:Us(V),k=st==null?q:Us(st),q=new ot(Z,O+"leave",V,n,F),q.target=kt,q.relatedTarget=k,Z=null,qn(F)===H&&(ot=new ot(D,O+"enter",st,n,F),ot.target=k,ot.relatedTarget=kt,Z=ot),kt=Z,V&&st)e:{for(ot=Nx,D=V,O=st,k=0,Z=D;Z;Z=ot(Z))k++;Z=0;for(var ut=O;ut;ut=ot(ut))Z++;for(;0<k-Z;)D=ot(D),k--;for(;0<Z-k;)O=ot(O),Z--;for(;k--;){if(D===O||O!==null&&D===O.alternate){ot=D;break e}D=ot(D),O=ot(O)}ot=null}else ot=null;V!==null&&S0(K,q,V,ot,!1),st!==null&&kt!==null&&S0(K,kt,st,ot,!0)}}t:{if(q=H?Us(H):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var Ct=kh;else if(Uh(q))if(Hh)Ct=Lp;else{Ct=Yp;var lt=Hp}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&qr(H.elementType)&&(Ct=kh):Ct=qp;if(Ct&&(Ct=Ct(t,H))){jh(K,Ct,n,F);break t}lt&&lt(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Yr(q,"number",q.value)}switch(lt=H?Us(H):window,t){case"focusin":(Uh(lt)||lt.contentEditable==="true")&&(Kn=lt,eu=H,Ps=null);break;case"focusout":Ps=eu=Kn=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Qh(K,n,F);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":Qh(K,n,F)}var pt;if(Ir)t:{switch(t){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else $n?Bh(t,n)&&(Tt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Tt="onCompositionStart");Tt&&(Nh&&n.locale!=="ko"&&($n||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&$n&&(pt=Eh()):(Vi=F,Fr="value"in Vi?Vi.value:Vi.textContent,$n=!0)),lt=$l(H,Tt),0<lt.length&&(Tt=new Rh(Tt,t,null,n,F),K.push({event:Tt,listeners:lt}),pt?Tt.data=pt:(pt=Gh(n),pt!==null&&(Tt.data=pt)))),(pt=Bp?Gp(t,n):Up(t,n))&&(Tt=$l(H,"onBeforeInput"),0<Tt.length&&(lt=new Rh("onBeforeInput","beforeinput",null,n,F),K.push({event:lt,listeners:Tt}),lt.data=pt)),Cx(K,t,H,n,F)}v0(K,i)})}function ga(t,i,n){return{instance:t,listener:i,currentTarget:n}}function $l(t,i){for(var n=i+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=js(t,n),c!=null&&l.unshift(ga(t,c,f)),c=js(t,i),c!=null&&l.push(ga(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Nx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S0(t,i,n,l,c){for(var f=i._reactName,p=[];n!==null&&n!==l;){var _=n,R=_.alternate,H=_.stateNode;if(_=_.tag,R!==null&&R===l)break;_!==5&&_!==26&&_!==27||H===null||(R=H,c?(H=js(n,f),H!=null&&p.unshift(ga(n,H,R))):c||(H=js(n,f),H!=null&&p.push(ga(n,H,R)))),n=n.return}p.length!==0&&t.push({event:i,listeners:p})}var Ox=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(Ox,`
`).replace(Dx,"")}function T0(t,i){return i=A0(i),A0(t)===i}function jt(t,i,n,l,c,f){switch(n){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fn(t,""+l);break;case"className":Wa(t,"class",l);break;case"tabIndex":Wa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wa(t,n,l);break;case"style":Ah(t,l,f);break;case"data":if(i!=="object"){Wa(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||n!=="href")){t.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(n);break}l=el(""+l),t.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(i!=="input"&&jt(t,i,"name",c.name,c,null),jt(t,i,"formEncType",c.formEncType,c,null),jt(t,i,"formMethod",c.formMethod,c,null),jt(t,i,"formTarget",c.formTarget,c,null)):(jt(t,i,"encType",c.encType,c,null),jt(t,i,"method",c.method,c,null),jt(t,i,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(n);break}l=el(""+l),t.setAttribute(n,l);break;case"onClick":l!=null&&(t.onclick=_i);break;case"onScroll":l!=null&&_t("scroll",t);break;case"onScrollEnd":l!=null&&_t("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=n}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}n=el(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,""+l):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":l===!0?t.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,l):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(n,l):t.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(n):t.setAttribute(n,l);break;case"popover":_t("beforetoggle",t),_t("toggle",t),Ja(t,"popover",l);break;case"xlinkActuate":vi(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vi(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vi(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vi(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vi(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vi(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vi(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ja(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rp.get(n)||n,Ja(t,n,l))}}function wo(t,i,n,l,c,f){switch(n){case"style":Ah(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=n}}break;case"children":typeof l=="string"?Fn(t,l):(typeof l=="number"||typeof l=="bigint")&&Fn(t,""+l);break;case"onScroll":l!=null&&_t("scroll",t);break;case"onScrollEnd":l!=null&&_t("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mh.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),i=n.slice(2,c?n.length-7:void 0),f=t[Ae]||null,f=f!=null?f[n]:null,typeof f=="function"&&t.removeEventListener(i,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(i,l,c);break t}n in t?t[n]=l:l===!0?t.setAttribute(n,""):Ja(t,n,l)}}}function ge(t,i,n){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",t),_t("load",t);var l=!1,c=!1,f;for(f in n)if(n.hasOwnProperty(f)){var p=n[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(t,i,f,p,n,null)}}c&&jt(t,i,"srcSet",n.srcSet,n,null),l&&jt(t,i,"src",n.src,n,null);return;case"input":_t("invalid",t);var _=f=p=c=null,R=null,H=null;for(l in n)if(n.hasOwnProperty(l)){var F=n[l];if(F!=null)switch(l){case"name":c=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":H=F;break;case"value":f=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:jt(t,i,l,F,n,null)}}bh(t,f,_,R,H,p,c,!1);return;case"select":_t("invalid",t),l=p=f=null;for(c in n)if(n.hasOwnProperty(c)&&(_=n[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":l=_;default:jt(t,i,c,_,n,null)}i=f,n=p,t.multiple=!!l,i!=null?Pn(t,!!l,i,!1):n!=null&&Pn(t,!!l,n,!0);return;case"textarea":_t("invalid",t),f=c=l=null;for(p in n)if(n.hasOwnProperty(p)&&(_=n[p],_!=null))switch(p){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:jt(t,i,p,_,n,null)}_h(t,l,c,f);return;case"option":for(R in n)if(n.hasOwnProperty(R)&&(l=n[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:jt(t,i,R,l,n,null)}return;case"dialog":_t("beforetoggle",t),_t("toggle",t),_t("cancel",t),_t("close",t);break;case"iframe":case"object":_t("load",t);break;case"video":case"audio":for(l=0;l<ya.length;l++)_t(ya[l],t);break;case"image":_t("error",t),_t("load",t);break;case"details":_t("toggle",t);break;case"embed":case"source":case"link":_t("error",t),_t("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in n)if(n.hasOwnProperty(H)&&(l=n[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(t,i,H,l,n,null)}return;default:if(qr(i)){for(F in n)n.hasOwnProperty(F)&&(l=n[F],l!==void 0&&wo(t,i,F,l,n,void 0));return}}for(_ in n)n.hasOwnProperty(_)&&(l=n[_],l!=null&&jt(t,i,_,l,n,null))}function Bx(t,i,n,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,_=null,R=null,H=null,F=null;for(V in n){var K=n[V];if(n.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(V)||jt(t,i,V,null,l,K)}}for(var q in l){var V=l[q];if(K=n[q],l.hasOwnProperty(q)&&(V!=null||K!=null))switch(q){case"type":f=V;break;case"name":c=V;break;case"checked":H=V;break;case"defaultChecked":F=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,i));break;default:V!==K&&jt(t,i,q,V,l,K)}}Hr(t,p,_,R,H,F,f,c);return;case"select":V=p=_=q=null;for(f in n)if(R=n[f],n.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":V=R;default:l.hasOwnProperty(f)||jt(t,i,f,null,l,R)}for(c in l)if(f=l[c],R=n[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":q=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==R&&jt(t,i,c,f,l,R)}i=_,n=p,l=V,q!=null?Pn(t,!!n,q,!1):!!l!=!!n&&(i!=null?Pn(t,!!n,i,!0):Pn(t,!!n,n?[]:"",!1));return;case"textarea":V=q=null;for(_ in n)if(c=n[_],n.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:jt(t,i,_,null,l,c)}for(p in l)if(c=l[p],f=n[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":q=c;break;case"defaultValue":V=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&jt(t,i,p,c,l,f)}vh(t,q,V);return;case"option":for(var st in n)if(q=n[st],n.hasOwnProperty(st)&&q!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:jt(t,i,st,null,l,q)}for(R in l)if(q=l[R],V=n[R],l.hasOwnProperty(R)&&q!==V&&(q!=null||V!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:jt(t,i,R,q,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in n)q=n[ot],n.hasOwnProperty(ot)&&q!=null&&!l.hasOwnProperty(ot)&&jt(t,i,ot,null,l,q);for(H in l)if(q=l[H],V=n[H],l.hasOwnProperty(H)&&q!==V&&(q!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:jt(t,i,H,q,l,V)}return;default:if(qr(i)){for(var kt in n)q=n[kt],n.hasOwnProperty(kt)&&q!==void 0&&!l.hasOwnProperty(kt)&&wo(t,i,kt,void 0,l,q);for(F in l)q=l[F],V=n[F],!l.hasOwnProperty(F)||q===V||q===void 0&&V===void 0||wo(t,i,F,q,l,V);return}}for(var D in n)q=n[D],n.hasOwnProperty(D)&&q!=null&&!l.hasOwnProperty(D)&&jt(t,i,D,null,l,q);for(K in l)q=l[K],V=n[K],!l.hasOwnProperty(K)||q===V||q==null&&V==null||jt(t,i,K,q,l,V)}function M0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],f=c.transferSize,p=c.initiatorType,_=c.duration;if(f&&_&&M0(p)){for(p=0,_=c.responseEnd,l+=1;l<n.length;l++){var R=n[l],H=R.startTime;if(H>_)break;var F=R.transferSize,K=R.initiatorType;F&&M0(K)&&(R=R.responseEnd,p+=F*(R<_?1:(_-H)/(R-H)))}if(--l,i+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ro=null,zo=null;function Kl(t){return t.nodeType===9?t:t.ownerDocument}function E0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function No(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Oo=null;function Ux(){var t=window.event;return t&&t.type==="popstate"?t===Oo?!1:(Oo=t,!0):(Oo=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(t){return R0.resolve(null).then(t).catch(Hx)}:w0;function Hx(t){setTimeout(function(){throw t})}function un(t){return t==="head"}function z0(t,i){var n=i,l=0;do{var c=n.nextSibling;if(t.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){t.removeChild(c),As(i);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")pa(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,pa(n);for(var f=n.firstChild;f;){var p=f.nextSibling,_=f.nodeName;f[Gs]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=p}}else n==="body"&&pa(t.ownerDocument.body);n=c}while(n);As(i)}function N0(t,i){var n=t;t=0;do{var l=n.nextSibling;if(n.nodeType===1?i?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(i?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=l}while(n)}function Do(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var n=i;switch(i=i.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Do(n),jr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Yx(t,i,n,l){for(;t.nodeType===1;){var c=n;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=We(t.nextSibling),t===null)break}return null}function qx(t,i,n){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=We(t.nextSibling),t===null))return null;return t}function O0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=We(t.nextSibling),t===null))return null;return t}function Bo(t){return t.data==="$?"||t.data==="$~"}function Go(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lx(t,i){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||n.readyState!=="loading")i();else{var l=function(){i(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function We(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Uo=null;function D0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(i===0)return We(t.nextSibling);i--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||i++}t=t.nextSibling}return null}function B0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(i===0)return t;i--}else n!=="/$"&&n!=="/&"||i++}t=t.previousSibling}return null}function G0(t,i,n){switch(i=Kl(n),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function pa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);jr(t)}var ti=new Map,U0=new Set;function Il(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=T.d;T.d={f:Xx,r:Vx,D:Px,C:Fx,L:Qx,m:Zx,X:Kx,S:$x,M:Ix};function Xx(){var t=ji.f(),i=Ll();return t||i}function Vx(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?Wf(i):ji.r(t)}var vs=typeof document>"u"?null:document;function j0(t,i,n){var l=vs;if(l&&typeof i=="string"&&i){var c=Fe(i);c='link[rel="'+t+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),U0.has(c)||(U0.add(c),t={rel:t,crossOrigin:n,href:i},l.querySelector(c)===null&&(i=l.createElement("link"),ge(i,"link",t),re(i),l.head.appendChild(i)))}}function Px(t){ji.D(t),j0("dns-prefetch",t,null)}function Fx(t,i){ji.C(t,i),j0("preconnect",t,i)}function Qx(t,i,n){ji.L(t,i,n);var l=vs;if(l&&t&&i){var c='link[rel="preload"][as="'+Fe(i)+'"]';i==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Fe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Fe(n.imageSizes)+'"]')):c+='[href="'+Fe(t)+'"]';var f=c;switch(i){case"style":f=_s(t);break;case"script":f=Ss(t)}ti.has(f)||(t=x({rel:"preload",href:i==="image"&&n&&n.imageSrcSet?void 0:t,as:i},n),ti.set(f,t),l.querySelector(c)!==null||i==="style"&&l.querySelector(xa(f))||i==="script"&&l.querySelector(ba(f))||(i=l.createElement("link"),ge(i,"link",t),re(i),l.head.appendChild(i)))}}function Zx(t,i){ji.m(t,i);var n=vs;if(n&&t){var l=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+Fe(l)+'"][href="'+Fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ss(t)}if(!ti.has(f)&&(t=x({rel:"modulepreload",href:t},i),ti.set(f,t),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ba(f)))return}l=n.createElement("link"),ge(l,"link",t),re(l),n.head.appendChild(l)}}}function $x(t,i,n){ji.S(t,i,n);var l=vs;if(l&&t){var c=Xn(l).hoistableStyles,f=_s(t);i=i||"default";var p=c.get(f);if(!p){var _={loading:0,preload:null};if(p=l.querySelector(xa(f)))_.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},n),(n=ti.get(f))&&jo(t,n);var R=p=l.createElement("link");re(R),ge(R,"link",t),R._p=new Promise(function(H,F){R.onload=H,R.onerror=F}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Jl(p,i,l)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(f,p)}}}function Kx(t,i){ji.X(t,i);var n=vs;if(n&&t){var l=Xn(n).hoistableScripts,c=Ss(t),f=l.get(c);f||(f=n.querySelector(ba(c)),f||(t=x({src:t,async:!0},i),(i=ti.get(c))&&ko(t,i),f=n.createElement("script"),re(f),ge(f,"link",t),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ix(t,i){ji.M(t,i);var n=vs;if(n&&t){var l=Xn(n).hoistableScripts,c=Ss(t),f=l.get(c);f||(f=n.querySelector(ba(c)),f||(t=x({src:t,async:!0,type:"module"},i),(i=ti.get(c))&&ko(t,i),f=n.createElement("script"),re(f),ge(f,"link",t),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function k0(t,i,n,l){var c=(c=nt.current)?Il(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(i=_s(n.href),n=Xn(c).hoistableStyles,l=n.get(i),l||(l={type:"style",instance:null,count:0,state:null},n.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=_s(n.href);var f=Xn(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(xa(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ti.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ti.set(t,n),f||Jx(c,t,n,p.state))),i&&l===null)throw Error(a(528,""));return p}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=n.async,n=n.src,typeof n=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ss(n),n=Xn(c).hoistableScripts,l=n.get(i),l||(l={type:"script",instance:null,count:0,state:null},n.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function _s(t){return'href="'+Fe(t)+'"'}function xa(t){return'link[rel="stylesheet"]['+t+"]"}function H0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Jx(t,i,n,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ge(i,"link",n),re(i),t.head.appendChild(i))}function Ss(t){return'[src="'+Fe(t)+'"]'}function ba(t){return"script[async]"+t}function Y0(t,i,n){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Fe(n.href)+'"]');if(l)return i.instance=l,re(l),l;var c=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),re(l),ge(l,"style",c),Jl(l,n.precedence,t),i.instance=l;case"stylesheet":c=_s(n.href);var f=t.querySelector(xa(c));if(f)return i.state.loading|=4,i.instance=f,re(f),f;l=H0(n),(c=ti.get(c))&&jo(l,c),f=(t.ownerDocument||t).createElement("link"),re(f);var p=f;return p._p=new Promise(function(_,R){p.onload=_,p.onerror=R}),ge(f,"link",l),i.state.loading|=4,Jl(f,n.precedence,t),i.instance=f;case"script":return f=Ss(n.src),(c=t.querySelector(ba(f)))?(i.instance=c,re(c),c):(l=n,(c=ti.get(f))&&(l=x({},n),ko(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),re(c),ge(c,"link",l),t.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jl(l,n.precedence,t));return i.instance}function Jl(t,i,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var _=l[p];if(_.dataset.precedence===i)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=n.nodeType===9?n.head:n,i.insertBefore(t,i.firstChild))}function jo(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ko(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wl=null;function q0(t,i,n){if(Wl===null){var l=new Map,c=Wl=new Map;c.set(n,l)}else c=Wl,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(t))return l;for(l.set(t,null),n=n.getElementsByTagName(t),c=0;c<n.length;c++){var f=n[c];if(!(f[Gs]||f[fe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=t+p;var _=l.get(p);_?_.push(f):l.set(p,[f])}}return l}function L0(t,i,n){t=t.ownerDocument||t,t.head.insertBefore(n,i==="title"?t.querySelector("head > title"):null)}function Wx(t,i,n){if(n===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function t1(t,i,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=_s(l.href),f=i.querySelector(xa(c));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=tr.bind(t),i.then(t,t)),n.state.loading|=4,n.instance=f,re(f);return}f=i.ownerDocument||i,l=H0(l),(c=ti.get(c))&&jo(l,c),f=f.createElement("link"),re(f);var p=f;p._p=new Promise(function(_,R){p.onload=_,p.onerror=R}),ge(f,"link",l),n.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=tr.bind(t),i.addEventListener("load",n),i.addEventListener("error",n))}}var Ho=0;function e1(t,i){return t.stylesheets&&t.count===0&&ir(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var l=setTimeout(function(){if(t.stylesheets&&ir(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Ho===0&&(Ho=62500*Gx());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ir(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ho?50:800)+i);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ir(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var er=null;function ir(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,er=new Map,i.forEach(i1,t),er=null,tr.call(t))}function i1(t,i){if(!(i.state.loading&4)){var n=er.get(t);if(n)var l=n.get(null);else{n=new Map,er.set(t,n);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}c=i.instance,p=c.getAttribute("data-precedence"),f=n.get(p)||l,f===l&&n.set(null,c),n.set(p,c),this.count++,l=tr.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),i.state.loading|=4}}var va={$$typeof:Y,Provider:null,Consumer:null,_currentValue:w,_currentValue2:w,_threadCount:0};function n1(t,i,n,l,c,f,p,_,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V0(t,i,n,l,c,f,p,_,R,H,F,K){return t=new n1(t,i,n,p,R,H,F,K,_),i=1,f===!0&&(i|=24),f=Ue(3,null,null,i),t.current=f,f.stateNode=t,i=pu(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:n,cache:i},_u(f),t}function P0(t){return t?(t=Wn,t):Wn}function F0(t,i,n,l,c,f){c=P0(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(i),l.payload={element:n},f=f===void 0?null:f,f!==null&&(l.callback=f),n=Ii(t,l,i),n!==null&&(Re(n,t,i),Js(n,t,i))}function Q0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<i?n:i}}function Yo(t,i){Q0(t,i),(t=t.alternate)&&Q0(t,i)}function Z0(t){if(t.tag===13||t.tag===31){var i=Sn(t,67108864);i!==null&&Re(i,t,67108864),Yo(t,67108864)}}function $0(t){if(t.tag===13||t.tag===31){var i=qe();i=Br(i);var n=Sn(t,i);n!==null&&Re(n,t,i),Yo(t,i)}}var nr=!0;function s1(t,i,n,l){var c=b.T;b.T=null;var f=T.p;try{T.p=2,qo(t,i,n,l)}finally{T.p=f,b.T=c}}function a1(t,i,n,l){var c=b.T;b.T=null;var f=T.p;try{T.p=8,qo(t,i,n,l)}finally{T.p=f,b.T=c}}function qo(t,i,n,l){if(nr){var c=Lo(l);if(c===null)Co(t,i,l,sr,n),I0(t,l);else if(r1(c,t,i,n,l))l.stopPropagation();else if(I0(t,l),i&4&&-1<l1.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pn(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var R=1<<31-Be(p);_.entanglements[1]|=R,p&=~R}ci(f),(Rt&6)===0&&(Yl=Oe()+500,ma(0))}}break;case 31:case 13:_=Sn(f,2),_!==null&&Re(_,f,2),Ll(),Yo(f,2)}if(f=Lo(l),f===null&&Co(t,i,l,sr,n),f===c)break;c=f}c!==null&&l.stopPropagation()}else Co(t,i,l,null,n)}}function Lo(t){return t=Xr(t),Xo(t)}var sr=null;function Xo(t){if(sr=null,t=qn(t),t!==null){var i=o(t);if(i===null)t=null;else{var n=i.tag;if(n===13){if(t=h(i),t!==null)return t;t=null}else if(n===31){if(t=d(i),t!==null)return t;t=null}else if(n===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sr=t,null}function K0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pg()){case nh:return 2;case sh:return 8;case Qa:case Fg:return 32;case ah:return 268435456;default:return 32}default:return 32}}var Vo=!1,on=null,cn=null,hn=null,_a=new Map,Sa=new Map,fn=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,i){switch(t){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":_a.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(i.pointerId)}}function Aa(t,i,n,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:n,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},i!==null&&(i=Ln(i),i!==null&&Z0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function r1(t,i,n,l,c){switch(i){case"focusin":return on=Aa(on,t,i,n,l,c),!0;case"dragenter":return cn=Aa(cn,t,i,n,l,c),!0;case"mouseover":return hn=Aa(hn,t,i,n,l,c),!0;case"pointerover":var f=c.pointerId;return _a.set(f,Aa(_a.get(f)||null,t,i,n,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Sa.set(f,Aa(Sa.get(f)||null,t,i,n,l,c)),!0}return!1}function J0(t){var i=qn(t.target);if(i!==null){var n=o(i);if(n!==null){if(i=n.tag,i===13){if(i=h(n),i!==null){t.blockedOn=i,hh(t.priority,function(){$0(n)});return}}else if(i===31){if(i=d(n),i!==null){t.blockedOn=i,hh(t.priority,function(){$0(n)});return}}else if(i===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ar(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var n=Lo(t.nativeEvent);if(n===null){n=t.nativeEvent;var l=new n.constructor(n.type,n);Lr=l,n.target.dispatchEvent(l),Lr=null}else return i=Ln(n),i!==null&&Z0(i),t.blockedOn=n,!1;i.shift()}return!0}function W0(t,i,n){ar(t)&&n.delete(i)}function u1(){Vo=!1,on!==null&&ar(on)&&(on=null),cn!==null&&ar(cn)&&(cn=null),hn!==null&&ar(hn)&&(hn=null),_a.forEach(W0),Sa.forEach(W0)}function lr(t,i){t.blockedOn===i&&(t.blockedOn=null,Vo||(Vo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u1)))}var rr=null;function tm(t){rr!==t&&(rr=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rr===t&&(rr=null);for(var i=0;i<t.length;i+=3){var n=t[i],l=t[i+1],c=t[i+2];if(typeof l!="function"){if(Xo(l||n)===null)continue;break}var f=Ln(n);f!==null&&(t.splice(i,3),i-=3,qu(f,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function As(t){function i(R){return lr(R,t)}on!==null&&lr(on,t),cn!==null&&lr(cn,t),hn!==null&&lr(hn,t),_a.forEach(i),Sa.forEach(i);for(var n=0;n<fn.length;n++){var l=fn[n];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)J0(n),n.blockedOn===null&&fn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],f=n[l+1],p=c[Ae]||null;if(typeof f=="function")p||tm(n);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Ae]||null)_=p.formAction;else if(Xo(c)!==null)continue}else _=p.action;typeof _=="function"?n[l+1]=_:(n.splice(l,3),l-=3),tm(n)}}}function em(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function Po(t){this._internalRoot=t}ur.prototype.render=Po.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var n=i.current,l=qe();F0(n,l,t,i,null,null)},ur.prototype.unmount=Po.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;F0(t.current,2,null,t,null,null),Ll(),i[Yn]=null}};function ur(t){this._internalRoot=t}ur.prototype.unstable_scheduleHydration=function(t){if(t){var i=ch();t={blockedOn:null,target:t,priority:i};for(var n=0;n<fn.length&&i!==0&&i<fn[n].priority;n++);fn.splice(n,0,t),n===0&&J0(t)}};var im=e.version;if(im!=="19.2.3")throw Error(a(527,im,"19.2.3"));T.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var o1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{Os=or.inject(o1),De=or}catch{}}return Ma.createRoot=function(t,i){if(!u(t))throw Error(a(299));var n=!1,l="",c=od,f=cd,p=hd;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=V0(t,1,!1,null,null,n,l,null,c,f,p,em),t[Yn]=i.current,Eo(t),new Po(i)},Ma.hydrateRoot=function(t,i,n){if(!u(t))throw Error(a(299));var l=!1,c="",f=od,p=cd,_=hd,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.formState!==void 0&&(R=n.formState)),i=V0(t,1,!0,i,n??null,l,c,R,f,p,_,em),i.context=P0(null),n=i.current,l=qe(),l=Br(l),c=Ki(l),c.callback=null,Ii(n,c,l),n=l,i.current.lanes=n,Bs(i,n),ci(i),t[Yn]=i.current,Eo(t),new ur(i)},Ma.version="19.2.3",Ma}var fm;function v1(){if(fm)return Zo.exports;fm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zo.exports=b1(),Zo.exports}var _1=v1();const S1=Xa(_1);var mn=(r=>(r[r.START=0]="START",r[r.PLAYING=1]="PLAYING",r[r.GAME_OVER=2]="GAME_OVER",r))(mn||{}),Hi=(r=>(r.EASY="EASY",r.NORMAL="NORMAL",r.HARD="HARD",r))(Hi||{}),I=(r=>(r[r.CHERRY=0]="CHERRY",r[r.STRAWBERRY=1]="STRAWBERRY",r[r.GRAPE=2]="GRAPE",r[r.CLEMENTINE=3]="CLEMENTINE",r[r.ORANGE=4]="ORANGE",r[r.APPLE=5]="APPLE",r[r.PINEAPPLE=6]="PINEAPPLE",r[r.COCONUT=7]="COCONUT",r[r.PUMPKIN=8]="PUMPKIN",r[r.WATERMELON=9]="WATERMELON",r[r.TOMATO=99]="TOMATO",r))(I||{});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),dm=r=>{const e=T1(r);return e.charAt(0).toUpperCase()+e.slice(1)},by=(...r)=>r.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),M1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Nt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:u="",children:o,iconNode:h,...d},m)=>Nt.createElement("svg",{ref:m,...E1,width:e,height:e,stroke:r,strokeWidth:a?Number(s)*24/Number(e):s,className:by("lucide",u),...!o&&!M1(d)&&{"aria-hidden":"true"},...d},[...h.map(([y,g])=>Nt.createElement(y,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=(r,e)=>{const s=Nt.forwardRef(({className:a,...u},o)=>Nt.createElement(C1,{ref:o,iconNode:e,className:by(`lucide-${A1(dm(r))}`,`lucide-${r}`,a),...u}));return s.displayName=dm(r),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vy=ii("clock",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_y=ii("house",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["path",{d:"m9 9 12-2",key:"1e64n2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Sy=ii("music-4",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ay=ii("music",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],D1=ii("pause",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ty=ii("play",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],My=ii("rotate-ccw",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Er=ii("trophy",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["path",{d:"M8 8v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2",key:"1hbad5"}],["path",{d:"M16 10.34V6c0-.55-.45-1-1-1h-4.34",key:"1x5tf0"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Ey=ii("vibrate-off",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],Cy=ii("vibrate",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],wy=ii("volume-2",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Ry=ii("volume-x",Y1),q1=({onStart:r,leaderboard:e,settings:s,onUpdateSettings:a})=>{const u=()=>a({...s,musicEnabled:!s.musicEnabled}),o=()=>a({...s,sfxEnabled:!s.sfxEnabled}),h=()=>a({...s,hapticsEnabled:!s.hapticsEnabled}),d=[...e].sort((m,y)=>y.score-m.score).slice(0,3);return N.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 z-20 text-center font-['Fredoka'] overflow-hidden",children:[N.jsxs("div",{className:"absolute top-[-20%] left-[-20%] w-[140%] h-[140%] pointer-events-none",children:[N.jsx("div",{className:"absolute top-[20%] left-[20%] w-64 h-64 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-float",style:{animationDuration:"8s"}}),N.jsx("div",{className:"absolute top-[30%] right-[20%] w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-float",style:{animationDuration:"10s",animationDelay:"2s"}}),N.jsx("div",{className:"absolute bottom-[20%] left-[30%] w-80 h-80 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-float",style:{animationDuration:"12s",animationDelay:"4s"}})]}),N.jsxs("div",{className:"relative bg-white/95 backdrop-blur-2xl border border-white/50 shadow-[0_20px_50px_rgba(0,0,0,0.15)] rounded-[3rem] p-8 w-full max-w-sm flex flex-col items-center",children:[N.jsxs("div",{className:"mb-6 relative",children:[N.jsxs("h1",{className:"text-6xl font-black text-gray-900 drop-shadow-sm tracking-tight leading-none",children:["FRUIT",N.jsx("br",{}),N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:"BOUNCE"})]}),N.jsx("div",{className:"absolute -right-6 -top-4 rotate-12 bg-white border border-gray-100 px-3 py-1 rounded-full text-xs font-bold text-orange-500 shadow-lg",children:"MERGE!"})]}),N.jsxs("div",{className:"mb-8 bg-slate-50 border border-slate-200 rounded-2xl p-4 shadow-inner w-full flex flex-col gap-2",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 uppercase tracking-widest text-xs font-bold mb-1",children:[N.jsx(Er,{size:14})," Top Ranking"]}),d.length===0?N.jsx("div",{className:"text-slate-400 italic text-sm py-2",children:"No scores yet!"}):d.map((m,y)=>N.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 border-b border-slate-100 last:border-0 pb-1 last:pb-0",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("span",{className:`${y===0?"text-yellow-500":"text-slate-400"}`,children:["#",y+1]}),N.jsx("span",{children:m.name})]}),N.jsx("span",{children:m.score.toLocaleString()})]},y))]}),N.jsxs("button",{onClick:()=>r(Hi.HARD),className:"group relative w-full bg-gradient-to-r from-emerald-400 to-green-500 hover:from-emerald-300 hover:to-green-400 text-white font-black text-2xl py-6 rounded-3xl shadow-[0_10px_20px_rgba(16,185,129,0.4)] transition-all transform active:scale-95 active:shadow-inner overflow-hidden mb-6",children:[N.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3 drop-shadow-md",children:[N.jsx(Ty,{size:32,fill:"currentColor"})," PLAY"]}),N.jsx("div",{className:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"})]}),N.jsxs("div",{className:"flex gap-3 w-full justify-center",children:[N.jsx("button",{onClick:u,className:`p-3 rounded-2xl shadow-md transition-all active:scale-95 flex justify-center items-center ${s.musicEnabled?"bg-blue-500 text-white hover:bg-blue-400":"bg-gray-200 text-gray-400 hover:bg-gray-300"}`,"aria-label":"Toggle Music",children:s.musicEnabled?N.jsx(Ay,{size:24}):N.jsx(Sy,{size:24})}),N.jsx("button",{onClick:o,className:`p-3 rounded-2xl shadow-md transition-all active:scale-95 flex justify-center items-center ${s.sfxEnabled?"bg-orange-500 text-white hover:bg-orange-400":"bg-gray-200 text-gray-400 hover:bg-gray-300"}`,"aria-label":"Toggle SFX",children:s.sfxEnabled?N.jsx(wy,{size:24}):N.jsx(Ry,{size:24})}),N.jsx("button",{onClick:h,className:`p-3 rounded-2xl shadow-md transition-all active:scale-95 flex justify-center items-center ${s.hapticsEnabled?"bg-purple-500 text-white hover:bg-purple-400":"bg-gray-200 text-gray-400 hover:bg-gray-300"}`,"aria-label":"Toggle Haptics",children:s.hapticsEnabled?N.jsx(Cy,{size:24}):N.jsx(Ey,{size:24})})]})]}),N.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2",children:[N.jsx("div",{className:"text-gray-500/60 text-sm font-bold",children:"v2026.2 Jens Madsen"}),N.jsx("div",{className:"text-gray-400 text-xs font-medium max-w-[250px] leading-tight",children:"For my bro who's also called Jens, you're fkn awesome!"})]})]})},yi={[I.CHERRY]:{tier:I.CHERRY,name:"Cherry",radius:22,mass:1,color:"#D32F2F",patternColor:"#B71C1C",emoji:[],bounciness:.4},[I.STRAWBERRY]:{tier:I.STRAWBERRY,name:"Strawberry",radius:32,mass:1,color:"#F44336",patternColor:"#D32F2F",emoji:[],bounciness:.4},[I.GRAPE]:{tier:I.GRAPE,name:"Grape",radius:42,mass:1,color:"#7B1FA2",patternColor:"#4A148C",emoji:[],bounciness:.4},[I.CLEMENTINE]:{tier:I.CLEMENTINE,name:"Clementine",radius:52,mass:1,color:"#FF9800",patternColor:"#EF6C00",emoji:[],bounciness:.4},[I.ORANGE]:{tier:I.ORANGE,name:"Orange",radius:65,mass:1,color:"#FF5722",patternColor:"#E64A19",emoji:[],bounciness:.4},[I.APPLE]:{tier:I.APPLE,name:"Apple",radius:80,mass:1,color:"#8BC34A",patternColor:"#689F38",emoji:[],bounciness:.4},[I.PINEAPPLE]:{tier:I.PINEAPPLE,name:"Pineapple",radius:95,mass:1,color:"#FDD835",patternColor:"#F9A825",emoji:[],bounciness:.4},[I.COCONUT]:{tier:I.COCONUT,name:"Coconut",radius:110,mass:1,color:"#795548",patternColor:"#4E342E",emoji:[],bounciness:.4},[I.PUMPKIN]:{tier:I.PUMPKIN,name:"Pumpkin",radius:130,mass:1,color:"#FF7043",patternColor:"#D84315",emoji:[],bounciness:.4},[I.WATERMELON]:{tier:I.WATERMELON,name:"Watermelon",radius:155,mass:1,color:"#4CAF50",patternColor:"#1B5E20",emoji:[],bounciness:.4},[I.TOMATO]:{tier:I.TOMATO,name:"Tomato",radius:45,mass:1,color:"#FF1744",patternColor:"#D50000",emoji:[],bounciness:.6}},Jo=.8,Wo=.98,mm={[Hi.EASY]:{gravity:Jo,friction:Wo,aimAssist:!0,spawnDelay:400,spawnTiers:[I.CHERRY,I.STRAWBERRY,I.GRAPE,I.CLEMENTINE]},[Hi.NORMAL]:{gravity:Jo,friction:Wo,aimAssist:!0,spawnDelay:500,spawnTiers:[I.CHERRY,I.STRAWBERRY,I.GRAPE]},[Hi.HARD]:{gravity:Jo,friction:Wo,aimAssist:!1,spawnDelay:600,spawnTiers:[I.CHERRY,I.STRAWBERRY]}},L1=10,cr=.99,ym=.5,X1=5e3,gm=.15,tc=.08,V1=2,P1=1e4,Ea=1500,zy="fruit_bounce_merge_v3",F1=({stats:r,isNewHigh:e,leaderboard:s,onRestart:a,onMenu:u,onSaveScore:o})=>{var z;const[h,d]=Nt.useState(""),[m,y]=Nt.useState(!1),g=()=>{h.trim().length>0&&(o(h.trim().substring(0,10)),y(!0))},x=M=>{const B=Math.floor(M/1e3),U=Math.floor(B/60),Y=B%60;return`${U}:${Y.toString().padStart(2,"0")}`},A=[...s].sort((M,B)=>B.score-M.score).slice(0,10),v=s.length>0?Math.max(...s.map(M=>M.score)):0,E=r.score>v;return N.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center p-6 z-30 text-white animate-fade-in font-['Fredoka']",children:N.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl border border-white/50 text-gray-800 rounded-[2.5rem] p-6 w-full max-w-lg text-center shadow-[0_20px_60px_rgba(0,0,0,0.3)] transform scale-100 animate-pop flex flex-col items-center max-h-[90vh] overflow-hidden",children:[N.jsx("h2",{className:"text-4xl font-black mb-2 text-red-500 drop-shadow-sm tracking-wide",children:"GAME OVER"}),e&&!m&&N.jsx("div",{className:"mb-2 w-full animate-bounce",children:N.jsxs("div",{className:`font-bold px-4 py-2 rounded-xl shadow-lg inline-flex items-center gap-2 ${E?"bg-gradient-to-r from-yellow-300 to-yellow-500 text-yellow-900":"bg-blue-100 text-blue-700"}`,children:[N.jsx(Er,{size:18,fill:"currentColor"}),E?"NEW RECORD!":"HIGH SCORE!"]})}),N.jsx("div",{className:"text-5xl font-black text-gray-900 mb-4 font-mono tracking-tighter drop-shadow-sm",children:r.score.toLocaleString()}),N.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4 w-full shrink-0",children:[N.jsxs("div",{className:"bg-slate-100 p-2 rounded-2xl flex flex-col items-center",children:[N.jsx("span",{className:"font-bold text-slate-400 uppercase text-[10px] tracking-wider mb-1",children:"Time"}),N.jsxs("span",{className:"text-lg font-black text-slate-700 flex items-center gap-1",children:[N.jsx(vy,{size:14})," ",x(r.timePlayed)]})]}),N.jsxs("div",{className:"bg-slate-100 p-2 rounded-2xl flex flex-col items-center",children:[N.jsx("span",{className:"font-bold text-slate-400 uppercase text-[10px] tracking-wider mb-1",children:"Level"}),N.jsxs("span",{className:"text-lg font-black text-slate-700 flex items-center gap-1",children:[N.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:((z=yi[r.maxTier])==null?void 0:z.color)||"#000"}}),r.maxTier+1]})]})]}),N.jsxs("div",{className:"w-full mb-4 bg-slate-50 border border-slate-200 rounded-2xl p-4 shadow-inner flex flex-col overflow-hidden min-h-0 flex-1",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 uppercase tracking-widest text-xs font-bold mb-2 shrink-0",children:[N.jsx(Er,{size:14})," Global Leaderboard"]}),N.jsxs("div",{className:"flex justify-between items-center text-[10px] uppercase font-bold text-slate-400 px-2 mb-1 border-b border-slate-200 pb-1",children:[N.jsx("div",{className:"w-8 text-center",children:"#"}),N.jsx("div",{className:"flex-1 text-left",children:"Name"}),N.jsx("div",{className:"w-12 text-center",children:"Lvl"}),N.jsx("div",{className:"w-14 text-center",children:"Time"}),N.jsx("div",{className:"w-20 text-right",children:"Score"})]}),N.jsx("div",{className:"overflow-y-auto pr-1 custom-scrollbar",children:A.length===0?N.jsx("div",{className:"text-center text-slate-400 italic text-sm mt-4",children:"No scores yet. Be the first!"}):A.map((M,B)=>{var U;return N.jsxs("div",{className:`flex justify-between items-center text-sm font-bold border-b border-slate-100 last:border-0 py-2 px-1 ${M.score===r.score&&m&&M.name===h?"text-blue-600 bg-blue-50 rounded-md":"text-slate-700"}`,children:[N.jsxs("div",{className:`w-8 text-center ${B<3?"text-yellow-500":"text-slate-400"}`,children:["#",B+1]}),N.jsx("div",{className:"flex-1 text-left truncate pr-2",children:M.name}),N.jsxs("div",{className:"w-12 text-center flex justify-center items-center",children:[N.jsx("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:((U=yi[M.maxTier??0])==null?void 0:U.color)||"#999"}}),(M.maxTier??0)+1]}),N.jsx("div",{className:"w-14 text-center text-xs font-normal text-slate-500",children:x(M.timePlayed||0)}),N.jsx("div",{className:"w-20 text-right font-mono text-slate-800",children:M.score.toLocaleString()})]},B)})})]}),e&&!m&&N.jsxs("div",{className:"w-full mb-4 shrink-0 animate-fade-in",children:[N.jsx("label",{className:"block text-slate-500 text-sm font-bold mb-2 uppercase tracking-wide",children:E?"New Record! Enter Name:":"Enter Name for Leaderboard:"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:h,onChange:M=>d(M.target.value),placeholder:"Player 1",maxLength:10,className:"flex-1 bg-slate-100 border-2 border-slate-200 rounded-2xl px-4 py-3 font-bold text-slate-800 text-lg focus:outline-none focus:border-blue-500 transition-colors placeholder:text-slate-300"}),N.jsx("button",{onClick:g,disabled:h.length===0,className:"bg-blue-500 text-white font-bold px-6 py-3 rounded-2xl shadow-md active:scale-95 disabled:opacity-50 disabled:active:scale-100",children:"SAVE"})]})]}),N.jsxs("div",{className:"w-full space-y-3 shrink-0",children:[N.jsxs("button",{onClick:a,className:"w-full bg-amber-500 hover:bg-amber-400 text-white font-black text-xl py-4 rounded-2xl shadow-[0_8px_16px_rgba(245,158,11,0.3)] active:scale-95 transition-all flex items-center justify-center gap-2",children:[N.jsx(My,{size:24,strokeWidth:3})," PLAY AGAIN"]}),N.jsxs("button",{onClick:u,className:"w-full bg-slate-200 hover:bg-slate-300 text-slate-600 font-bold text-lg py-4 rounded-2xl active:scale-95 transition-all flex items-center justify-center gap-2",children:[N.jsx(_y,{size:22})," MENU"]})]})]})})},Q1="modulepreload",Z1=function(r){return"/fruit-bounce-merge/"+r},pm={},Cr=function(e,s,a){let u=Promise.resolve();if(s&&s.length>0){let h=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));u=h(s.map(y=>{if(y=Z1(y),y in pm)return;pm[y]=!0;const g=y.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":Q1,g||(A.as="script"),A.crossOrigin="",A.href=y,m&&A.setAttribute("nonce",m),document.head.appendChild(A),g)return new Promise((v,E)=>{A.addEventListener("load",v),A.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return u.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};var Gt=(r=>(r.Application="application",r.WebGLPipes="webgl-pipes",r.WebGLPipesAdaptor="webgl-pipes-adaptor",r.WebGLSystem="webgl-system",r.WebGPUPipes="webgpu-pipes",r.WebGPUPipesAdaptor="webgpu-pipes-adaptor",r.WebGPUSystem="webgpu-system",r.CanvasSystem="canvas-system",r.CanvasPipesAdaptor="canvas-pipes-adaptor",r.CanvasPipes="canvas-pipes",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r.MaskEffect="mask-effect",r.BlendMode="blend-mode",r.TextureSource="texture-source",r.Environment="environment",r.ShapeBuilder="shape-builder",r.Batcher="batcher",r))(Gt||{});const wc=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},hr=(r,e)=>wc(r).priority??e,xi={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(wc).forEach(e=>{e.type.forEach(s=>{var a,u;return(u=(a=this._removeHandlers)[s])==null?void 0:u.call(a,e)})}),this},add(...r){return r.map(wc).forEach(e=>{e.type.forEach(s=>{var o,h;const a=this._addHandlers,u=this._queue;a[s]?(h=a[s])==null||h.call(a,e):(u[s]=u[s]||[],(o=u[s])==null||o.push(e))})}),this},handle(r,e,s){var h;const a=this._addHandlers,u=this._removeHandlers;if(a[r]||u[r])throw new Error(`Extension type ${r} already has a handler`);a[r]=e,u[r]=s;const o=this._queue;return o[r]&&((h=o[r])==null||h.forEach(d=>e(d)),delete o[r]),this},handleByMap(r,e){return this.handle(r,s=>{s.name&&(e[s.name]=s.ref)},s=>{s.name&&delete e[s.name]})},handleByNamedList(r,e,s=-1){return this.handle(r,a=>{e.findIndex(o=>o.name===a.name)>=0||(e.push({name:a.name,value:a.ref}),e.sort((o,h)=>hr(h.value,s)-hr(o.value,s)))},a=>{const u=e.findIndex(o=>o.name===a.name);u!==-1&&e.splice(u,1)})},handleByList(r,e,s=-1){return this.handle(r,a=>{e.includes(a.ref)||(e.push(a.ref),e.sort((u,o)=>hr(o,s)-hr(u,s)))},a=>{const u=e.indexOf(a.ref);u!==-1&&e.splice(u,1)})}},$1={extension:{type:Gt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Cr(()=>import("./browserAll-C_IYvZjV.js"),__vite__mapDeps([0,1,2,3]))}},K1={extension:{type:Gt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Cr(()=>import("./webworkerAll-IqDcFuEa.js"),__vite__mapDeps([1,2,3]))}};class Xe{constructor(e,s,a){this._x=s||0,this._y=a||0,this._observer=e}clone(e){return new Xe(e??this._observer,this._x,this._y)}set(e=0,s=e){return(this._x!==e||this._y!==s)&&(this._x=e,this._y=s,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var ec={exports:{}},xm;function I1(){return xm||(xm=1,(function(r){var e=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function u(m,y,g){this.fn=m,this.context=y,this.once=g||!1}function o(m,y,g,x,A){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new u(g,x||m,A),E=s?s+y:y;return m._events[E]?m._events[E].fn?m._events[E]=[m._events[E],v]:m._events[E].push(v):(m._events[E]=v,m._eventsCount++),m}function h(m,y){--m._eventsCount===0?m._events=new a:delete m._events[y]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],g,x;if(this._eventsCount===0)return y;for(x in g=this._events)e.call(g,x)&&y.push(s?x.slice(1):x);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},d.prototype.listeners=function(y){var g=s?s+y:y,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var A=0,v=x.length,E=new Array(v);A<v;A++)E[A]=x[A].fn;return E},d.prototype.listenerCount=function(y){var g=s?s+y:y,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(y,g,x,A,v,E){var z=s?s+y:y;if(!this._events[z])return!1;var M=this._events[z],B=arguments.length,U,Y;if(M.fn){switch(M.once&&this.removeListener(y,M.fn,void 0,!0),B){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,g),!0;case 3:return M.fn.call(M.context,g,x),!0;case 4:return M.fn.call(M.context,g,x,A),!0;case 5:return M.fn.call(M.context,g,x,A,v),!0;case 6:return M.fn.call(M.context,g,x,A,v,E),!0}for(Y=1,U=new Array(B-1);Y<B;Y++)U[Y-1]=arguments[Y];M.fn.apply(M.context,U)}else{var $=M.length,J;for(Y=0;Y<$;Y++)switch(M[Y].once&&this.removeListener(y,M[Y].fn,void 0,!0),B){case 1:M[Y].fn.call(M[Y].context);break;case 2:M[Y].fn.call(M[Y].context,g);break;case 3:M[Y].fn.call(M[Y].context,g,x);break;case 4:M[Y].fn.call(M[Y].context,g,x,A);break;default:if(!U)for(J=1,U=new Array(B-1);J<B;J++)U[J-1]=arguments[J];M[Y].fn.apply(M[Y].context,U)}}return!0},d.prototype.on=function(y,g,x){return o(this,y,g,x,!1)},d.prototype.once=function(y,g,x){return o(this,y,g,x,!0)},d.prototype.removeListener=function(y,g,x,A){var v=s?s+y:y;if(!this._events[v])return this;if(!g)return h(this,v),this;var E=this._events[v];if(E.fn)E.fn===g&&(!A||E.once)&&(!x||E.context===x)&&h(this,v);else{for(var z=0,M=[],B=E.length;z<B;z++)(E[z].fn!==g||A&&!E[z].once||x&&E[z].context!==x)&&M.push(E[z]);M.length?this._events[v]=M.length===1?M[0]:M:h(this,v)}return this},d.prototype.removeAllListeners=function(y){var g;return y?(g=s?s+y:y,this._events[g]&&h(this,g)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=s,d.EventEmitter=d,r.exports=d})(ec)),ec.exports}var J1=I1();const qi=Xa(J1),W1=Math.PI*2,tb=180/Math.PI,eb=Math.PI/180;class be{constructor(e=0,s=0){this.x=0,this.y=0,this.x=e,this.y=s}clone(){return new be(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,s=e){return this.x=e,this.y=s,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return ic.x=0,ic.y=0,ic}}const ic=new be;class Ot{constructor(e=1,s=0,a=0,u=1,o=0,h=0){this.array=null,this.a=e,this.b=s,this.c=a,this.d=u,this.tx=o,this.ty=h}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,s,a,u,o,h){return this.a=e,this.b=s,this.c=a,this.d=u,this.tx=o,this.ty=h,this}toArray(e,s){this.array||(this.array=new Float32Array(9));const a=s||this.array;return e?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty,a[8]=1):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0,a[8]=1),a}apply(e,s){s=s||new be;const a=e.x,u=e.y;return s.x=this.a*a+this.c*u+this.tx,s.y=this.b*a+this.d*u+this.ty,s}applyInverse(e,s){s=s||new be;const a=this.a,u=this.b,o=this.c,h=this.d,d=this.tx,m=this.ty,y=1/(a*h+o*-u),g=e.x,x=e.y;return s.x=h*y*g+-o*y*x+(m*o-d*h)*y,s.y=a*y*x+-u*y*g+(-m*a+d*u)*y,s}translate(e,s){return this.tx+=e,this.ty+=s,this}scale(e,s){return this.a*=e,this.d*=s,this.c*=e,this.b*=s,this.tx*=e,this.ty*=s,this}rotate(e){const s=Math.cos(e),a=Math.sin(e),u=this.a,o=this.c,h=this.tx;return this.a=u*s-this.b*a,this.b=u*a+this.b*s,this.c=o*s-this.d*a,this.d=o*a+this.d*s,this.tx=h*s-this.ty*a,this.ty=h*a+this.ty*s,this}append(e){const s=this.a,a=this.b,u=this.c,o=this.d;return this.a=e.a*s+e.b*u,this.b=e.a*a+e.b*o,this.c=e.c*s+e.d*u,this.d=e.c*a+e.d*o,this.tx=e.tx*s+e.ty*u+this.tx,this.ty=e.tx*a+e.ty*o+this.ty,this}appendFrom(e,s){const a=e.a,u=e.b,o=e.c,h=e.d,d=e.tx,m=e.ty,y=s.a,g=s.b,x=s.c,A=s.d;return this.a=a*y+u*x,this.b=a*g+u*A,this.c=o*y+h*x,this.d=o*g+h*A,this.tx=d*y+m*x+s.tx,this.ty=d*g+m*A+s.ty,this}setTransform(e,s,a,u,o,h,d,m,y){return this.a=Math.cos(d+y)*o,this.b=Math.sin(d+y)*o,this.c=-Math.sin(d-m)*h,this.d=Math.cos(d-m)*h,this.tx=e-(a*this.a+u*this.c),this.ty=s-(a*this.b+u*this.d),this}prepend(e){const s=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const a=this.a,u=this.c;this.a=a*e.a+this.b*e.c,this.b=a*e.b+this.b*e.d,this.c=u*e.a+this.d*e.c,this.d=u*e.b+this.d*e.d}return this.tx=s*e.a+this.ty*e.c+e.tx,this.ty=s*e.b+this.ty*e.d+e.ty,this}decompose(e){const s=this.a,a=this.b,u=this.c,o=this.d,h=e.pivot,d=-Math.atan2(-u,o),m=Math.atan2(a,s),y=Math.abs(d+m);return y<1e-5||Math.abs(W1-y)<1e-5?(e.rotation=m,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=m),e.scale.x=Math.sqrt(s*s+a*a),e.scale.y=Math.sqrt(u*u+o*o),e.position.x=this.tx+(h.x*s+h.y*u),e.position.y=this.ty+(h.x*a+h.y*o),e}invert(){const e=this.a,s=this.b,a=this.c,u=this.d,o=this.tx,h=e*u-s*a;return this.a=u/h,this.b=-s/h,this.c=-a/h,this.d=e/h,this.tx=(a*this.ty-u*o)/h,this.ty=-(e*this.ty-s*o)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ot;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return nb.identity()}static get shared(){return ib.identity()}}const ib=new Ot,nb=new Ot,Un=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],jn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Hn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Rc=[],Ny=[],fr=Math.sign;function sb(){for(let r=0;r<16;r++){const e=[];Rc.push(e);for(let s=0;s<16;s++){const a=fr(Un[r]*Un[s]+kn[r]*jn[s]),u=fr(jn[r]*Un[s]+Hn[r]*jn[s]),o=fr(Un[r]*kn[s]+kn[r]*Hn[s]),h=fr(jn[r]*kn[s]+Hn[r]*Hn[s]);for(let d=0;d<16;d++)if(Un[d]===a&&jn[d]===u&&kn[d]===o&&Hn[d]===h){e.push(d);break}}}for(let r=0;r<16;r++){const e=new Ot;e.set(Un[r],jn[r],kn[r],Hn[r],0,0),Ny.push(e)}}sb();const Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>Un[r],uY:r=>jn[r],vX:r=>kn[r],vY:r=>Hn[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>Rc[r][e],sub:(r,e)=>Rc[r][Ft.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Ft.S:Ft.N:Math.abs(e)*2<=Math.abs(r)?r>0?Ft.E:Ft.W:e>0?r>0?Ft.SE:Ft.SW:r>0?Ft.NE:Ft.NW,matrixAppendRotationInv:(r,e,s=0,a=0)=>{const u=Ny[Ft.inv(e)];u.tx=s,u.ty=a,r.append(u)}},dr=[new be,new be,new be,new be];class pe{constructor(e=0,s=0,a=0,u=0){this.type="rectangle",this.x=Number(e),this.y=Number(s),this.width=Number(a),this.height=Number(u)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new pe(0,0,0,0)}clone(){return new pe(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,s){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&s>=this.y&&s<this.y+this.height}strokeContains(e,s,a,u=.5){const{width:o,height:h}=this;if(o<=0||h<=0)return!1;const d=this.x,m=this.y,y=a*(1-u),g=a-y,x=d-y,A=d+o+y,v=m-y,E=m+h+y,z=d+g,M=d+o-g,B=m+g,U=m+h-g;return e>=x&&e<=A&&s>=v&&s<=E&&!(e>z&&e<M&&s>B&&s<U)}intersects(e,s){if(!s){const at=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=at)return!1;const it=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>it}const a=this.left,u=this.right,o=this.top,h=this.bottom;if(u<=a||h<=o)return!1;const d=dr[0].set(e.left,e.top),m=dr[1].set(e.left,e.bottom),y=dr[2].set(e.right,e.top),g=dr[3].set(e.right,e.bottom);if(y.x<=d.x||m.y<=d.y)return!1;const x=Math.sign(s.a*s.d-s.b*s.c);if(x===0||(s.apply(d,d),s.apply(m,m),s.apply(y,y),s.apply(g,g),Math.max(d.x,m.x,y.x,g.x)<=a||Math.min(d.x,m.x,y.x,g.x)>=u||Math.max(d.y,m.y,y.y,g.y)<=o||Math.min(d.y,m.y,y.y,g.y)>=h))return!1;const A=x*(m.y-d.y),v=x*(d.x-m.x),E=A*a+v*o,z=A*u+v*o,M=A*a+v*h,B=A*u+v*h;if(Math.max(E,z,M,B)<=A*d.x+v*d.y||Math.min(E,z,M,B)>=A*g.x+v*g.y)return!1;const U=x*(d.y-y.y),Y=x*(y.x-d.x),$=U*a+Y*o,J=U*u+Y*o,P=U*a+Y*h,X=U*u+Y*h;return!(Math.max($,J,P,X)<=U*d.x+Y*d.y||Math.min($,J,P,X)>=U*g.x+Y*g.y)}pad(e=0,s=e){return this.x-=e,this.y-=s,this.width+=e*2,this.height+=s*2,this}fit(e){const s=Math.max(this.x,e.x),a=Math.min(this.x+this.width,e.x+e.width),u=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=s,this.width=Math.max(a-s,0),this.y=u,this.height=Math.max(o-u,0),this}ceil(e=1,s=.001){const a=Math.ceil((this.x+this.width-s)*e)/e,u=Math.ceil((this.y+this.height-s)*e)/e;return this.x=Math.floor((this.x+s)*e)/e,this.y=Math.floor((this.y+s)*e)/e,this.width=a-this.x,this.height=u-this.y,this}enlarge(e){const s=Math.min(this.x,e.x),a=Math.max(this.x+this.width,e.x+e.width),u=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=s,this.width=a-s,this.y=u,this.height=o-u,this}getBounds(e){return e||(e=new pe),e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const nc={default:-1};function ae(r="default"){return nc[r]===void 0&&(nc[r]=-1),++nc[r]}const bm={},se="8.0.0",ab="8.3.4";function $t(r,e,s=3){if(bm[e])return;let a=new Error().stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(a=a.split(`
`).splice(s).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(a))),bm[e]=!0}const Oy=()=>{};function vm(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function _m(r){return!(r&r-1)&&!!r}function lb(r){const e={};for(const s in r)r[s]!==void 0&&(e[s]=r[s]);return e}const Sm=Object.create(null);function rb(r){const e=Sm[r];return e===void 0&&(Sm[r]=ae("resource")),e}const Dy=class By extends qi{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...By.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){$t(se,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=rb(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Dy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let ub=Dy;const Gy=class Uy extends qi{constructor(e={}){super(),this.options=e,this.uid=ae("textureSource"),this._resourceType="textureSource",this._resourceId=ae("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Uy.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new ub(lb(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var s,a;this.style!==e&&((s=this._style)==null||s.off("change",this._onStyleChange,this),this._style=e,(a=this._style)==null||a.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=ae("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,s,a){a||(a=this._resolution),e||(e=this.width),s||(s=this.height);const u=Math.round(e*a),o=Math.round(s*a);return this.width=u/a,this.height=o/a,this._resolution=a,this.pixelWidth===u&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=u,this.pixelHeight=o,this.emit("resize",this),this._resourceId=ae("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=_m(this.pixelWidth)&&_m(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Gy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let bi=Gy;class Fc extends bi{constructor(e){const s=e.resource||new Float32Array(e.width*e.height*4);let a=e.format;a||(s instanceof Float32Array?a="rgba32float":s instanceof Int32Array||s instanceof Uint32Array?a="rgba32uint":s instanceof Int16Array||s instanceof Uint16Array?a="rgba16uint":(s instanceof Int8Array,a="bgra8unorm")),super({...e,resource:s,format:a}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Fc.extension=Gt.TextureSource;const Am=new Ot;class ob{constructor(e,s){this.mapCoord=new Ot,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof s>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=s,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var s;this.texture!==e&&((s=this._texture)==null||s.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,s){s===void 0&&(s=e);const a=this.mapCoord;for(let u=0;u<e.length;u+=2){const o=e[u],h=e[u+1];s[u]=o*a.a+h*a.c+a.tx,s[u+1]=o*a.b+h*a.d+a.ty}return s}update(){const e=this._texture;this._updateID++;const s=e.uvs;this.mapCoord.set(s.x1-s.x0,s.y1-s.y0,s.x3-s.x0,s.y3-s.y0,s.x0,s.y0);const a=e.orig,u=e.trim;u&&(Am.set(a.width/u.width,0,0,a.height/u.height,-u.x/u.width,-u.y/u.height),this.mapCoord.append(Am));const o=e.source,h=this.uClampFrame,d=this.clampMargin/o._resolution,m=this.clampOffset/o._resolution;return h[0]=(e.frame.x+d+m)/o.width,h[1]=(e.frame.y+d+m)/o.height,h[2]=(e.frame.x+e.frame.width-d+m)/o.width,h[3]=(e.frame.y+e.frame.height-d+m)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=e.frame.width===o.width&&e.frame.height===o.height&&e.rotate===0,!0}}class Yt extends qi{constructor({source:e,label:s,frame:a,orig:u,trim:o,defaultAnchor:h,defaultBorders:d,rotate:m,dynamic:y}={}){if(super(),this.uid=ae("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new pe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=s,this.source=(e==null?void 0:e.source)??new bi,this.noFrame=!a,a)this.frame.copyFrom(a);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=u||this.frame,this.trim=o,this.rotate=m??0,this.defaultAnchor=h,this.defaultBorders=d,this.destroyed=!1,this.dynamic=y||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new ob(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:s}=this,{width:a,height:u}=this._source,o=s.x/a,h=s.y/u,d=s.width/a,m=s.height/u;let y=this.rotate;if(y){const g=d/2,x=m/2,A=o+g,v=h+x;y=Ft.add(y,Ft.NW),e.x0=A+g*Ft.uX(y),e.y0=v+x*Ft.uY(y),y=Ft.add(y,2),e.x1=A+g*Ft.uX(y),e.y1=v+x*Ft.uY(y),y=Ft.add(y,2),e.x2=A+g*Ft.uX(y),e.y2=v+x*Ft.uY(y),y=Ft.add(y,2),e.x3=A+g*Ft.uX(y),e.y3=v+x*Ft.uY(y)}else e.x0=o,e.y0=h,e.x1=o+d,e.y1=h,e.x2=o+d,e.y2=h+m,e.x3=o,e.y3=h+m}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return $t(se,"Texture.baseTexture is now Texture.source"),this._source}}Yt.EMPTY=new Yt({label:"EMPTY",source:new bi({label:"EMPTY"})});Yt.EMPTY.destroy=Oy;Yt.WHITE=new Yt({source:new Fc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Yt.WHITE.destroy=Oy;function cb(r,e,s,a){const{width:u,height:o}=s.orig,h=s.trim;if(h){const d=h.width,m=h.height;r.minX=h.x-e._x*u-a,r.maxX=r.minX+d,r.minY=h.y-e._y*o-a,r.maxY=r.minY+m}else r.minX=-e._x*u-a,r.maxX=r.minX+u,r.minY=-e._y*o-a,r.maxY=r.minY+o}const Tm=new Ot;class pi{constructor(e=1/0,s=1/0,a=-1/0,u=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Tm,this.minX=e,this.minY=s,this.maxX=a,this.maxY=u}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new pe);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Tm,this}set(e,s,a,u){this.minX=e,this.minY=s,this.maxX=a,this.maxY=u}addFrame(e,s,a,u,o){o||(o=this.matrix);const h=o.a,d=o.b,m=o.c,y=o.d,g=o.tx,x=o.ty;let A=this.minX,v=this.minY,E=this.maxX,z=this.maxY,M=h*e+m*s+g,B=d*e+y*s+x;M<A&&(A=M),B<v&&(v=B),M>E&&(E=M),B>z&&(z=B),M=h*a+m*s+g,B=d*a+y*s+x,M<A&&(A=M),B<v&&(v=B),M>E&&(E=M),B>z&&(z=B),M=h*e+m*u+g,B=d*e+y*u+x,M<A&&(A=M),B<v&&(v=B),M>E&&(E=M),B>z&&(z=B),M=h*a+m*u+g,B=d*a+y*u+x,M<A&&(A=M),B<v&&(v=B),M>E&&(E=M),B>z&&(z=B),this.minX=A,this.minY=v,this.maxX=E,this.maxY=z}addRect(e,s){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,s)}addBounds(e,s){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,s)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const s=this.minX,a=this.minY,u=this.maxX,o=this.maxY,{a:h,b:d,c:m,d:y,tx:g,ty:x}=e;let A=h*s+m*a+g,v=d*s+y*a+x;this.minX=A,this.minY=v,this.maxX=A,this.maxY=v,A=h*u+m*a+g,v=d*u+y*a+x,this.minX=A<this.minX?A:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=A>this.maxX?A:this.maxX,this.maxY=v>this.maxY?v:this.maxY,A=h*s+m*o+g,v=d*s+y*o+x,this.minX=A<this.minX?A:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=A>this.maxX?A:this.maxX,this.maxY=v>this.maxY?v:this.maxY,A=h*u+m*o+g,v=d*u+y*o+x,this.minX=A<this.minX?A:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=A>this.maxX?A:this.maxX,this.maxY=v>this.maxY?v:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,s,a,u){return this.minX<e&&(this.minX=e),this.maxX>s&&(this.maxX=s),this.minY<a&&(this.minY=a),this.maxY>u&&(this.maxY=u),this}pad(e,s=e){return this.minX-=e,this.maxX+=e,this.minY-=s,this.maxY+=s,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new pi(this.minX,this.minY,this.maxX,this.maxY)}scale(e,s=e){return this.minX*=e,this.minY*=s,this.maxX*=e,this.maxY*=s,this}get x(){return this.minX}set x(e){const s=this.maxX-this.minX;this.minX=e,this.maxX=e+s}get y(){return this.minY}set y(e){const s=this.maxY-this.minY;this.minY=e,this.maxY=e+s}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,s,a,u){let o=this.minX,h=this.minY,d=this.maxX,m=this.maxY;u||(u=this.matrix);const y=u.a,g=u.b,x=u.c,A=u.d,v=u.tx,E=u.ty;for(let z=s;z<a;z+=2){const M=e[z],B=e[z+1],U=y*M+x*B+v,Y=g*M+A*B+E;o=U<o?U:o,h=Y<h?Y:h,d=U>d?U:d,m=Y>m?Y:m}this.minX=o,this.minY=h,this.maxX=d,this.maxY=m}containsPoint(e,s){return this.minX<=e&&this.minY<=s&&this.maxX>=e&&this.maxY>=s}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var hb={grad:.9,turn:360,rad:360/(2*Math.PI)},ki=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},ce=function(r,e,s){return e===void 0&&(e=0),s===void 0&&(s=Math.pow(10,e)),Math.round(s*r)/s+0},ei=function(r,e,s){return e===void 0&&(e=0),s===void 0&&(s=1),r>s?s:r>e?r:e},jy=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Mm=function(r){return{r:ei(r.r,0,255),g:ei(r.g,0,255),b:ei(r.b,0,255),a:ei(r.a)}},sc=function(r){return{r:ce(r.r),g:ce(r.g),b:ce(r.b),a:ce(r.a,3)}},fb=/^#([0-9a-f]{3,8})$/i,mr=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},ky=function(r){var e=r.r,s=r.g,a=r.b,u=r.a,o=Math.max(e,s,a),h=o-Math.min(e,s,a),d=h?o===e?(s-a)/h:o===s?2+(a-e)/h:4+(e-s)/h:0;return{h:60*(d<0?d+6:d),s:o?h/o*100:0,v:o/255*100,a:u}},Hy=function(r){var e=r.h,s=r.s,a=r.v,u=r.a;e=e/360*6,s/=100,a/=100;var o=Math.floor(e),h=a*(1-s),d=a*(1-(e-o)*s),m=a*(1-(1-e+o)*s),y=o%6;return{r:255*[a,d,h,h,m,a][y],g:255*[m,a,a,d,h,h][y],b:255*[h,h,m,a,a,d][y],a:u}},Em=function(r){return{h:jy(r.h),s:ei(r.s,0,100),l:ei(r.l,0,100),a:ei(r.a)}},Cm=function(r){return{h:ce(r.h),s:ce(r.s),l:ce(r.l),a:ce(r.a,3)}},wm=function(r){return Hy((s=(e=r).s,{h:e.h,s:(s*=((a=e.l)<50?a:100-a)/100)>0?2*s/(a+s)*100:0,v:a+s,a:e.a}));var e,s,a},ja=function(r){return{h:(e=ky(r)).h,s:(u=(200-(s=e.s))*(a=e.v)/100)>0&&u<200?s*a/100/(u<=100?u:200-u)*100:0,l:u/2,a:e.a};var e,s,a,u},db=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zc={string:[[function(r){var e=fb.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?ce(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?ce(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=yb.exec(r)||gb.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:Mm({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=db.exec(r)||mb.exec(r);if(!e)return null;var s,a,u=Em({h:(s=e[1],a=e[2],a===void 0&&(a="deg"),Number(s)*(hb[a]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return wm(u)},"hsl"]],object:[[function(r){var e=r.r,s=r.g,a=r.b,u=r.a,o=u===void 0?1:u;return ki(e)&&ki(s)&&ki(a)?Mm({r:Number(e),g:Number(s),b:Number(a),a:Number(o)}):null},"rgb"],[function(r){var e=r.h,s=r.s,a=r.l,u=r.a,o=u===void 0?1:u;if(!ki(e)||!ki(s)||!ki(a))return null;var h=Em({h:Number(e),s:Number(s),l:Number(a),a:Number(o)});return wm(h)},"hsl"],[function(r){var e=r.h,s=r.s,a=r.v,u=r.a,o=u===void 0?1:u;if(!ki(e)||!ki(s)||!ki(a))return null;var h=(function(d){return{h:jy(d.h),s:ei(d.s,0,100),v:ei(d.v,0,100),a:ei(d.a)}})({h:Number(e),s:Number(s),v:Number(a),a:Number(o)});return Hy(h)},"hsv"]]},Rm=function(r,e){for(var s=0;s<e.length;s++){var a=e[s][0](r);if(a)return[a,e[s][1]]}return[null,void 0]},pb=function(r){return typeof r=="string"?Rm(r.trim(),zc.string):typeof r=="object"&&r!==null?Rm(r,zc.object):[null,void 0]},ac=function(r,e){var s=ja(r);return{h:s.h,s:ei(s.s+100*e,0,100),l:s.l,a:s.a}},lc=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},zm=function(r,e){var s=ja(r);return{h:s.h,s:s.s,l:ei(s.l+100*e,0,100),a:s.a}},Nc=(function(){function r(e){this.parsed=pb(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return ce(lc(this.rgba),2)},r.prototype.isDark=function(){return lc(this.rgba)<.5},r.prototype.isLight=function(){return lc(this.rgba)>=.5},r.prototype.toHex=function(){return e=sc(this.rgba),s=e.r,a=e.g,u=e.b,h=(o=e.a)<1?mr(ce(255*o)):"","#"+mr(s)+mr(a)+mr(u)+h;var e,s,a,u,o,h},r.prototype.toRgb=function(){return sc(this.rgba)},r.prototype.toRgbString=function(){return e=sc(this.rgba),s=e.r,a=e.g,u=e.b,(o=e.a)<1?"rgba("+s+", "+a+", "+u+", "+o+")":"rgb("+s+", "+a+", "+u+")";var e,s,a,u,o},r.prototype.toHsl=function(){return Cm(ja(this.rgba))},r.prototype.toHslString=function(){return e=Cm(ja(this.rgba)),s=e.h,a=e.s,u=e.l,(o=e.a)<1?"hsla("+s+", "+a+"%, "+u+"%, "+o+")":"hsl("+s+", "+a+"%, "+u+"%)";var e,s,a,u,o},r.prototype.toHsv=function(){return e=ky(this.rgba),{h:ce(e.h),s:ce(e.s),v:ce(e.v),a:ce(e.a,3)};var e},r.prototype.invert=function(){return fi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),fi(ac(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),fi(ac(this.rgba,-e))},r.prototype.grayscale=function(){return fi(ac(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),fi(zm(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),fi(zm(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?fi({r:(s=this.rgba).r,g:s.g,b:s.b,a:e}):ce(this.rgba.a,3);var s},r.prototype.hue=function(e){var s=ja(this.rgba);return typeof e=="number"?fi({h:e,s:s.s,l:s.l,a:s.a}):ce(s.h)},r.prototype.isEqual=function(e){return this.toHex()===fi(e).toHex()},r})(),fi=function(r){return r instanceof Nc?r:new Nc(r)},Nm=[],xb=function(r){r.forEach(function(e){Nm.indexOf(e)<0&&(e(Nc,zc),Nm.push(e))})};function bb(r,e){var s={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},a={};for(var u in s)a[s[u]]=u;var o={};r.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,y=a[this.toHex()];if(y)return y;if(h!=null&&h.closest){var g=this.toRgb(),x=1/0,A="black";if(!o.length)for(var v in s)o[v]=new r(s[v]).toRgb();for(var E in s){var z=(d=g,m=o[E],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));z<x&&(x=z,A=E)}return A}},e.string.push([function(h){var d=h.toLowerCase(),m=d==="transparent"?"#0000":s[d];return m?new r(m).toRgb():null},"name"])}xb([bb]);const ws=class Oa{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Oa)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,s){const a=typeof e;if(a!==typeof s)return!1;if(a==="number"||a==="string"||e instanceof Number)return e===s;if(Array.isArray(e)&&Array.isArray(s)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(s))return e.length!==s.length?!1:e.every((o,h)=>o===s[h]);if(e!==null&&s!==null){const o=Object.keys(e),h=Object.keys(s);return o.length!==h.length?!1:o.every(d=>e[d]===s[d])}return e===s}toRgba(){const[e,s,a,u]=this._components;return{r:e,g:s,b:a,a:u}}toRgb(){const[e,s,a]=this._components;return{r:e,g:s,b:a}}toRgbaString(){const[e,s,a]=this.toUint8RgbArray();return`rgba(${e},${s},${a},${this.alpha})`}toUint8RgbArray(e){const[s,a,u]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(s*255),e[1]=Math.round(a*255),e[2]=Math.round(u*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[s,a,u,o]=this._components;return e[0]=s,e[1]=a,e[2]=u,e[3]=o,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[s,a,u]=this._components;return e[0]=s,e[1]=a,e[2]=u,e}toNumber(){return this._int}toBgrNumber(){const[e,s,a]=this.toUint8RgbArray();return(a<<16)+(s<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[s,a,u,o]=Oa._temp.setValue(e)._components;return this._components[0]*=s,this._components[1]*=a,this._components[2]*=u,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(e,s=!0){return s&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,s=!0){if(e===1)return(255<<24)+this._int;if(e===0)return s?0:this._int;let a=this._int>>16&255,u=this._int>>8&255,o=this._int&255;return s&&(a=a*e+.5|0,u=u*e+.5|0,o=o*e+.5|0),(e*255<<24)+(a<<16)+(u<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const s=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-s.length)+s}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let s,a,u,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const h=e;s=(h>>16&255)/255,a=(h>>8&255)/255,u=(h&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[s,a,u,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[s,a,u,o=255]=e,s/=255,a/=255,u/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=Oa.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const h=fi(e);h.isValid()&&({r:s,g:a,b:u,a:o}=h.rgba,s/=255,a/=255,u/=255)}if(s!==void 0)this._components[0]=s,this._components[1]=a,this._components[2]=u,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,s,a]=this._components;this._int=(e*255<<16)+(s*255<<8)+(a*255|0)}_clamp(e,s=0,a=1){return typeof e=="number"?Math.min(Math.max(e,s),a):(e.forEach((u,o)=>{e[o]=Math.min(Math.max(u,s),a)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Oa||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};ws.shared=new ws;ws._temp=new ws;ws.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ve=ws;const vb={cullArea:null,cullable:!1,cullableChildren:!0};class Qc{constructor(e,s){this._pool=[],this._count=0,this._index=0,this._classType=e,s&&this.prepopulate(s)}prepopulate(e){for(let s=0;s<e;s++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var a;let s;return this._index>0?s=this._pool[--this._index]:s=new this._classType,(a=s.init)==null||a.call(s,e),s}return(e){var s;(s=e.reset)==null||s.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class _b{constructor(){this._poolsByClass=new Map}prepopulate(e,s){this.getPool(e).prepopulate(s)}get(e,s){return this.getPool(e).get(s)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Qc(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(s=>{const a=e[s._classType.name]?s._classType.name+s._classType.ID:s._classType.name;e[a]={free:s.totalFree,used:s.totalUsed,size:s.totalSize}}),e}}const Yi=new _b,Sb={get isCachedAsTexture(){var r;return!!((r=this.renderGroup)!=null&&r.isCachedAsTexture)},cacheAsTexture(r){typeof r=="boolean"&&r===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(r===!0?{}:r))},updateCacheTexture(){var r;(r=this.renderGroup)==null||r.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(r){$t("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(r)}};function Ab(r,e,s){const a=r.length;let u;if(e>=a||s===0)return;s=e+s>a?a-e:s;const o=a-s;for(u=e;u<o;++u)r[u]=r[u+s];r.length=o}const Tb={allowChildren:!0,removeChildren(r=0,e){const s=e??this.children.length,a=s-r,u=[];if(a>0&&a<=s){for(let h=s-1;h>=r;h--){const d=this.children[h];d&&(u.push(d),d.parent=null)}Ab(this.children,r,s);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(u);for(let h=0;h<u.length;++h)this.emit("childRemoved",u[h],this,h),u[h].emit("removed",this);return u}else if(a===0&&this.children.length===0)return u;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(r){const e=this.getChildAt(r);return this.removeChild(e)},getChildAt(r){if(r<0||r>=this.children.length)throw new Error(`getChildAt: Index (${r}) does not exist.`);return this.children[r]},setChildIndex(r,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(r),this.addChildAt(r,e)},getChildIndex(r){const e=this.children.indexOf(r);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(r,e){this.allowChildren||$t(se,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:s}=this;if(e<0||e>s.length)throw new Error(`${r}addChildAt: The index ${e} supplied is out of bounds ${s.length}`);if(r.parent){const u=r.parent.children.indexOf(r);if(r.parent===this&&u===e)return r;u!==-1&&r.parent.children.splice(u,1)}e===s.length?s.push(r):s.splice(e,0,r),r.parent=this,r.didChange=!0,r._updateFlags=15;const a=this.renderGroup||this.parentRenderGroup;return a&&a.addChild(r),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",r,this,e),r.emit("added",this),r},swapChildren(r,e){if(r===e)return;const s=this.getChildIndex(r),a=this.getChildIndex(e);this.children[s]=e,this.children[a]=r;const u=this.renderGroup||this.parentRenderGroup;u&&(u.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var r;(r=this.parent)==null||r.removeChild(this)},reparentChild(...r){return r.length===1?this.reparentChildAt(r[0],this.children.length):(r.forEach(e=>this.reparentChildAt(e,this.children.length)),r[0])},reparentChildAt(r,e){if(r.parent===this)return this.setChildIndex(r,e),r;const s=r.worldTransform.clone();r.removeFromParent(),this.addChildAt(r,e);const a=this.worldTransform.clone();return a.invert(),s.prepend(a),r.setFromMatrix(s),r}};class Om{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Mb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let s=0;s<this._tests.length;s++){const a=this._tests[s];if(a.test(e))return Yi.get(a.maskClass,e)}return e}returnMaskEffect(e){Yi.return(e)}}const Oc=new Mb;xi.handleByList(Gt.MaskEffect,Oc._effectClasses);const Eb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0)},addEffect(r){this.effects.indexOf(r)===-1&&(this.effects.push(r),this.effects.sort((s,a)=>s.priority-a.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(r){const e=this.effects.indexOf(r);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(r){const e=this._maskEffect;(e==null?void 0:e.mask)!==r&&(e&&(this.removeEffect(e),Oc.returnMaskEffect(e),this._maskEffect=null),r!=null&&(this._maskEffect=Oc.getMaskEffect(r),this.addEffect(this._maskEffect)))},setMask(r){this._maskOptions={...this._maskOptions,...r},r.mask&&(this.mask=r.mask),this._markStructureAsChanged()},get mask(){var r;return(r=this._maskEffect)==null?void 0:r.mask},set filters(r){var o;!Array.isArray(r)&&r&&(r=[r]);const e=this._filterEffect||(this._filterEffect=new Om);r=r;const s=(r==null?void 0:r.length)>0,a=((o=e.filters)==null?void 0:o.length)>0,u=s!==a;r=Array.isArray(r)?r.slice(0):r,e.filters=Object.freeze(r),u&&(s?this.addEffect(e):(this.removeEffect(e),e.filters=r??null))},get filters(){var r;return(r=this._filterEffect)==null?void 0:r.filters},set filterArea(r){this._filterEffect||(this._filterEffect=new Om),this._filterEffect.filterArea=r},get filterArea(){var r;return(r=this._filterEffect)==null?void 0:r.filterArea}},Cb={label:null,get name(){return $t(se,"Container.name property has been removed, use Container.label instead"),this.label},set name(r){$t(se,"Container.name property has been removed, use Container.label instead"),this.label=r},getChildByName(r,e=!1){return this.getChildByLabel(r,e)},getChildByLabel(r,e=!1){const s=this.children;for(let a=0;a<s.length;a++){const u=s[a];if(u.label===r||r instanceof RegExp&&r.test(u.label))return u}if(e)for(let a=0;a<s.length;a++){const o=s[a].getChildByLabel(r,!0);if(o)return o}return null},getChildrenByLabel(r,e=!1,s=[]){const a=this.children;for(let u=0;u<a.length;u++){const o=a[u];(o.label===r||r instanceof RegExp&&r.test(o.label))&&s.push(o)}if(e)for(let u=0;u<a.length;u++)a[u].getChildrenByLabel(r,!0,s);return s}},_e=new Qc(Ot),Rs=new Qc(pi);function Yy(r,e,s){s.clear();let a,u;return r.parent?e?a=r.parent.worldTransform:(u=_e.get().identity(),a=Zc(r,u)):a=Ot.IDENTITY,qy(r,s,a,e),u&&_e.return(u),s.isValid||s.set(0,0,0,0),s}function qy(r,e,s,a){var d,m;if(!r.visible||!r.measurable)return;let u;a?u=r.worldTransform:(r.updateLocalTransform(),u=_e.get(),u.appendFrom(r.localTransform,s));const o=e,h=!!r.effects.length;if(h&&(e=Rs.get().clear()),r.boundsArea)e.addRect(r.boundsArea,u);else{r.bounds&&(e.matrix=u,e.addBounds(r.bounds));for(let y=0;y<r.children.length;y++)qy(r.children[y],e,u,a)}if(h){for(let y=0;y<r.effects.length;y++)(m=(d=r.effects[y]).addBounds)==null||m.call(d,e);o.addBounds(e,Ot.IDENTITY),Rs.return(e)}a||_e.return(u)}function Zc(r,e){const s=r.parent;return s&&(Zc(s,e),s.updateLocalTransform(),e.append(s.localTransform)),e}function Ly(r,e){if(r===16777215||!e)return e;if(e===16777215||!r)return r;const s=r>>16&255,a=r>>8&255,u=r&255,o=e>>16&255,h=e>>8&255,d=e&255,m=s*o/255|0,y=a*h/255|0,g=u*d/255|0;return(m<<16)+(y<<8)+g}const Dm=16777215;function Bm(r,e){return r===Dm?e:e===Dm?r:Ly(r,e)}function Ar(r){return((r&255)<<16)+(r&65280)+(r>>16&255)}const wb={getGlobalAlpha(r){if(r)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,s=this.parent;for(;s;)e*=s.alpha,s=s.parent;return e},getGlobalTransform(r,e){if(e)return r.copyFrom(this.worldTransform);this.updateLocalTransform();const s=Zc(this,_e.get().identity());return r.appendFrom(this.localTransform,s),_e.return(s),r},getGlobalTint(r){if(r)return this.renderGroup?Ar(this.renderGroup.worldColor):this.parentRenderGroup?Ar(Bm(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,s=this.parent;for(;s;)e=Bm(e,s.localColor),s=s.parent;return Ar(e)}};let rc=0;const Gm=500;function gi(...r){rc!==Gm&&(rc++,rc===Gm?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...r))}function Xy(r,e,s){return e.clear(),s||(s=Ot.IDENTITY),Vy(r,e,s,r,!0),e.isValid||e.set(0,0,0,0),e}function Vy(r,e,s,a,u){var m,y;let o;if(u)o=_e.get(),o=s.copyTo(o);else{if(!r.visible||!r.measurable)return;r.updateLocalTransform();const g=r.localTransform;o=_e.get(),o.appendFrom(g,s)}const h=e,d=!!r.effects.length;if(d&&(e=Rs.get().clear()),r.boundsArea)e.addRect(r.boundsArea,o);else{r.renderPipeId&&(e.matrix=o,e.addBounds(r.bounds));const g=r.children;for(let x=0;x<g.length;x++)Vy(g[x],e,o,a,!1)}if(d){for(let g=0;g<r.effects.length;g++)(y=(m=r.effects[g]).addLocalBounds)==null||y.call(m,e,a);h.addBounds(e,Ot.IDENTITY),Rs.return(e)}_e.return(o)}function Py(r,e){const s=r.children;for(let a=0;a<s.length;a++){const u=s[a],o=u.uid,h=(u._didViewChangeTick&65535)<<16|u._didContainerChangeTick&65535,d=e.index;(e.data[d]!==o||e.data[d+1]!==h)&&(e.data[e.index]=o,e.data[e.index+1]=h,e.didChange=!0),e.index=d+2,u.children.length&&Py(u,e)}return e.didChange}const Rb=new Ot,zb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(r,e){const s=Math.sign(this.scale.x)||1;e!==0?this.scale.x=r/e*s:this.scale.x=s},_setHeight(r,e){const s=Math.sign(this.scale.y)||1;e!==0?this.scale.y=r/e*s:this.scale.y=s},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new pi});const r=this._localBoundsCacheData;return r.index=1,r.didChange=!1,r.data[0]!==this._didViewChangeTick&&(r.didChange=!0,r.data[0]=this._didViewChangeTick),Py(this,r),r.didChange&&Xy(this,r.localBounds,Rb),r.localBounds},getBounds(r,e){return Yy(this,r,e||new pi)}},Nb={_onRender:null,set onRender(r){const e=this.renderGroup||this.parentRenderGroup;if(!r){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=r},get onRender(){return this._onRender}},Ob={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(r){this._zIndex!==r&&(this._zIndex=r,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Db))}};function Db(r,e){return r._zIndex-e._zIndex}const Bb={getGlobalPosition(r=new be,e=!1){return this.parent?this.parent.toGlobal(this._position,r,e):(r.x=this._position.x,r.y=this._position.y),r},toGlobal(r,e,s=!1){const a=this.getGlobalTransform(_e.get(),s);return e=a.apply(r,e),_e.return(a),e},toLocal(r,e,s,a){e&&(r=e.toGlobal(r,s,a));const u=this.getGlobalTransform(_e.get(),a);return s=u.applyInverse(r,s),_e.return(u),s}};class Fy{constructor(){this.uid=ae("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Gb=0;class Ub{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,s,a){const u=new bi({...this.textureOptions,width:e,height:s,resolution:1,antialias:a,autoGarbageCollect:!0});return new Yt({source:u,label:`texturePool_${Gb++}`})}getOptimalTexture(e,s,a=1,u){let o=Math.ceil(e*a-1e-6),h=Math.ceil(s*a-1e-6);o=vm(o),h=vm(h);const d=(o<<17)+(h<<1)+(u?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let m=this._texturePool[d].pop();return m||(m=this.createTexture(o,h,u)),m.source._resolution=a,m.source.width=o/a,m.source.height=h/a,m.source.pixelWidth=o,m.source.pixelHeight=h,m.frame.x=0,m.frame.y=0,m.frame.width=e,m.frame.height=s,m.updateUvs(),this._poolKeyHash[m.uid]=d,m}getSameSizeTexture(e,s=!1){const a=e.source;return this.getOptimalTexture(e.width,e.height,a._resolution,s)}returnTexture(e){const s=this._poolKeyHash[e.uid];this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const s in this._texturePool){const a=this._texturePool[s];if(a)for(let u=0;u<a.length;u++)a[u].destroy(!0)}this._texturePool={}}}const jb=new Ub;class kb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ot,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Fy,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const s=e.children;for(let a=0;a<s.length;a++){const u=s[a];u._updateFlags=15,this.addChild(u)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(jb.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const s=this.childrenToUpdate[e];s.list.fill(null),s.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const s=this.renderGroupChildren.indexOf(e);s>-1&&this.renderGroupChildren.splice(s,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const s=e.children;for(let a=0;a<s.length;a++)this.addChild(s[a])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const s=e.children;for(let a=0;a<s.length;a++)this.removeChild(s[a])}removeChildren(e){for(let s=0;s<e.length;s++)this.removeChild(e[s])}onChildUpdate(e){let s=this.childrenToUpdate[e.relativeRenderGroupDepth];s||(s=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),s.list[s.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const s=this.root.children;for(let a=0;a<s.length;a++)this._getChildren(s[a],e);return e}_getChildren(e,s=[]){if(s.push(e),e.renderGroup)return s;const a=e.children;for(let u=0;u<a.length;u++)this._getChildren(a[u],s);return s}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ot),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ot),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ot),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Hb(r,e,s={}){for(const a in e)!s[a]&&e[a]!==void 0&&(r[a]=e[a])}const uc=new Xe(null),oc=new Xe(null),cc=new Xe(null,1,1),Um=1,Yb=2,hc=4;class Jt extends qi{constructor(e={}){var s,a;super(),this.uid=ae("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Ot,this.relativeGroupTransform=new Ot,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Xe(this,0,0),this._scale=cc,this._pivot=oc,this._skew=uc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Hb(this,e,{children:!0,parent:!0,effects:!0}),(s=e.children)==null||s.forEach(u=>this.addChild(u)),(a=e.parent)==null||a.addChild(this)}static mixin(e){Object.defineProperties(Jt.prototype,Object.getOwnPropertyDescriptors(e))}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||$t(se,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let u=0;u<e.length;u++)this.addChild(e[u]);return e[0]}const s=e[0],a=this.renderGroup||this.parentRenderGroup;return s.parent===this?(this.children.splice(this.children.indexOf(s),1),this.children.push(s),a&&(a.structureDidChange=!0),s):(s.parent&&s.parent.removeChild(s),this.children.push(s),this.sortableChildren&&(this.sortDirty=!0),s.parent=this,s.didChange=!0,s._updateFlags=15,a&&a.addChild(s),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this),this._didViewChangeTick++,s._zIndex!==0&&s.depthOfChildModified(),s)}removeChild(...e){if(e.length>1){for(let u=0;u<e.length;u++)this.removeChild(e[u]);return e[0]}const s=e[0],a=this.children.indexOf(s);return a>-1&&(this._didViewChangeTick++,this.children.splice(a,1),this.renderGroup?this.renderGroup.removeChild(s):this.parentRenderGroup&&this.parentRenderGroup.removeChild(s),s.parent=null,this.emit("childRemoved",s,this,a),s.emit("removed",this)),s}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Yi.get(kb,this),this.groupTransform=Ot.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Yi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ot),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*tb}set angle(e){this.rotation=e*eb}get pivot(){return this._pivot===oc&&(this._pivot=new Xe(this,0,0)),this._pivot}set pivot(e){this._pivot===oc&&(this._pivot=new Xe(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===uc&&(this._skew=new Xe(this,0,0)),this._skew}set skew(e){this._skew===uc&&(this._skew=new Xe(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===cc&&(this._scale=new Xe(this,1,1)),this._scale}set scale(e){this._scale===cc&&(this._scale=new Xe(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const s=this.getLocalBounds().width;this._setWidth(e,s)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const s=this.getLocalBounds().height;this._setHeight(e,s)}getSize(e){e||(e={});const s=this.getLocalBounds();return e.width=Math.abs(this.scale.x*s.width),e.height=Math.abs(this.scale.y*s.height),e}setSize(e,s){const a=this.getLocalBounds();typeof e=="object"?(s=e.height??e.width,e=e.width):s??(s=e),e!==void 0&&this._setWidth(e,a.width),s!==void 0&&this._setHeight(s,a.height)}_updateSkew(){const e=this._rotation,s=this._skew;this._cx=Math.cos(e+s._y),this._sx=Math.sin(e+s._y),this._cy=-Math.sin(e-s._x),this._sy=Math.cos(e-s._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const s=this.localTransform,a=this._scale,u=this._pivot,o=this._position,h=a._x,d=a._y,m=u._x,y=u._y;s.a=this._cx*h,s.b=this._sx*h,s.c=this._cy*d,s.d=this._sy*d,s.tx=o._x-(m*s.a+y*s.c),s.ty=o._y-(m*s.b+y*s.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Um,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const a=Ve.shared.setValue(e??16777215).toBgrNumber();a!==this.localColor&&(this.localColor=a,this._updateFlags|=Um,this._onUpdate())}get tint(){return Ar(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Yb,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const s=e?2:0;(this.localDisplayStatus&2)!==s&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const s=e?0:4;(this.localDisplayStatus&4)!==s&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=hc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const s=e?1:0;(this.localDisplayStatus&1)!==s&&(this._updateFlags|=hc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var u;if(this.destroyed)return;this.destroyed=!0;let s;if(this.children.length&&(s=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&s)for(let o=0;o<s.length;++o)s[o].destroy(e);(u=this.renderGroup)==null||u.destroy(),this.renderGroup=null}}Jt.mixin(Tb);Jt.mixin(Bb);Jt.mixin(Nb);Jt.mixin(zb);Jt.mixin(Eb);Jt.mixin(Cb);Jt.mixin(Ob);Jt.mixin(vb);Jt.mixin(Sb);Jt.mixin(wb);class Qy extends Jt{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new pi(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const s=this.bounds,{x:a,y:u}=e;return a>=s.minX&&a<=s.maxX&&u>=s.minY&&u<=s.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}}class zs extends Qy{constructor(e=Yt.EMPTY){e instanceof Yt&&(e={texture:e});const{texture:s=Yt.EMPTY,anchor:a,roundPixels:u,width:o,height:h,...d}=e;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Xe({_onUpdate:()=>{this.onViewUpdate()}}),a?this.anchor=a:s.defaultAnchor&&(this.anchor=s.defaultAnchor),this.texture=s,this.allowChildren=!1,this.roundPixels=u??!1,o!==void 0&&(this.width=o),h!==void 0&&(this.height=h)}static from(e,s=!1){return e instanceof Yt?new zs(e):new zs(Yt.from(e,s))}set texture(e){e||(e=Yt.EMPTY);const s=this._texture;s!==e&&(s&&s.dynamic&&s.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return cb(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return $t("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,s=this._texture,a=this._bounds,{width:u,height:o}=s.orig;a.minX=-e._x*u,a.maxX=a.minX+u,a.minY=-e._y*o,a.maxY=a.minY+o}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(a)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,s){typeof e=="object"?(s=e.height??e.width,e=e.width):s??(s=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),s!==void 0&&this._setHeight(s,this._texture.orig.height)}}const qb=new pi;function Zy(r,e,s){const a=qb;r.measurable=!0,Yy(r,s,a),e.addBoundsMask(a),r.measurable=!1}function $y(r,e,s){const a=Rs.get();r.measurable=!0;const u=_e.get().identity(),o=Ky(r,s,u);Xy(r,a,o),r.measurable=!1,e.addBoundsMask(a),_e.return(u),Rs.return(a)}function Ky(r,e,s){return r?(r!==e&&(Ky(r.parent,e,s),r.updateLocalTransform(),s.append(r.localTransform)),s):(gi("Mask bounds, renderable is not inside the root container"),s)}class Iy{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof zs),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,s){this.inverse||Zy(this.mask,e,s)}addLocalBounds(e,s){$y(this.mask,e,s)}containsPoint(e,s){const a=this.mask;return s(a,e)}destroy(){this.reset()}static test(e){return e instanceof zs}}Iy.extension=Gt.MaskEffect;class Jy{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}Jy.extension=Gt.MaskEffect;class Wy{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,s){Zy(this.mask,e,s)}addLocalBounds(e,s){$y(this.mask,e,s)}containsPoint(e,s){const a=this.mask;return s(a,e)}destroy(){this.reset()}static test(e){return e instanceof Jt}}Wy.extension=Gt.MaskEffect;const Lb={createCanvas:(r,e)=>{const s=document.createElement("canvas");return s.width=r,s.height=e,s},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")};let jm=Lb;const gn={get(){return jm},set(r){jm=r}};class tg extends bi{constructor(e){e.resource||(e.resource=gn.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,s=this.height,a=this._resolution){const u=super.resize(e,s,a);return u&&this.resizeCanvas(),u}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}tg.extension=Gt.TextureSource;class $c extends bi{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const s=gn.get().createCanvas(e.resource.width,e.resource.height);s.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=s,gi("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}$c.extension=Gt.TextureSource;var Dc=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(Dc||{});class fc{constructor(e,s=null,a=0,u=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=s,this.priority=a,this._once=u}match(e,s=null){return this._fn===e&&this._context===s}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const s=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),s}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const s=this.next;return this.next=e?null:s,this.previous=null,s}}const eg=class Le{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new fc(null,null,1/0),this.deltaMS=1/Le.targetFPMS,this.elapsedMS=1/Le.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,s,a=Dc.NORMAL){return this._addListener(new fc(e,s,a))}addOnce(e,s,a=Dc.NORMAL){return this._addListener(new fc(e,s,a,!0))}_addListener(e){let s=this._head.next,a=this._head;if(!s)e.connect(a);else{for(;s;){if(e.priority>s.priority){e.connect(a);break}a=s,s=s.next}e.previous||e.connect(a)}return this._startIfPossible(),this}remove(e,s){let a=this._head.next;for(;a;)a.match(e,s)?a=a.destroy():a=a.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,s=this._head;for(;s=s.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let s;if(e>this.lastTime){if(s=this.elapsedMS=e-this.lastTime,s>this._maxElapsedMS&&(s=this._maxElapsedMS),s*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=s,this.deltaTime=this.deltaMS*Le.targetFPMS;const a=this._head;let u=a.next;for(;u;)u=u.emit(this);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const s=Math.min(this.maxFPS,e),a=Math.min(Math.max(0,s)/1e3,Le.targetFPMS);this._maxElapsedMS=1/a}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const s=Math.max(this.minFPS,e);this._minElapsedMS=1/(s/1e3)}}static get shared(){if(!Le._shared){const e=Le._shared=new Le;e.autoStart=!0,e._protected=!0}return Le._shared}static get system(){if(!Le._system){const e=Le._system=new Le;e.autoStart=!0,e._protected=!0}return Le._system}};eg.targetFPMS=.06;let yr=eg,dc;async function Xb(){return dc??(dc=(async()=>{var h;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const s=await new Promise(d=>{const m=document.createElement("video");m.onloadeddata=()=>d(m),m.onerror=()=>d(null),m.autoplay=!1,m.crossOrigin="anonymous",m.preload="auto",m.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",m.load()});if(!s)return"premultiply-alpha-on-upload";const a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const u=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,u),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s);const o=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,o),e.deleteFramebuffer(u),e.deleteTexture(a),(h=e.getExtension("WEBGL_lose_context"))==null||h.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),dc}const wr=class ig extends bi{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...ig.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=yr.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,s=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(s.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Xb(),this._load=new Promise((a,u)=>{this.isValid?a(this):(this._resolve=a,this._reject=u,s.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${s.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(yr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(yr.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(yr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};wr.extension=Gt.TextureSource;wr.defaultOptions={...bi.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};wr.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Vb=wr;const Es=(r,e,s=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(a=>typeof a=="string"||s?e(a):a):r);class Pb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const s=this._cache.get(e);return s||gi(`[Assets] Asset id ${e} was not found in the Cache`),s}set(e,s){const a=Es(e);let u;for(let m=0;m<this.parsers.length;m++){const y=this.parsers[m];if(y.test(s)){u=y.getCacheableAssets(a,s);break}}const o=new Map(Object.entries(u||{}));u||a.forEach(m=>{o.set(m,s)});const h=[...o.keys()],d={cacheKeys:h,keys:a};a.forEach(m=>{this._cacheMap.set(m,d)}),h.forEach(m=>{const y=u?u[m]:s;this._cache.has(m)&&this._cache.get(m)!==y&&gi("[Cache] already has key:",m),this._cache.set(m,o.get(m))})}remove(e){if(!this._cacheMap.has(e)){gi(`[Assets] Asset id ${e} was not found in the Cache`);return}const s=this._cacheMap.get(e);s.cacheKeys.forEach(u=>{this._cache.delete(u)}),s.keys.forEach(u=>{this._cacheMap.delete(u)})}get parsers(){return this._parsers}}const Cs=new Pb,Bc=[];xi.handleByList(Gt.TextureSource,Bc);function ng(r={}){const e=r&&r.resource,s=e?r.resource:r,a=e?r:{resource:r};for(let u=0;u<Bc.length;u++){const o=Bc[u];if(o.test(s))return new o(a)}throw new Error(`Could not find a source type for resource: ${a.resource}`)}function Fb(r={},e=!1){const s=r&&r.resource,a=s?r.resource:r,u=s?r:{resource:r};if(!e&&Cs.has(a))return Cs.get(a);const o=new Yt({source:ng(u)});return o.on("destroy",()=>{Cs.has(a)&&Cs.remove(a)}),e||Cs.set(a,o),o}function Qb(r,e=!1){return typeof r=="string"?Cs.get(r):r instanceof bi?new Yt({source:r}):Fb(r,e)}Yt.from=Qb;bi.from=ng;xi.add(Iy,Jy,Wy,Vb,$c,tg,Fc);var sg=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(sg||{});function li(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function Ca(r){return r.split("?")[0].split("#")[0]}function Zb(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $b(r,e,s){return r.replace(new RegExp(Zb(e),"g"),s)}function Kb(r,e){let s="",a=0,u=-1,o=0,h=-1;for(let d=0;d<=r.length;++d){if(d<r.length)h=r.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(u===d-1||o===1))if(u!==d-1&&o===2){if(s.length<2||a!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){const m=s.lastIndexOf("/");if(m!==s.length-1){m===-1?(s="",a=0):(s=s.slice(0,m),a=s.length-1-s.lastIndexOf("/")),u=d,o=0;continue}}else if(s.length===2||s.length===1){s="",a=0,u=d,o=0;continue}}}else s.length>0?s+=`/${r.slice(u+1,d)}`:s=r.slice(u+1,d),a=d-u-1;u=d,o=0}else h===46&&o!==-1?++o:o=-1}return s}const Ya={toPosix(r){return $b(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){li(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const s=/^[^/:]+:\/{0,2}/.exec(r);return s?s[0]:""},toAbsolute(r,e,s){if(li(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const a=Ca(this.toPosix(e??gn.get().getBaseUrl())),u=Ca(this.toPosix(s??this.rootname(a)));return r=this.toPosix(r),r.startsWith("/")?Ya.join(u,r.slice(1)):this.isAbsolute(r)?r:this.join(a,r)},normalize(r){if(li(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const s=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const a=r.endsWith("/");return r=Kb(r),r.length>0&&a&&(r+="/"),s?`/${r}`:e+r},isAbsolute(r){return li(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let s=0;s<r.length;++s){const a=r[s];if(li(a),a.length>0)if(e===void 0)e=a;else{const u=r[s-1]??"";this.joinExtensions.includes(this.extname(u).toLowerCase())?e+=`/../${a}`:e+=`/${a}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(li(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const s=e===47;let a=-1,u=!0;const o=this.getProtocol(r),h=r;r=r.slice(o.length);for(let d=r.length-1;d>=1;--d)if(e=r.charCodeAt(d),e===47){if(!u){a=d;break}}else u=!1;return a===-1?s?"/":this.isUrl(h)?o+r:o:s&&a===1?"//":o+r.slice(0,a)},rootname(r){li(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const s=r.indexOf("/",e.length);s!==-1?e=r.slice(0,s):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){li(r),e&&li(e),r=Ca(this.toPosix(r));let s=0,a=-1,u=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let h=e.length-1,d=-1;for(o=r.length-1;o>=0;--o){const m=r.charCodeAt(o);if(m===47){if(!u){s=o+1;break}}else d===-1&&(u=!1,d=o+1),h>=0&&(m===e.charCodeAt(h)?--h===-1&&(a=o):(h=-1,a=d))}return s===a?a=d:a===-1&&(a=r.length),r.slice(s,a)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!u){s=o+1;break}}else a===-1&&(u=!1,a=o+1);return a===-1?"":r.slice(s,a)},extname(r){li(r),r=Ca(this.toPosix(r));let e=-1,s=0,a=-1,u=!0,o=0;for(let h=r.length-1;h>=0;--h){const d=r.charCodeAt(h);if(d===47){if(!u){s=h+1;break}continue}a===-1&&(u=!1,a=h+1),d===46?e===-1?e=h:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||a===-1||o===0||o===1&&e===a-1&&e===s+1?"":r.slice(e,a)},parse(r){li(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=Ca(this.toPosix(r));let s=r.charCodeAt(0);const a=this.isAbsolute(r);let u;e.root=this.rootname(r),a||this.hasProtocol(r)?u=1:u=0;let o=-1,h=0,d=-1,m=!0,y=r.length-1,g=0;for(;y>=u;--y){if(s=r.charCodeAt(y),s===47){if(!m){h=y+1;break}continue}d===-1&&(m=!1,d=y+1),s===46?o===-1?o=y:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||d===-1||g===0||g===1&&o===d-1&&o===h+1?d!==-1&&(h===0&&a?e.base=e.name=r.slice(1,d):e.base=e.name=r.slice(h,d)):(h===0&&a?(e.name=r.slice(1,o),e.base=r.slice(1,d)):(e.name=r.slice(h,o),e.base=r.slice(h,d)),e.ext=r.slice(o,d)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function ag(r,e,s,a,u){const o=e[s];for(let h=0;h<o.length;h++){const d=o[h];s<e.length-1?ag(r.replace(a[s],d),e,s+1,a,u):u.push(r.replace(a[s],d))}}function Ib(r){const e=/\{(.*?)\}/g,s=r.match(e),a=[];if(s){const u=[];s.forEach(o=>{const h=o.substring(1,o.length-1).split(",");u.push(h)}),ag(r,u,0,s,a)}else a.push(r);return a}const km=r=>!Array.isArray(r);class lg{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,s)=>`${e}${this._bundleIdConnector}${s}`,extractAssetIdFromBundle:(e,s)=>s.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(s=>{this._preferredOrder.push(s),s.priority||(s.priority=Object.keys(s.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const s=e;this._defaultSearchParams=Object.keys(s).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(s[a])}`).join("&")}}getAlias(e){const{alias:s,src:a}=e;return Es(s||a,o=>typeof o=="string"?o:Array.isArray(o)?o.map(h=>(h==null?void 0:h.src)??h):o!=null&&o.src?o.src:o,!0)}addManifest(e){this._manifest&&gi("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(s=>{this.addBundle(s.name,s.assets)})}addBundle(e,s){const a=[];let u=s;Array.isArray(s)||(u=Object.entries(s).map(([o,h])=>typeof h=="string"||Array.isArray(h)?{alias:o,src:h}:{alias:o,...h})),u.forEach(o=>{const h=o.src,d=o.alias;let m;if(typeof d=="string"){const y=this._createBundleAssetId(e,d);a.push(y),m=[d,y]}else{const y=d.map(g=>this._createBundleAssetId(e,g));a.push(...y),m=[...d,...y]}this.add({...o,alias:m,src:h})}),this._bundles[e]=a}add(e){const s=[];Array.isArray(e)?s.push(...e):s.push(e);let a;a=o=>{this.hasKey(o)&&gi(`[Resolver] already has key: ${o} overwriting`)},Es(s).forEach(o=>{const{src:h}=o;let{data:d,format:m,loadParser:y}=o;const g=Es(h).map(v=>typeof v=="string"?Ib(v):Array.isArray(v)?v:[v]),x=this.getAlias(o);Array.isArray(x)?x.forEach(a):a(x);const A=[];g.forEach(v=>{v.forEach(E=>{let z={};if(typeof E!="object"){z.src=E;for(let M=0;M<this._parsers.length;M++){const B=this._parsers[M];if(B.test(E)){z=B.parse(E);break}}}else d=E.data??d,m=E.format??m,y=E.loadParser??y,z={...z,...E};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${z.src}`);z=this._buildResolvedAsset(z,{aliases:x,data:d,format:m,loadParser:y}),A.push(z)})}),x.forEach(v=>{this._assetMap[v]=A})})}resolveBundle(e){const s=km(e);e=Es(e);const a={};return e.forEach(u=>{const o=this._bundles[u];if(o){const h=this.resolve(o),d={};for(const m in h){const y=h[m];d[this._extractAssetIdFromBundle(u,m)]=y}a[u]=d}}),s?a[e[0]]:a}resolveUrl(e){const s=this.resolve(e);if(typeof e!="string"){const a={};for(const u in s)a[u]=s[u].src;return a}return s.src}resolve(e){const s=km(e);e=Es(e);const a={};return e.forEach(u=>{if(!this._resolverHash[u])if(this._assetMap[u]){let o=this._assetMap[u];const h=this._getPreferredOrder(o);h==null||h.priority.forEach(d=>{h.params[d].forEach(m=>{const y=o.filter(g=>g[d]?g[d]===m:!1);y.length&&(o=y)})}),this._resolverHash[u]=o[0]}else this._resolverHash[u]=this._buildResolvedAsset({alias:[u],src:u},{});a[u]=this._resolverHash[u]}),s?a[e[0]]:a}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let s=0;s<e.length;s++){const a=e[0],u=this._preferredOrder.find(o=>o.params.format.includes(a.format));if(u)return u}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const s=/\?/.test(e)?"&":"?";return`${e}${s}${this._defaultSearchParams}`}_buildResolvedAsset(e,s){const{aliases:a,data:u,loadParser:o,format:h}=s;return(this._basePath||this._rootPath)&&(e.src=Ya.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=a??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...u||{},...e.data},e.loadParser=o??e.loadParser,e.format=h??e.format??Jb(e.src),e}}lg.RETINA_PREFIX=/@([0-9\.]+)x/;function Jb(r){return r.split(".").pop().split("?").shift().split("#").shift()}const Hm=(r,e)=>{const s=e.split("?")[1];return s&&(r+=`?${s}`),r},rg=class Da{constructor(e,s){this.linkedSheets=[],this._texture=e instanceof Yt?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=s;const a=parseFloat(s.meta.scale);a?(this.resolution=a,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Da.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let s=e;const a=Da.BATCH_SIZE;for(;s-e<a&&s<this._frameKeys.length;){const u=this._frameKeys[s],o=this._frames[u],h=o.frame;if(h){let d=null,m=null;const y=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new pe(0,0,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution);o.rotated?d=new pe(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):d=new pe(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(m=new pe(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[u]=new Yt({source:this.textureSource,frame:d,orig:g,trim:m,rotate:o.rotated?2:0,defaultAnchor:o.anchor,defaultBorders:o.borders,label:u.toString()})}s++}}_processAnimations(){const e=this.data.animations||{};for(const s in e){this.animations[s]=[];for(let a=0;a<e[s].length;a++){const u=e[s][a];this.animations[s].push(this.textures[u])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Da.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Da.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var s;for(const a in this.textures)this.textures[a].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((s=this._texture)==null||s.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};rg.BATCH_SIZE=1e3;let Ym=rg;const Wb=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function ug(r,e,s){const a={};if(r.forEach(u=>{a[u]=e}),Object.keys(e.textures).forEach(u=>{a[u]=e.textures[u]}),!s){const u=Ya.dirname(r[0]);e.linkedSheets.forEach((o,h)=>{const d=ug([`${u}/${e.data.meta.related_multi_packs[h]}`],o,!0);Object.assign(a,d)})}return a}const tv={extension:Gt.Asset,cache:{test:r=>r instanceof Ym,getCacheableAssets:(r,e)=>ug(r,e,!1)},resolver:{extension:{type:Gt.ResolveParser,name:"resolveSpritesheet"},test:r=>{const s=r.split("?")[0].split("."),a=s.pop(),u=s.pop();return a==="json"&&Wb.includes(u)},parse:r=>{var s;const e=r.split(".");return{resolution:parseFloat(((s=lg.RETINA_PREFIX.exec(r))==null?void 0:s[1])??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:Gt.LoadParser,priority:sg.Normal,name:"spritesheetLoader"},async testParse(r,e){return Ya.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,s){var y,g;const{texture:a,imageFilename:u}=(e==null?void 0:e.data)??{};let o=Ya.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let h;if(a instanceof Yt)h=a;else{const x=Hm(o+(u??r.meta.image),e.src);h=(await s.load([x]))[x]}const d=new Ym(h.source,r);await d.parse();const m=(y=r==null?void 0:r.meta)==null?void 0:y.related_multi_packs;if(Array.isArray(m)){const x=[];for(const v of m){if(typeof v!="string")continue;let E=o+v;(g=e.data)!=null&&g.ignoreMultiPack||(E=Hm(E,e.src),x.push(s.load({src:E,data:{ignoreMultiPack:!0}})))}const A=await Promise.all(x);d.linkedSheets=A,A.forEach(v=>{v.linkedSheets=[d].concat(d.linkedSheets.filter(E=>E!==v))})}return d},async unload(r,e,s){await s.unload(r.textureSource._sourceOrigin),r.destroy(!1)}}};xi.add(tv);const mc=Object.create(null),qm=Object.create(null);function Kc(r,e){let s=qm[r];return s===void 0&&(mc[e]===void 0&&(mc[e]=1),qm[r]=s=mc[e]++),s}let Ts;function og(){return(!Ts||Ts!=null&&Ts.isContextLost())&&(Ts=gn.get().createCanvas().getContext("webgl",{})),Ts}let gr;function ev(){if(!gr){gr="mediump";const r=og();r&&r.getShaderPrecisionFormat&&(gr=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision?"highp":"mediump")}return gr}function iv(r,e,s){return e?r:s?(r=r.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${r}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${r}
        `}function nv(r,e,s){const a=s?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(r.substring(0,9)!=="precision"){let u=s?e.requestedFragmentPrecision:e.requestedVertexPrecision;return u==="highp"&&a!=="highp"&&(u="mediump"),`precision ${u} float;
${r}`}else if(a!=="highp"&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}function sv(r,e){return e?`#version 300 es
${r}`:r}const av={},lv={};function rv(r,{name:e="pixi-program"},s=!0){e=e.replace(/\s+/g,"-"),e+=s?"-fragment":"-vertex";const a=s?av:lv;return a[e]?(a[e]++,e+=`-${a[e]}`):a[e]=1,r.indexOf("#define SHADER_NAME")!==-1?r:`${`#define SHADER_NAME ${e}`}
${r}`}function uv(r,e){return e?r.replace("#version 300 es",""):r}const yc={stripVersion:uv,ensurePrecision:nv,addProgramDefines:iv,setProgramName:rv,insertVersion:sv},gc=Object.create(null),cg=class Gc{constructor(e){e={...Gc.defaultOptions,...e};const s=e.fragment.indexOf("#version 300 es")!==-1,a={stripVersion:s,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:ev()},setProgramName:{name:e.name},addProgramDefines:s,insertVersion:s};let u=e.fragment,o=e.vertex;Object.keys(yc).forEach(h=>{const d=a[h];u=yc[h](u,d,!0),o=yc[h](o,d,!1)}),this.fragment=u,this.vertex=o,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Kc(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const s=`${e.vertex}:${e.fragment}`;return gc[s]||(gc[s]=new Gc(e)),gc[s]}};cg.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let hg=cg;const Lm={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function ov(r){return Lm[r]??Lm.float32}const cv={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function hv({source:r,entryPoint:e}){const s={},a=r.indexOf(`fn ${e}`);if(a!==-1){const u=r.indexOf("->",a);if(u!==-1){const o=r.substring(a,u),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=h.exec(o))!==null;){const m=cv[d[3]]??"float32";s[d[2]]={location:parseInt(d[1],10),format:m,stride:ov(m).stride,offset:0,instance:!1,start:0}}}}return s}function pc(r){var x,A;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,s=/@group\((\d+)\)/,a=/@binding\((\d+)\)/,u=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,y=(x=r.match(e))==null?void 0:x.map(v=>({group:parseInt(v.match(s)[1],10),binding:parseInt(v.match(a)[1],10),name:v.match(u)[2],isUniform:v.match(u)[1]==="<uniform>",type:v.match(o)[1]}));if(!y)return{groups:[],structs:[]};const g=((A=r.match(h))==null?void 0:A.map(v=>{const E=v.match(m)[1],z=v.match(d).reduce((M,B)=>{const[U,Y]=B.split(":");return M[U.trim()]=Y.trim(),M},{});return z?{name:E,members:z}:null}).filter(({name:v})=>y.some(E=>E.type===v)))??[];return{groups:y,structs:g}}var Ba=(r=>(r[r.VERTEX=1]="VERTEX",r[r.FRAGMENT=2]="FRAGMENT",r[r.COMPUTE=4]="COMPUTE",r))(Ba||{});function fv({groups:r}){const e=[];for(let s=0;s<r.length;s++){const a=r[s];e[a.group]||(e[a.group]=[]),a.isUniform?e[a.group].push({binding:a.binding,visibility:Ba.VERTEX|Ba.FRAGMENT,buffer:{type:"uniform"}}):a.type==="sampler"?e[a.group].push({binding:a.binding,visibility:Ba.FRAGMENT,sampler:{type:"filtering"}}):a.type==="texture_2d"&&e[a.group].push({binding:a.binding,visibility:Ba.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function dv({groups:r}){const e=[];for(let s=0;s<r.length;s++){const a=r[s];e[a.group]||(e[a.group]={}),e[a.group][a.name]=a.binding}return e}function mv(r,e){const s=new Set,a=new Set,u=[...r.structs,...e.structs].filter(h=>s.has(h.name)?!1:(s.add(h.name),!0)),o=[...r.groups,...e.groups].filter(h=>{const d=`${h.name}-${h.binding}`;return a.has(d)?!1:(a.add(d),!0)});return{structs:u,groups:o}}const xc=Object.create(null);class Rr{constructor(e){var d,m;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:s,vertex:a,layout:u,gpuLayout:o,name:h}=e;if(this.name=h,this.fragment=s,this.vertex=a,s.source===a.source){const y=pc(s.source);this.structsAndGroups=y}else{const y=pc(a.source),g=pc(s.source);this.structsAndGroups=mv(y,g)}this.layout=u??dv(this.structsAndGroups),this.gpuLayout=o??fv(this.structsAndGroups),this.autoAssignGlobalUniforms=((d=this.layout[0])==null?void 0:d.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((m=this.layout[1])==null?void 0:m.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:s}=this,a=e.source+s.source+e.entryPoint+s.entryPoint;this._layoutKey=Kc(a,"program")}get attributeData(){return this._attributeData??(this._attributeData=hv(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const s=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return xc[s]||(xc[s]=new Rr(e)),xc[s]}}const fg=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],yv=fg.reduce((r,e)=>(r[e]=!0,r),{});function gv(r,e){switch(r){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const dg=class mg{constructor(e,s){this._touched=0,this.uid=ae("uniform"),this._resourceType="uniformGroup",this._resourceId=ae("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,s={...mg.defaultOptions,...s},this.uniformStructures=e;const a={};for(const u in e){const o=e[u];if(o.name=u,o.size=o.size??1,!yv[o.type])throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${fg.join(", ")}`);o.value??(o.value=gv(o.type,o.size)),a[u]=o.value}this.uniforms=a,this._dirtyId=1,this.ubo=s.ubo,this.isStatic=s.isStatic,this._signature=Kc(Object.keys(a).map(u=>`${u}-${e[u].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};dg.defaultOptions={ubo:!1,isStatic:!1};let yg=dg;class Tr{constructor(e){this.resources=Object.create(null),this._dirty=!0;let s=0;for(const a in e){const u=e[a];this.setResource(u,s++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let s=0;for(const a in this.resources)e[s++]=this.resources[a]._resourceId;this._key=e.join("|")}setResource(e,s){var u,o;const a=this.resources[s];e!==a&&(a&&((u=e.off)==null||u.call(e,"change",this.onResourceChange,this)),(o=e.on)==null||o.call(e,"change",this.onResourceChange,this),this.resources[s]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const s=this.resources;for(const a in s)s[a]._touched=e}destroy(){var s;const e=this.resources;for(const a in e){const u=e[a];(s=u.off)==null||s.call(u,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const s=this.resources;for(const a in s)s[a]===e&&(s[a]=null)}else this._updateKey()}}var Uc=(r=>(r[r.WEBGL=1]="WEBGL",r[r.WEBGPU=2]="WEBGPU",r[r.BOTH=3]="BOTH",r))(Uc||{});class Ic extends qi{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:s,glProgram:a,groups:u,resources:o,compatibleRenderers:h,groupMap:d}=e;this.gpuProgram=s,this.glProgram=a,h===void 0&&(h=0,s&&(h|=Uc.WEBGPU),a&&(h|=Uc.WEBGL)),this.compatibleRenderers=h;const m={};if(!o&&!u&&(o={}),o&&u)throw new Error("[Shader] Cannot have both resources and groups");if(!s&&u&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!s&&u&&d)for(const y in d)for(const g in d[y]){const x=d[y][g];m[x]={group:y,binding:g,name:x}}else if(s&&u&&!d){const y=s.structsAndGroups.groups;d={},y.forEach(g=>{d[g.group]=d[g.group]||{},d[g.group][g.binding]=g.name,m[g.name]=g})}else if(o){u={},d={},s&&s.structsAndGroups.groups.forEach(x=>{d[x.group]=d[x.group]||{},d[x.group][x.binding]=x.name,m[x.name]=x});let y=0;for(const g in o)m[g]||(u[99]||(u[99]=new Tr,this._ownedBindGroups.push(u[99])),m[g]={group:99,binding:y,name:g},d[99]=d[99]||{},d[99][y]=g,y++);for(const g in o){const x=g;let A=o[g];!A.source&&!A._resourceType&&(A=new yg(A));const v=m[x];v&&(u[v.group]||(u[v.group]=new Tr,this._ownedBindGroups.push(u[v.group])),u[v.group].setResource(A,v.binding))}}this.groups=u,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(u,m)}addResource(e,s,a){var u,o;(u=this._uniformBindMap)[s]||(u[s]={}),(o=this._uniformBindMap[s])[a]||(o[a]=e),this.groups[s]||(this.groups[s]=new Tr,this._ownedBindGroups.push(this.groups[s]))}_buildResourceAccessor(e,s){const a={};for(const u in s){const o=s[u];Object.defineProperty(a,o.name,{get(){return e[o.group].getResource(o.binding)},set(h){e[o.group].setResource(h,o.binding)}})}return a}destroy(e=!1){var s,a;this.emit("destroy",this),e&&((s=this.gpuProgram)==null||s.destroy(),(a=this.glProgram)==null||a.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(u=>{u.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:s,gl:a,...u}=e;let o,h;return s&&(o=Rr.from(s)),a&&(h=hg.from(a)),new Ic({gpuProgram:o,glProgram:h,...u})}}const jc=[];xi.handleByNamedList(Gt.Environment,jc);async function pv(r){if(!r)for(let e=0;e<jc.length;e++){const s=jc[e];if(s.value.test()){await s.value.load();return}}}let wa;function xv(){if(typeof wa=="boolean")return wa;try{wa=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{wa=!1}return wa}var pr={exports:{}},Xm;function bv(){if(Xm)return pr.exports;Xm=1,pr.exports=r,pr.exports.default=r;function r(b,T,w){w=w||2;var j=T&&T.length,L=j?T[0]*w:b.length,S=e(b,0,L,w,!0),C=[];if(!S||S.next===S.prev)return C;var G,Q,W,nt,rt,ct,dt;if(j&&(S=m(b,T,S,w)),b.length>80*w){G=W=b[0],Q=nt=b[1];for(var bt=w;bt<L;bt+=w)rt=b[bt],ct=b[bt+1],rt<G&&(G=rt),ct<Q&&(Q=ct),rt>W&&(W=rt),ct>nt&&(nt=ct);dt=Math.max(W-G,nt-Q),dt=dt!==0?32767/dt:0}return a(S,C,w,G,Q,dt,0),C}function e(b,T,w,j,L){var S,C;if(L===Pt(b,T,w,j)>0)for(S=T;S<w;S+=j)C=mt(S,b[S],b[S+1],C);else for(S=w-j;S>=T;S-=j)C=mt(S,b[S],b[S+1],C);return C&&$(C,C.next)&&(xt(C),C=C.next),C}function s(b,T){if(!b)return b;T||(T=b);var w=b,j;do if(j=!1,!w.steiner&&($(w,w.next)||Y(w.prev,w,w.next)===0)){if(xt(w),w=T=w.prev,w===w.next)break;j=!0}else w=w.next;while(j||w!==T);return T}function a(b,T,w,j,L,S,C){if(b){!C&&S&&v(b,j,L,S);for(var G=b,Q,W;b.prev!==b.next;){if(Q=b.prev,W=b.next,S?o(b,j,L,S):u(b)){T.push(Q.i/w|0),T.push(b.i/w|0),T.push(W.i/w|0),xt(b),b=W.next,G=W.next;continue}if(b=W,b===G){C?C===1?(b=h(s(b),T,w),a(b,T,w,j,L,S,2)):C===2&&d(b,T,w,j,L,S):a(s(b),T,w,j,L,S,1);break}}}}function u(b){var T=b.prev,w=b,j=b.next;if(Y(T,w,j)>=0)return!1;for(var L=T.x,S=w.x,C=j.x,G=T.y,Q=w.y,W=j.y,nt=L<S?L<C?L:C:S<C?S:C,rt=G<Q?G<W?G:W:Q<W?Q:W,ct=L>S?L>C?L:C:S>C?S:C,dt=G>Q?G>W?G:W:Q>W?Q:W,bt=j.next;bt!==T;){if(bt.x>=nt&&bt.x<=ct&&bt.y>=rt&&bt.y<=dt&&B(L,G,S,Q,C,W,bt.x,bt.y)&&Y(bt.prev,bt,bt.next)>=0)return!1;bt=bt.next}return!0}function o(b,T,w,j){var L=b.prev,S=b,C=b.next;if(Y(L,S,C)>=0)return!1;for(var G=L.x,Q=S.x,W=C.x,nt=L.y,rt=S.y,ct=C.y,dt=G<Q?G<W?G:W:Q<W?Q:W,bt=nt<rt?nt<ct?nt:ct:rt<ct?rt:ct,Se=G>Q?G>W?G:W:Q>W?Q:W,he=nt>rt?nt>ct?nt:ct:rt>ct?rt:ct,Ne=z(dt,bt,T,w,j),le=z(Se,he,T,w,j),yt=b.prevZ,St=b.nextZ;yt&&yt.z>=Ne&&St&&St.z<=le;){if(yt.x>=dt&&yt.x<=Se&&yt.y>=bt&&yt.y<=he&&yt!==L&&yt!==C&&B(G,nt,Q,rt,W,ct,yt.x,yt.y)&&Y(yt.prev,yt,yt.next)>=0||(yt=yt.prevZ,St.x>=dt&&St.x<=Se&&St.y>=bt&&St.y<=he&&St!==L&&St!==C&&B(G,nt,Q,rt,W,ct,St.x,St.y)&&Y(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;yt&&yt.z>=Ne;){if(yt.x>=dt&&yt.x<=Se&&yt.y>=bt&&yt.y<=he&&yt!==L&&yt!==C&&B(G,nt,Q,rt,W,ct,yt.x,yt.y)&&Y(yt.prev,yt,yt.next)>=0)return!1;yt=yt.prevZ}for(;St&&St.z<=le;){if(St.x>=dt&&St.x<=Se&&St.y>=bt&&St.y<=he&&St!==L&&St!==C&&B(G,nt,Q,rt,W,ct,St.x,St.y)&&Y(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function h(b,T,w){var j=b;do{var L=j.prev,S=j.next.next;!$(L,S)&&J(L,j,j.next,S)&&ht(L,S)&&ht(S,L)&&(T.push(L.i/w|0),T.push(j.i/w|0),T.push(S.i/w|0),xt(j),xt(j.next),j=b=S),j=j.next}while(j!==b);return s(j)}function d(b,T,w,j,L,S){var C=b;do{for(var G=C.next.next;G!==C.prev;){if(C.i!==G.i&&U(C,G)){var Q=et(C,G);C=s(C,C.next),Q=s(Q,Q.next),a(C,T,w,j,L,S,0),a(Q,T,w,j,L,S,0);return}G=G.next}C=C.next}while(C!==b)}function m(b,T,w,j){var L=[],S,C,G,Q,W;for(S=0,C=T.length;S<C;S++)G=T[S]*j,Q=S<C-1?T[S+1]*j:b.length,W=e(b,G,Q,j,!1),W===W.next&&(W.steiner=!0),L.push(M(W));for(L.sort(y),S=0;S<L.length;S++)w=g(L[S],w);return w}function y(b,T){return b.x-T.x}function g(b,T){var w=x(b,T);if(!w)return T;var j=et(w,b);return s(j,j.next),s(w,w.next)}function x(b,T){var w=T,j=b.x,L=b.y,S=-1/0,C;do{if(L<=w.y&&L>=w.next.y&&w.next.y!==w.y){var G=w.x+(L-w.y)*(w.next.x-w.x)/(w.next.y-w.y);if(G<=j&&G>S&&(S=G,C=w.x<w.next.x?w:w.next,G===j))return C}w=w.next}while(w!==T);if(!C)return null;var Q=C,W=C.x,nt=C.y,rt=1/0,ct;w=C;do j>=w.x&&w.x>=W&&j!==w.x&&B(L<nt?j:S,L,W,nt,L<nt?S:j,L,w.x,w.y)&&(ct=Math.abs(L-w.y)/(j-w.x),ht(w,b)&&(ct<rt||ct===rt&&(w.x>C.x||w.x===C.x&&A(C,w)))&&(C=w,rt=ct)),w=w.next;while(w!==Q);return C}function A(b,T){return Y(b.prev,b,T.prev)<0&&Y(T.next,b,b.next)<0}function v(b,T,w,j){var L=b;do L.z===0&&(L.z=z(L.x,L.y,T,w,j)),L.prevZ=L.prev,L.nextZ=L.next,L=L.next;while(L!==b);L.prevZ.nextZ=null,L.prevZ=null,E(L)}function E(b){var T,w,j,L,S,C,G,Q,W=1;do{for(w=b,b=null,S=null,C=0;w;){for(C++,j=w,G=0,T=0;T<W&&(G++,j=j.nextZ,!!j);T++);for(Q=W;G>0||Q>0&&j;)G!==0&&(Q===0||!j||w.z<=j.z)?(L=w,w=w.nextZ,G--):(L=j,j=j.nextZ,Q--),S?S.nextZ=L:b=L,L.prevZ=S,S=L;w=j}S.nextZ=null,W*=2}while(C>1);return b}function z(b,T,w,j,L){return b=(b-w)*L|0,T=(T-j)*L|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,b|T<<1}function M(b){var T=b,w=b;do(T.x<w.x||T.x===w.x&&T.y<w.y)&&(w=T),T=T.next;while(T!==b);return w}function B(b,T,w,j,L,S,C,G){return(L-C)*(T-G)>=(b-C)*(S-G)&&(b-C)*(j-G)>=(w-C)*(T-G)&&(w-C)*(S-G)>=(L-C)*(j-G)}function U(b,T){return b.next.i!==T.i&&b.prev.i!==T.i&&!at(b,T)&&(ht(b,T)&&ht(T,b)&&it(b,T)&&(Y(b.prev,b,T.prev)||Y(b,T.prev,T))||$(b,T)&&Y(b.prev,b,b.next)>0&&Y(T.prev,T,T.next)>0)}function Y(b,T,w){return(T.y-b.y)*(w.x-T.x)-(T.x-b.x)*(w.y-T.y)}function $(b,T){return b.x===T.x&&b.y===T.y}function J(b,T,w,j){var L=X(Y(b,T,w)),S=X(Y(b,T,j)),C=X(Y(w,j,b)),G=X(Y(w,j,T));return!!(L!==S&&C!==G||L===0&&P(b,w,T)||S===0&&P(b,j,T)||C===0&&P(w,b,j)||G===0&&P(w,T,j))}function P(b,T,w){return T.x<=Math.max(b.x,w.x)&&T.x>=Math.min(b.x,w.x)&&T.y<=Math.max(b.y,w.y)&&T.y>=Math.min(b.y,w.y)}function X(b){return b>0?1:b<0?-1:0}function at(b,T){var w=b;do{if(w.i!==b.i&&w.next.i!==b.i&&w.i!==T.i&&w.next.i!==T.i&&J(w,w.next,b,T))return!0;w=w.next}while(w!==b);return!1}function ht(b,T){return Y(b.prev,b,b.next)<0?Y(b,T,b.next)>=0&&Y(b,b.prev,T)>=0:Y(b,T,b.prev)<0||Y(b,b.next,T)<0}function it(b,T){var w=b,j=!1,L=(b.x+T.x)/2,S=(b.y+T.y)/2;do w.y>S!=w.next.y>S&&w.next.y!==w.y&&L<(w.next.x-w.x)*(S-w.y)/(w.next.y-w.y)+w.x&&(j=!j),w=w.next;while(w!==b);return j}function et(b,T){var w=new zt(b.i,b.x,b.y),j=new zt(T.i,T.x,T.y),L=b.next,S=T.prev;return b.next=T,T.prev=b,w.next=L,L.prev=w,j.next=w,w.prev=j,S.next=j,j.prev=S,j}function mt(b,T,w,j){var L=new zt(b,T,w);return j?(L.next=j.next,L.prev=j,j.next.prev=L,j.next=L):(L.prev=L,L.next=L),L}function xt(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function zt(b,T,w){this.i=b,this.x=T,this.y=w,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(b,T,w,j){var L=T&&T.length,S=L?T[0]*w:b.length,C=Math.abs(Pt(b,0,S,w));if(L)for(var G=0,Q=T.length;G<Q;G++){var W=T[G]*w,nt=G<Q-1?T[G+1]*w:b.length;C-=Math.abs(Pt(b,W,nt,w))}var rt=0;for(G=0;G<j.length;G+=3){var ct=j[G]*w,dt=j[G+1]*w,bt=j[G+2]*w;rt+=Math.abs((b[ct]-b[bt])*(b[dt+1]-b[ct+1])-(b[ct]-b[dt])*(b[bt+1]-b[ct+1]))}return C===0&&rt===0?0:Math.abs((rt-C)/C)};function Pt(b,T,w,j){for(var L=0,S=T,C=w-j;S<w;S+=j)L+=(b[C]-b[S])*(b[S+1]+b[C+1]),C=S;return L}return r.flatten=function(b){for(var T=b[0][0].length,w={vertices:[],holes:[],dimensions:T},j=0,L=0;L<b.length;L++){for(var S=0;S<b[L].length;S++)for(var C=0;C<T;C++)w.vertices.push(b[L][S][C]);L>0&&(j+=b[L-1].length,w.holes.push(j))}return w},pr.exports}var vv=bv();const _v=Xa(vv);var gg=(r=>(r[r.NONE=0]="NONE",r[r.COLOR=16384]="COLOR",r[r.STENCIL=1024]="STENCIL",r[r.DEPTH=256]="DEPTH",r[r.COLOR_DEPTH=16640]="COLOR_DEPTH",r[r.COLOR_STENCIL=17408]="COLOR_STENCIL",r[r.DEPTH_STENCIL=1280]="DEPTH_STENCIL",r[r.ALL=17664]="ALL",r))(gg||{});class Sv{constructor(e){this.items=[],this._name=e}emit(e,s,a,u,o,h,d,m){const{name:y,items:g}=this;for(let x=0,A=g.length;x<A;x++)g[x][y](e,s,a,u,o,h,d,m);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const s=this.items.indexOf(e);return s!==-1&&this.items.splice(s,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Av=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],pg=class xg extends qi{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const s=[...Av,...this.config.runners??[]];this._addRunners(...s),this._unsafeEvalCheck()}async init(e={}){const s=e.skipExtensionImports===!0?!0:e.manageImports===!1;await pv(s),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const a in this._systemsHash)e={...this._systemsHash[a].constructor.defaultOptions,...e};e={...xg.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let a=0;a<this.runners.init.items.length;a++)await this.runners.init.items[a].init(e);this._initOptions=e}render(e,s){let a=e;if(a instanceof Jt&&(a={container:a},s&&($t(se,"passing a second argument is deprecated, please use render options instead"),a.target=s.renderTexture)),a.target||(a.target=this.view.renderTarget),a.target===this.view.renderTarget&&(this._lastObjectRendered=a.container,a.clearColor=this.background.colorRgba),a.clearColor){const u=Array.isArray(a.clearColor)&&a.clearColor.length===4;a.clearColor=u?a.clearColor:Ve.shared.setValue(a.clearColor).toArray()}a.transform||(a.container.updateLocalTransform(),a.transform=a.container.localTransform),a.container.enableRenderGroup(),this.runners.prerender.emit(a),this.runners.renderStart.emit(a),this.runners.render.emit(a),this.runners.renderEnd.emit(a),this.runners.postrender.emit(a)}resize(e,s,a){const u=this.view.resolution;this.view.resize(e,s,a),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),a!==void 0&&a!==u&&this.runners.resolutionChange.emit(a)}clear(e={}){const s=this;e.target||(e.target=s.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=gg.ALL);const{clear:a,clearColor:u,target:o}=e;Ve.shared.setValue(u??this.background.colorRgba),s.renderTarget.clear(o,a,Ve.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(s=>{this.runners[s]=new Sv(s)})}_addSystems(e){let s;for(s in e){const a=e[s];this._addSystem(a.value,a.name)}}_addSystem(e,s){const a=new e(this);if(this[s])throw new Error(`Whoops! The name "${s}" is already in use`);this[s]=a,this._systemsHash[s]=a;for(const u in this.runners)this.runners[u].add(a);return this}_addPipes(e,s){const a=s.reduce((u,o)=>(u[o.name]=o.value,u),{});e.forEach(u=>{const o=u.value,h=u.name,d=a[h];this.renderPipes[h]=new o(this,d?new d:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(s=>{s.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!xv())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};pg.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let bg=pg,xr;function Tv(r){return xr!==void 0||(xr=(()=>{var s;const e={stencil:!0,failIfMajorPerformanceCaveat:r??bg.defaultOptions.failIfMajorPerformanceCaveat};try{if(!gn.get().getWebGLRenderingContext())return!1;let u=gn.get().createCanvas().getContext("webgl",e);const o=!!((s=u==null?void 0:u.getContextAttributes())!=null&&s.stencil);if(u){const h=u.getExtension("WEBGL_lose_context");h&&h.loseContext()}return u=null,o}catch{return!1}})()),xr}let br;async function Mv(r={}){return br!==void 0||(br=await(async()=>{const e=gn.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(r)).requestDevice(),!0}catch{return!1}})()),br}const Vm=["webgl","webgpu","canvas"];async function Ev(r){let e=[];r.preference?(e.push(r.preference),Vm.forEach(o=>{o!==r.preference&&e.push(o)})):e=Vm.slice();let s,a={};for(let o=0;o<e.length;o++){const h=e[o];if(h==="webgpu"&&await Mv()){const{WebGPURenderer:d}=await Cr(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-DVzRNgIA.js");return{WebGPURenderer:m}},__vite__mapDeps([4,2,5,3]));s=d,a={...r,...r.webgpu};break}else if(h==="webgl"&&Tv(r.failIfMajorPerformanceCaveat??bg.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Cr(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-BtttYEhj.js");return{WebGLRenderer:m}},__vite__mapDeps([6,2,5]));s=d,a={...r,...r.webgl};break}else if(h==="canvas")throw a={...r},new Error("CanvasRenderer is not yet implemented")}if(delete a.webgpu,delete a.webgl,!s)throw new Error("No available renderer for the current environment");const u=new s;return await u.init(a),u}const vg="8.6.6";class _g{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,vg)}static destroy(){}}_g.extension=Gt.Application;class Cv{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,vg)}destroy(){this._renderer=null}}Cv.extension={type:[Gt.WebGLSystem,Gt.WebGPUSystem],name:"initHook",priority:-10};const Sg=class kc{constructor(...e){this.stage=new Jt,e[0]!==void 0&&$t(se,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await Ev(e),kc._plugins.forEach(s=>{s.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return $t(se,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,s=!1){const a=kc._plugins.slice(0);a.reverse(),a.forEach(u=>{u.destroy.call(this)}),this.stage.destroy(s),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Sg._plugins=[];let Ag=Sg;xi.handleByList(Gt.Application,Ag._plugins);xi.add(_g);const Tg=class Hc{constructor(e,s,a,u){this.uid=ae("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=s,this.x1=a,this.y1=u}addColorStop(e,s){return this.gradientStops.push({offset:e,color:Ve.shared.setValue(s).toHexa()}),this._styleKey=null,this}buildLinearGradient(){if(this.texture)return;const e=Hc.defaultTextureSize,{gradientStops:s}=this,a=gn.get().createCanvas();a.width=e,a.height=e;const u=a.getContext("2d"),o=u.createLinearGradient(0,0,Hc.defaultTextureSize,1);for(let z=0;z<s.length;z++){const M=s[z];o.addColorStop(M.offset,M.color)}u.fillStyle=o,u.fillRect(0,0,e,e),this.texture=new Yt({source:new $c({resource:a,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:h,y0:d,x1:m,y1:y}=this,g=new Ot,x=m-h,A=y-d,v=Math.sqrt(x*x+A*A),E=Math.atan2(A,x);g.translate(-h,-d),g.scale(1/e,1/e),g.rotate(-E),g.scale(256/v,1),this.transform=g,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(u=>`${u.offset}-${u.color}`).join("-"),s=this.texture.uid,a=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${s}-${a}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};Tg.defaultTextureSize=256;let wv=Tg;const Pm={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Rv{constructor(e,s){this.uid=ae("fillPattern"),this.transform=new Ot,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),s&&(e.source.style.addressModeU=Pm[s].addressModeU,e.source.style.addressModeV=Pm[s].addressModeV)}setTransform(e){const s=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/s.frame.width,1/s.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var bc,Fm;function zv(){if(Fm)return bc;Fm=1,bc=s;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function s(o){var h=[];return o.replace(e,function(d,m,y){var g=m.toLowerCase();for(y=u(y),g=="m"&&y.length>2&&(h.push([m].concat(y.splice(0,2))),g="l",m=m=="m"?"l":"L");;){if(y.length==r[g])return y.unshift(m),h.push(y);if(y.length<r[g])throw new Error("malformed path data");h.push([m].concat(y.splice(0,r[g])))}}),h}var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function u(o){var h=o.match(a);return h?h.map(Number):[]}return bc}var Nv=zv();const Ov=Xa(Nv);function Dv(r,e){const s=Ov(r),a=[];let u=null,o=0,h=0;for(let d=0;d<s.length;d++){const m=s[d],y=m[0],g=m;switch(y){case"M":o=g[1],h=g[2],e.moveTo(o,h);break;case"m":o+=g[1],h+=g[2],e.moveTo(o,h);break;case"H":o=g[1],e.lineTo(o,h);break;case"h":o+=g[1],e.lineTo(o,h);break;case"V":h=g[1],e.lineTo(o,h);break;case"v":h+=g[1],e.lineTo(o,h);break;case"L":o=g[1],h=g[2],e.lineTo(o,h);break;case"l":o+=g[1],h+=g[2],e.lineTo(o,h);break;case"C":o=g[5],h=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],o,h);break;case"c":e.bezierCurveTo(o+g[1],h+g[2],o+g[3],h+g[4],o+g[5],h+g[6]),o+=g[5],h+=g[6];break;case"S":o=g[3],h=g[4],e.bezierCurveToShort(g[1],g[2],o,h);break;case"s":e.bezierCurveToShort(o+g[1],h+g[2],o+g[3],h+g[4]),o+=g[3],h+=g[4];break;case"Q":o=g[3],h=g[4],e.quadraticCurveTo(g[1],g[2],o,h);break;case"q":e.quadraticCurveTo(o+g[1],h+g[2],o+g[3],h+g[4]),o+=g[3],h+=g[4];break;case"T":o=g[1],h=g[2],e.quadraticCurveToShort(o,h);break;case"t":o+=g[1],h+=g[2],e.quadraticCurveToShort(o,h);break;case"A":o=g[6],h=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],o,h);break;case"a":o+=g[6],h+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],o,h);break;case"Z":case"z":e.closePath(),a.length>0&&(u=a.pop(),u?(o=u.startX,h=u.startY):(o=0,h=0)),u=null;break;default:gi(`Unknown SVG path command: ${y}`)}y!=="Z"&&y!=="z"&&u===null&&(u={startX:o,startY:h},a.push(u))}return e}class Jc{constructor(e=0,s=0,a=0){this.type="circle",this.x=e,this.y=s,this.radius=a}clone(){return new Jc(this.x,this.y,this.radius)}contains(e,s){if(this.radius<=0)return!1;const a=this.radius*this.radius;let u=this.x-e,o=this.y-s;return u*=u,o*=o,u+o<=a}strokeContains(e,s,a,u=.5){if(this.radius===0)return!1;const o=this.x-e,h=this.y-s,d=this.radius,m=(1-u)*a,y=Math.sqrt(o*o+h*h);return y<=d+m&&y>d-(a-m)}getBounds(e){return e||(e=new pe),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Wc{constructor(e=0,s=0,a=0,u=0){this.type="ellipse",this.x=e,this.y=s,this.halfWidth=a,this.halfHeight=u}clone(){return new Wc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,s){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let a=(e-this.x)/this.halfWidth,u=(s-this.y)/this.halfHeight;return a*=a,u*=u,a+u<=1}strokeContains(e,s,a,u=.5){const{halfWidth:o,halfHeight:h}=this;if(o<=0||h<=0)return!1;const d=a*(1-u),m=a-d,y=o-m,g=h-m,x=o+d,A=h+d,v=e-this.x,E=s-this.y,z=v*v/(y*y)+E*E/(g*g),M=v*v/(x*x)+E*E/(A*A);return z>1&&M<=1}getBounds(e){return e||(e=new pe),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Bv(r,e,s,a,u,o){const h=r-s,d=e-a,m=u-s,y=o-a,g=h*m+d*y,x=m*m+y*y;let A=-1;x!==0&&(A=g/x);let v,E;A<0?(v=s,E=a):A>1?(v=u,E=o):(v=s+A*m,E=a+A*y);const z=r-v,M=e-E;return z*z+M*M}class ka{constructor(...e){this.type="polygon";let s=Array.isArray(e[0])?e[0]:e;if(typeof s[0]!="number"){const a=[];for(let u=0,o=s.length;u<o;u++)a.push(s[u].x,s[u].y);s=a}this.points=s,this.closePath=!0}clone(){const e=this.points.slice(),s=new ka(e);return s.closePath=this.closePath,s}contains(e,s){let a=!1;const u=this.points.length/2;for(let o=0,h=u-1;o<u;h=o++){const d=this.points[o*2],m=this.points[o*2+1],y=this.points[h*2],g=this.points[h*2+1];m>s!=g>s&&e<(y-d)*((s-m)/(g-m))+d&&(a=!a)}return a}strokeContains(e,s,a,u=.5){const o=a*a,h=o*(1-u),d=o-h,{points:m}=this,y=m.length-(this.closePath?0:2);for(let g=0;g<y;g+=2){const x=m[g],A=m[g+1],v=m[(g+2)%m.length],E=m[(g+3)%m.length],z=Bv(e,s,x,A,v,E),M=Math.sign((v-x)*(s-A)-(E-A)*(e-x));if(z<=(M<0?d:h))return!0}return!1}getBounds(e){e||(e=new pe);const s=this.points;let a=1/0,u=-1/0,o=1/0,h=-1/0;for(let d=0,m=s.length;d<m;d+=2){const y=s[d],g=s[d+1];a=y<a?y:a,u=y>u?y:u,o=g<o?g:o,h=g>h?g:h}return e.x=a,e.width=u-a,e.y=o,e.height=h-o,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,s)=>`${e}, ${s}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const vr=(r,e,s,a,u,o,h)=>{const d=r-s,m=e-a,y=Math.sqrt(d*d+m*m);return y>=u-o&&y<=u+h};class th{constructor(e=0,s=0,a=0,u=0,o=20){this.type="roundedRectangle",this.x=e,this.y=s,this.width=a,this.height=u,this.radius=o}getBounds(e){return e||(e=new pe),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new th(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,s){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&s>=this.y&&s<=this.y+this.height){const a=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(s>=this.y+a&&s<=this.y+this.height-a||e>=this.x+a&&e<=this.x+this.width-a)return!0;let u=e-(this.x+a),o=s-(this.y+a);const h=a*a;if(u*u+o*o<=h||(u=e-(this.x+this.width-a),u*u+o*o<=h)||(o=s-(this.y+this.height-a),u*u+o*o<=h)||(u=e-(this.x+a),u*u+o*o<=h))return!0}return!1}strokeContains(e,s,a,u=.5){const{x:o,y:h,width:d,height:m,radius:y}=this,g=a*(1-u),x=a-g,A=o+y,v=h+y,E=d-y*2,z=m-y*2,M=o+d,B=h+m;return(e>=o-g&&e<=o+x||e>=M-x&&e<=M+g)&&s>=v&&s<=v+z||(s>=h-g&&s<=h+x||s>=B-x&&s<=B+g)&&e>=A&&e<=A+E?!0:e<A&&s<v&&vr(e,s,A,v,y,x,g)||e>M-y&&s<v&&vr(e,s,M-y,v,y,x,g)||e>M-y&&s>B-y&&vr(e,s,M-y,B-y,y,x,g)||e<A&&s>B-y&&vr(e,s,A,B-y,y,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Gv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Uv(r){let e="";for(let s=0;s<r;++s)s>0&&(e+=`
else `),s<r-1&&(e+=`if(test == ${s}.0){}`);return e}function jv(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const s=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const a=Gv.replace(/%forloop%/gi,Uv(r));if(e.shaderSource(s,a),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))r=r/2|0;else break}}finally{e.deleteShader(s)}return r}let Ms=null;function Mg(){var e;if(Ms)return Ms;const r=og();return Ms=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ms=jv(Ms,r),(e=r.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Ms}const Eg={};function kv(r,e){let s=2166136261;for(let a=0;a<e;a++)s^=r[a].uid,s=Math.imul(s,16777619),s>>>=0;return Eg[s]||Hv(r,e,s)}let vc=0;function Hv(r,e,s){const a={};let u=0;vc||(vc=Mg());for(let h=0;h<vc;h++){const d=h<e?r[h]:Yt.EMPTY.source;a[u++]=d.source,a[u++]=d.style}const o=new Tr(a);return Eg[s]=o,o}class Qm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Zm(r,e){const s=r.byteLength/8|0,a=new Float64Array(r,0,s);new Float64Array(e,0,s).set(a);const o=r.byteLength-s*8;if(o>0){const h=new Uint8Array(r,s*8,o);new Uint8Array(e,s*8,o).set(h)}}const Yv={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var qv=(r=>(r[r.DISABLED=0]="DISABLED",r[r.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",r[r.MASK_ACTIVE=2]="MASK_ACTIVE",r[r.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",r[r.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",r[r.NONE=5]="NONE",r))(qv||{});function $m(r,e){return e.alphaMode==="no-premultiply-alpha"&&Yv[r]||r}class Lv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const s=this.textures[e];this.textures[e]=null,this.ids[s.uid]=null}this.count=0}}class Xv{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Lv,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Cg=[];let Yc=0;function Km(){return Yc>0?Cg[--Yc]:new Xv}function Im(r){Cg[Yc++]=r}let Ra=0;const wg=class Mr{constructor(e={}){this.uid=ae("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Mr.defaultOptions.maxTextures=Mr.defaultOptions.maxTextures??Mg(),e={...Mr.defaultOptions,...e};const{maxTextures:s,attributesInitialSize:a,indicesInitialSize:u}=e;this.attributeBuffer=new Qm(a*4),this.indexBuffer=new Uint16Array(u),this.maxTextures=s}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Im(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,s){const a=e._batch.textures.ids[s._source.uid];return!a&&a!==0?!1:(e._textureId=a,e.texture=s,!0)}updateElement(e){this.dirty=!0;const s=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,s.float32View,s.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,s.float32View,s.uint32View,e._attributeStart,e._textureId)}break(e){const s=this._elements;if(!s[this.elementStart])return;let a=Km(),u=a.textures;u.clear();const o=s[this.elementStart];let h=$m(o.blendMode,o.texture._source),d=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,y=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,A=this._batchIndexStart,v="startBatch";const E=this.maxTextures;for(let z=this.elementStart;z<this.elementSize;++z){const M=s[z];s[z]=null;const U=M.texture._source,Y=$m(M.blendMode,U),$=h!==Y||d!==M.topology;if(U._batchTick===Ra&&!$){M._textureId=U._textureBindLocation,x+=M.indexSize,M.packAsQuad?(this.packQuadAttributes(M,m,y,M._attributeStart,M._textureId),this.packQuadIndex(g,M._indexStart,M._attributeStart/this.vertexSize)):(this.packAttributes(M,m,y,M._attributeStart,M._textureId),this.packIndex(M,g,M._indexStart,M._attributeStart/this.vertexSize)),M._batch=a;continue}U._batchTick=Ra,(u.count>=E||$)&&(this._finishBatch(a,A,x-A,u,h,d,e,v),v="renderBatch",A=x,h=Y,d=M.topology,a=Km(),u=a.textures,u.clear(),++Ra),M._textureId=U._textureBindLocation=u.count,u.ids[U.uid]=u.count,u.textures[u.count++]=U,M._batch=a,x+=M.indexSize,M.packAsQuad?(this.packQuadAttributes(M,m,y,M._attributeStart,M._textureId),this.packQuadIndex(g,M._indexStart,M._attributeStart/this.vertexSize)):(this.packAttributes(M,m,y,M._attributeStart,M._textureId),this.packIndex(M,g,M._indexStart,M._attributeStart/this.vertexSize))}u.count>0&&(this._finishBatch(a,A,x-A,u,h,d,e,v),A=x,++Ra),this.elementStart=this.elementSize,this._batchIndexStart=A,this._batchIndexSize=x}_finishBatch(e,s,a,u,o,h,d,m){e.gpuBindGroup=null,e.bindGroup=null,e.action=m,e.batcher=this,e.textures=u,e.blendMode=o,e.topology=h,e.start=s,e.size=a,++Ra,this.batches[this.batchIndex++]=e,d.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const s=Math.max(e,this.attributeBuffer.size*2),a=new Qm(s);Zm(this.attributeBuffer.rawBinaryData,a.rawBinaryData),this.attributeBuffer=a}_resizeIndexBuffer(e){const s=this.indexBuffer;let a=Math.max(e,s.length*1.5);a+=a%2;const u=a>65535?new Uint32Array(a):new Uint16Array(a);if(u.BYTES_PER_ELEMENT!==s.BYTES_PER_ELEMENT)for(let o=0;o<s.length;o++)u[o]=s[o];else Zm(s.buffer,u.buffer);this.indexBuffer=u}packQuadIndex(e,s,a){e[s]=a+0,e[s+1]=a+1,e[s+2]=a+2,e[s+3]=a+0,e[s+4]=a+2,e[s+5]=a+3}packIndex(e,s,a,u){const o=e.indices,h=e.indexSize,d=e.indexOffset,m=e.attributeOffset;for(let y=0;y<h;y++)s[a++]=u+o[y+d]-m}destroy(){for(let e=0;e<this.batches.length;e++)Im(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};wg.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Vv=wg;var ze=(r=>(r[r.MAP_READ=1]="MAP_READ",r[r.MAP_WRITE=2]="MAP_WRITE",r[r.COPY_SRC=4]="COPY_SRC",r[r.COPY_DST=8]="COPY_DST",r[r.INDEX=16]="INDEX",r[r.VERTEX=32]="VERTEX",r[r.UNIFORM=64]="UNIFORM",r[r.STORAGE=128]="STORAGE",r[r.INDIRECT=256]="INDIRECT",r[r.QUERY_RESOLVE=512]="QUERY_RESOLVE",r[r.STATIC=1024]="STATIC",r))(ze||{});class qa extends qi{constructor(e){let{data:s,size:a}=e;const{usage:u,label:o,shrinkToFit:h}=e;super(),this.uid=ae("buffer"),this._resourceType="buffer",this._resourceId=ae("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,s instanceof Array&&(s=new Float32Array(s)),this._data=s,a??(a=s==null?void 0:s.byteLength);const d=!!s;this.descriptor={size:a,usage:u,mappedAtCreation:d,label:o},this.shrinkToFit=h??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ze.STATIC)}set static(e){e?this.descriptor.usage|=ze.STATIC:this.descriptor.usage&=~ze.STATIC}setDataWithSize(e,s,a){if(this._updateID++,this._updateSize=s*e.BYTES_PER_ELEMENT,this._data===e){a&&this.emit("update",this);return}const u=this._data;if(this._data=e,this._dataInt32=null,!u||u.length!==e.length){!this.shrinkToFit&&u&&e.byteLength<u.byteLength?a&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=ae("resource"),this.emit("change",this));return}a&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Rg(r,e){if(!(r instanceof qa)){let s=e?ze.INDEX:ze.VERTEX;r instanceof Array&&(e?(r=new Uint32Array(r),s=ze.INDEX|ze.COPY_DST):(r=new Float32Array(r),s=ze.VERTEX|ze.COPY_DST)),r=new qa({data:r,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:s})}return r}function Pv(r,e,s){const a=r.getAttribute(e);if(!a)return s.minX=0,s.minY=0,s.maxX=0,s.maxY=0,s;const u=a.buffer.data;let o=1/0,h=1/0,d=-1/0,m=-1/0;const y=u.BYTES_PER_ELEMENT,g=(a.offset||0)/y,x=(a.stride||8)/y;for(let A=g;A<u.length;A+=x){const v=u[A],E=u[A+1];v>d&&(d=v),E>m&&(m=E),v<o&&(o=v),E<h&&(h=E)}return s.minX=o,s.minY=h,s.maxX=d,s.maxY=m,s}function Fv(r){return(r instanceof qa||Array.isArray(r)||r.BYTES_PER_ELEMENT)&&(r={buffer:r}),r.buffer=Rg(r.buffer,!1),r}class Qv extends qi{constructor(e={}){super(),this.uid=ae("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new pi,this._boundsDirty=!0;const{attributes:s,indexBuffer:a,topology:u}=e;if(this.buffers=[],this.attributes={},s)for(const o in s)this.addAttribute(o,s[o]);this.instanceCount=e.instanceCount??1,a&&this.addIndex(a),this.topology=u||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const s=this.attributes[e];return s.buffer.data.length/(s.stride/4||s.size)}return 0}addAttribute(e,s){const a=Fv(s);this.buffers.indexOf(a.buffer)===-1&&(this.buffers.push(a.buffer),a.buffer.on("update",this.onBufferUpdate,this),a.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=a}addIndex(e){this.indexBuffer=Rg(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Pv(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(s=>s.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Zv=new Float32Array(1),$v=new Uint32Array(1);class Kv extends Qv{constructor(){const s=new qa({data:Zv,label:"attribute-batch-buffer",usage:ze.VERTEX|ze.COPY_DST,shrinkToFit:!1}),a=new qa({data:$v,label:"index-batch-buffer",usage:ze.INDEX|ze.COPY_DST,shrinkToFit:!1}),u=24;super({attributes:{aPosition:{buffer:s,format:"float32x2",stride:u,offset:0},aUV:{buffer:s,format:"float32x2",stride:u,offset:8},aColor:{buffer:s,format:"unorm8x4",stride:u,offset:16},aTextureIdAndRound:{buffer:s,format:"uint16x2",stride:u,offset:20}},indexBuffer:a})}}function Jm(r,e,s){if(r)for(const a in r){const u=a.toLocaleLowerCase(),o=e[u];if(o){let h=r[a];a==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),s&&o.push(`//----${s}----//`),o.push(h)}else gi(`${a} placement hook does not exist in shader`)}}const Iv=/\{\{(.*?)\}\}/g;function Wm(r){var a;const e={};return(((a=r.match(Iv))==null?void 0:a.map(u=>u.replace(/[{()}]/g,"")))??[]).forEach(u=>{e[u]=[]}),e}function ty(r,e){let s;const a=/@in\s+([^;]+);/g;for(;(s=a.exec(r))!==null;)e.push(s[1])}function ey(r,e,s=!1){const a=[];ty(e,a),r.forEach(d=>{d.header&&ty(d.header,a)});const u=a;s&&u.sort();const o=u.map((d,m)=>`       @location(${m}) ${d},`).join(`
`);let h=e.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${o}
`),h}function iy(r,e){let s;const a=/@out\s+([^;]+);/g;for(;(s=a.exec(r))!==null;)e.push(s[1])}function Jv(r){const s=/\b(\w+)\s*:/g.exec(r);return s?s[1]:""}function Wv(r){const e=/@.*?\s+/g;return r.replace(e,"")}function t_(r,e){const s=[];iy(e,s),r.forEach(m=>{m.header&&iy(m.header,s)});let a=0;const u=s.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${a++}) ${m}`).join(`,
`),o=s.sort().map(m=>`       var ${Wv(m)};`).join(`
`),h=`return VSOutput(
            ${s.sort().map(m=>` ${Jv(m)}`).join(`,
`)});`;let d=e.replace(/@out\s+[^;]+;\s*/g,"");return d=d.replace("{{struct}}",`
${u}
`),d=d.replace("{{start}}",`
${o}
`),d=d.replace("{{return}}",`
${h}
`),d}function ny(r,e){let s=r;for(const a in e){const u=e[a];u.join(`
`).length?s=s.replace(`{{${a}}}`,`//-----${a} START-----//
${u.join(`
`)}
//----${a} FINISH----//`):s=s.replace(`{{${a}}}`,"")}return s}const yn=Object.create(null),_c=new Map;let e_=0;function i_({template:r,bits:e}){const s=zg(r,e);if(yn[s])return yn[s];const{vertex:a,fragment:u}=s_(r,e);return yn[s]=Ng(a,u,e),yn[s]}function n_({template:r,bits:e}){const s=zg(r,e);return yn[s]||(yn[s]=Ng(r.vertex,r.fragment,e)),yn[s]}function s_(r,e){const s=e.map(h=>h.vertex).filter(h=>!!h),a=e.map(h=>h.fragment).filter(h=>!!h);let u=ey(s,r.vertex,!0);u=t_(s,u);const o=ey(a,r.fragment,!0);return{vertex:u,fragment:o}}function zg(r,e){return e.map(s=>(_c.has(s)||_c.set(s,e_++),_c.get(s))).sort((s,a)=>s-a).join("-")+r.vertex+r.fragment}function Ng(r,e,s){const a=Wm(r),u=Wm(e);return s.forEach(o=>{Jm(o.vertex,a,o.name),Jm(o.fragment,u,o.name)}),{vertex:ny(r,a),fragment:ny(e,u)}}const a_=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,l_=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,r_=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,u_=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,o_={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},c_={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function h_({bits:r,name:e}){const s=i_({template:{fragment:l_,vertex:a_},bits:[o_,...r]});return Rr.from({name:e,vertex:{source:s.vertex,entryPoint:"main"},fragment:{source:s.fragment,entryPoint:"main"}})}function f_({bits:r,name:e}){return new hg({name:e,...n_({template:{vertex:r_,fragment:u_},bits:[c_,...r]})})}const d_={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},m_={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Sc={};function y_(r){const e=[];if(r===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let s=0;for(let a=0;a<r;a++)e.push(`@group(1) @binding(${s++}) var textureSource${a+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${s++}) var textureSampler${a+1}: sampler;`)}return e.join(`
`)}function g_(r){const e=[];if(r===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let s=0;s<r;s++)s===r-1?e.push("  default:{"):e.push(`  case ${s}:{`),e.push(`      outColor = textureSampleGrad(textureSource${s+1}, textureSampler${s+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function p_(r){return Sc[r]||(Sc[r]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${y_(r)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${g_(r)}
            `}}),Sc[r]}const Ac={};function x_(r){const e=[];for(let s=0;s<r;s++)s>0&&e.push("else"),s<r-1&&e.push(`if(vTextureId < ${s}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${s}], vUV);`),e.push("}");return e.join(`
`)}function b_(r){return Ac[r]||(Ac[r]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${r}];

            `,main:`

                ${x_(r)}
            `}}),Ac[r]}const v_={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},__={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},sy={};function S_(r){let e=sy[r];if(e)return e;const s=new Int32Array(r);for(let a=0;a<r;a++)s[a]=a;return e=sy[r]=new yg({uTextures:{value:s,type:"i32",size:r}},{isStatic:!0}),e}class A_ extends Ic{constructor(e){const s=f_({name:"batch",bits:[m_,b_(e),__]}),a=h_({name:"batch",bits:[d_,p_(e),v_]});super({glProgram:s,gpuProgram:a,resources:{batchSamplers:S_(e)}})}}let ay=null;const Og=class Dg extends Vv{constructor(){super(...arguments),this.geometry=new Kv,this.shader=ay||(ay=new A_(this.maxTextures)),this.name=Dg.extension.name,this.vertexSize=6}packAttributes(e,s,a,u,o){const h=o<<16|e.roundPixels&65535,d=e.transform,m=d.a,y=d.b,g=d.c,x=d.d,A=d.tx,v=d.ty,{positions:E,uvs:z}=e,M=e.color,B=e.attributeOffset,U=B+e.attributeSize;for(let Y=B;Y<U;Y++){const $=Y*2,J=E[$],P=E[$+1];s[u++]=m*J+g*P+A,s[u++]=x*P+y*J+v,s[u++]=z[$],s[u++]=z[$+1],a[u++]=M,a[u++]=h}}packQuadAttributes(e,s,a,u,o){const h=e.texture,d=e.transform,m=d.a,y=d.b,g=d.c,x=d.d,A=d.tx,v=d.ty,E=e.bounds,z=E.maxX,M=E.minX,B=E.maxY,U=E.minY,Y=h.uvs,$=e.color,J=o<<16|e.roundPixels&65535;s[u+0]=m*M+g*U+A,s[u+1]=x*U+y*M+v,s[u+2]=Y.x0,s[u+3]=Y.y0,a[u+4]=$,a[u+5]=J,s[u+6]=m*z+g*U+A,s[u+7]=x*U+y*z+v,s[u+8]=Y.x1,s[u+9]=Y.y1,a[u+10]=$,a[u+11]=J,s[u+12]=m*z+g*B+A,s[u+13]=x*B+y*z+v,s[u+14]=Y.x2,s[u+15]=Y.y2,a[u+16]=$,a[u+17]=J,s[u+18]=m*M+g*B+A,s[u+19]=x*B+y*M+v,s[u+20]=Y.x3,s[u+21]=Y.y3,a[u+22]=$,a[u+23]=J}};Og.extension={type:[Gt.Batcher],name:"default"};let T_=Og;function M_(r,e,s,a,u,o,h,d=null){let m=0;s*=e,u*=o;const y=d.a,g=d.b,x=d.c,A=d.d,v=d.tx,E=d.ty;for(;m<h;){const z=r[s],M=r[s+1];a[u]=y*z+x*M+v,a[u+1]=g*z+A*M+E,u+=o,s+=e,m++}}function E_(r,e,s,a){let u=0;for(e*=s;u<a;)r[e]=0,r[e+1]=0,e+=s,u++}function Bg(r,e,s,a,u){const o=e.a,h=e.b,d=e.c,m=e.d,y=e.tx,g=e.ty;s||(s=0),a||(a=2),u||(u=r.length/a-s);let x=s*a;for(let A=0;A<u;A++){const v=r[x],E=r[x+1];r[x]=o*v+d*E+y,r[x+1]=h*v+m*E+g,x+=a}}const C_=new Ot;class Gg{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,s=e>>16|e&65280|(e&255)<<16,a=this.renderable;return a?Ly(s,a.groupColor)+(this.alpha*a.groupAlpha*255<<24):s+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||C_}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const La={extension:{type:Gt.ShapeBuilder,name:"circle"},build(r,e){let s,a,u,o,h,d;if(r.type==="circle"){const $=r;s=$.x,a=$.y,h=d=$.radius,u=o=0}else if(r.type==="ellipse"){const $=r;s=$.x,a=$.y,h=$.halfWidth,d=$.halfHeight,u=o=0}else{const $=r,J=$.width/2,P=$.height/2;s=$.x+J,a=$.y+P,h=d=Math.max(0,Math.min($.radius,Math.min(J,P))),u=J-h,o=P-d}if(!(h>=0&&d>=0&&u>=0&&o>=0))return e;const m=Math.ceil(2.3*Math.sqrt(h+d)),y=m*8+(u?4:0)+(o?4:0);if(y===0)return e;if(m===0)return e[0]=e[6]=s+u,e[1]=e[3]=a+o,e[2]=e[4]=s-u,e[5]=e[7]=a-o,e;let g=0,x=m*4+(u?2:0)+2,A=x,v=y,E=u+h,z=o,M=s+E,B=s-E,U=a+z;if(e[g++]=M,e[g++]=U,e[--x]=U,e[--x]=B,o){const $=a-z;e[A++]=B,e[A++]=$,e[--v]=$,e[--v]=M}for(let $=1;$<m;$++){const J=Math.PI/2*($/m),P=u+Math.cos(J)*h,X=o+Math.sin(J)*d,at=s+P,ht=s-P,it=a+X,et=a-X;e[g++]=at,e[g++]=it,e[--x]=it,e[--x]=ht,e[A++]=ht,e[A++]=et,e[--v]=et,e[--v]=at}E=u,z=o+d,M=s+E,B=s-E,U=a+z;const Y=a-z;return e[g++]=M,e[g++]=U,e[--v]=Y,e[--v]=M,u&&(e[g++]=B,e[g++]=U,e[--v]=Y,e[--v]=B),e},triangulate(r,e,s,a,u,o){if(r.length===0)return;let h=0,d=0;for(let g=0;g<r.length;g+=2)h+=r[g],d+=r[g+1];h/=r.length/2,d/=r.length/2;let m=a;e[m*s]=h,e[m*s+1]=d;const y=m++;for(let g=0;g<r.length;g+=2)e[m*s]=r[g],e[m*s+1]=r[g+1],g>0&&(u[o++]=m,u[o++]=y,u[o++]=m-1),m++;u[o++]=y+1,u[o++]=y,u[o++]=m-1}},w_={...La,extension:{...La.extension,name:"ellipse"}},R_={...La,extension:{...La.extension,name:"roundedRectangle"}},Ug=1e-4,ly=1e-4;function z_(r){const e=r.length;if(e<6)return 1;let s=0;for(let a=0,u=r[e-2],o=r[e-1];a<e;a+=2){const h=r[a],d=r[a+1];s+=(h-u)*(d+o),u=h,o=d}return s<0?-1:1}function ry(r,e,s,a,u,o,h,d){const m=r-s*u,y=e-a*u,g=r+s*o,x=e+a*o;let A,v;h?(A=a,v=-s):(A=-a,v=s);const E=m+A,z=y+v,M=g+A,B=x+v;return d.push(E,z),d.push(M,B),2}function Gn(r,e,s,a,u,o,h,d){const m=s-r,y=a-e;let g=Math.atan2(m,y),x=Math.atan2(u-r,o-e);d&&g<x?g+=Math.PI*2:!d&&g>x&&(x+=Math.PI*2);let A=g;const v=x-g,E=Math.abs(v),z=Math.sqrt(m*m+y*y),M=(15*E*Math.sqrt(z)/Math.PI>>0)+1,B=v/M;if(A+=B,d){h.push(r,e),h.push(s,a);for(let U=1,Y=A;U<M;U++,Y+=B)h.push(r,e),h.push(r+Math.sin(Y)*z,e+Math.cos(Y)*z);h.push(r,e),h.push(u,o)}else{h.push(s,a),h.push(r,e);for(let U=1,Y=A;U<M;U++,Y+=B)h.push(r+Math.sin(Y)*z,e+Math.cos(Y)*z),h.push(r,e);h.push(u,o),h.push(r,e)}return M*2}function N_(r,e,s,a,u,o){const h=Ug;if(r.length===0)return;const d=e;let m=d.alignment;if(e.alignment!==.5){let j=z_(r);m=(m-.5)*j+.5}const y=new be(r[0],r[1]),g=new be(r[r.length-2],r[r.length-1]),x=a,A=Math.abs(y.x-g.x)<h&&Math.abs(y.y-g.y)<h;if(x){r=r.slice(),A&&(r.pop(),r.pop(),g.set(r[r.length-2],r[r.length-1]));const j=(y.x+g.x)*.5,L=(g.y+y.y)*.5;r.unshift(j,L),r.push(j,L)}const v=u,E=r.length/2;let z=r.length;const M=v.length/2,B=d.width/2,U=B*B,Y=d.miterLimit*d.miterLimit;let $=r[0],J=r[1],P=r[2],X=r[3],at=0,ht=0,it=-(J-X),et=$-P,mt=0,xt=0,zt=Math.sqrt(it*it+et*et);it/=zt,et/=zt,it*=B,et*=B;const Pt=m,b=(1-Pt)*2,T=Pt*2;x||(d.cap==="round"?z+=Gn($-it*(b-T)*.5,J-et*(b-T)*.5,$-it*b,J-et*b,$+it*T,J+et*T,v,!0)+2:d.cap==="square"&&(z+=ry($,J,it,et,b,T,!0,v))),v.push($-it*b,J-et*b),v.push($+it*T,J+et*T);for(let j=1;j<E-1;++j){$=r[(j-1)*2],J=r[(j-1)*2+1],P=r[j*2],X=r[j*2+1],at=r[(j+1)*2],ht=r[(j+1)*2+1],it=-(J-X),et=$-P,zt=Math.sqrt(it*it+et*et),it/=zt,et/=zt,it*=B,et*=B,mt=-(X-ht),xt=P-at,zt=Math.sqrt(mt*mt+xt*xt),mt/=zt,xt/=zt,mt*=B,xt*=B;const L=P-$,S=J-X,C=P-at,G=ht-X,Q=L*C+S*G,W=S*C-G*L,nt=W<0;if(Math.abs(W)<.001*Math.abs(Q)){v.push(P-it*b,X-et*b),v.push(P+it*T,X+et*T),Q>=0&&(d.join==="round"?z+=Gn(P,X,P-it*b,X-et*b,P-mt*b,X-xt*b,v,!1)+4:z+=2,v.push(P-mt*T,X-xt*T),v.push(P+mt*b,X+xt*b));continue}const rt=(-it+$)*(-et+X)-(-it+P)*(-et+J),ct=(-mt+at)*(-xt+X)-(-mt+P)*(-xt+ht),dt=(L*ct-C*rt)/W,bt=(G*rt-S*ct)/W,Se=(dt-P)*(dt-P)+(bt-X)*(bt-X),he=P+(dt-P)*b,Ne=X+(bt-X)*b,le=P-(dt-P)*T,yt=X-(bt-X)*T,St=Math.min(L*L+S*S,C*C+G*G),Va=nt?b:T,Pa=St+Va*Va*U;Se<=Pa?d.join==="bevel"||Se/U>Y?(nt?(v.push(he,Ne),v.push(P+it*T,X+et*T),v.push(he,Ne),v.push(P+mt*T,X+xt*T)):(v.push(P-it*b,X-et*b),v.push(le,yt),v.push(P-mt*b,X-xt*b),v.push(le,yt)),z+=2):d.join==="round"?nt?(v.push(he,Ne),v.push(P+it*T,X+et*T),z+=Gn(P,X,P+it*T,X+et*T,P+mt*T,X+xt*T,v,!0)+4,v.push(he,Ne),v.push(P+mt*T,X+xt*T)):(v.push(P-it*b,X-et*b),v.push(le,yt),z+=Gn(P,X,P-it*b,X-et*b,P-mt*b,X-xt*b,v,!1)+4,v.push(P-mt*b,X-xt*b),v.push(le,yt)):(v.push(he,Ne),v.push(le,yt)):(v.push(P-it*b,X-et*b),v.push(P+it*T,X+et*T),d.join==="round"?nt?z+=Gn(P,X,P+it*T,X+et*T,P+mt*T,X+xt*T,v,!0)+2:z+=Gn(P,X,P-it*b,X-et*b,P-mt*b,X-xt*b,v,!1)+2:d.join==="miter"&&Se/U<=Y&&(nt?(v.push(le,yt),v.push(le,yt)):(v.push(he,Ne),v.push(he,Ne)),z+=2),v.push(P-mt*b,X-xt*b),v.push(P+mt*T,X+xt*T),z+=2)}$=r[(E-2)*2],J=r[(E-2)*2+1],P=r[(E-1)*2],X=r[(E-1)*2+1],it=-(J-X),et=$-P,zt=Math.sqrt(it*it+et*et),it/=zt,et/=zt,it*=B,et*=B,v.push(P-it*b,X-et*b),v.push(P+it*T,X+et*T),x||(d.cap==="round"?z+=Gn(P-it*(b-T)*.5,X-et*(b-T)*.5,P-it*b,X-et*b,P+it*T,X+et*T,v,!1)+2:d.cap==="square"&&(z+=ry(P,X,it,et,b,T,!1,v)));const w=ly*ly;for(let j=M;j<z+M-2;++j)$=v[j*2],J=v[j*2+1],P=v[(j+1)*2],X=v[(j+1)*2+1],at=v[(j+2)*2],ht=v[(j+2)*2+1],!(Math.abs($*(X-ht)+P*(ht-J)+at*(J-X))<w)&&o.push(j,j+1,j+2)}function O_(r,e,s,a){const u=Ug;if(r.length===0)return;const o=r[0],h=r[1],d=r[r.length-2],m=r[r.length-1],y=e||Math.abs(o-d)<u&&Math.abs(h-m)<u,g=s,x=r.length/2,A=g.length/2;for(let v=0;v<x;v++)g.push(r[v*2]),g.push(r[v*2+1]);for(let v=0;v<x-1;v++)a.push(A+v,A+v+1);y&&a.push(A+x-1,A)}function jg(r,e,s,a,u,o,h){const d=_v(r,e,2);if(!d)return;for(let y=0;y<d.length;y+=3)o[h++]=d[y]+u,o[h++]=d[y+1]+u,o[h++]=d[y+2]+u;let m=u*a;for(let y=0;y<r.length;y+=2)s[m]=r[y],s[m+1]=r[y+1],m+=a}const D_=[],B_={extension:{type:Gt.ShapeBuilder,name:"polygon"},build(r,e){for(let s=0;s<r.points.length;s++)e[s]=r.points[s];return e},triangulate(r,e,s,a,u,o){jg(r,D_,e,s,a,u,o)}},G_={extension:{type:Gt.ShapeBuilder,name:"rectangle"},build(r,e){const s=r,a=s.x,u=s.y,o=s.width,h=s.height;return o>=0&&h>=0&&(e[0]=a,e[1]=u,e[2]=a+o,e[3]=u,e[4]=a+o,e[5]=u+h,e[6]=a,e[7]=u+h),e},triangulate(r,e,s,a,u,o){let h=0;a*=s,e[a+h]=r[0],e[a+h+1]=r[1],h+=s,e[a+h]=r[2],e[a+h+1]=r[3],h+=s,e[a+h]=r[6],e[a+h+1]=r[7],h+=s,e[a+h]=r[4],e[a+h+1]=r[5],h+=s;const d=a/s;u[o++]=d,u[o++]=d+1,u[o++]=d+2,u[o++]=d+1,u[o++]=d+3,u[o++]=d+2}},U_={extension:{type:Gt.ShapeBuilder,name:"triangle"},build(r,e){return e[0]=r.x,e[1]=r.y,e[2]=r.x2,e[3]=r.y2,e[4]=r.x3,e[5]=r.y3,e},triangulate(r,e,s,a,u,o){let h=0;a*=s,e[a+h]=r[0],e[a+h+1]=r[1],h+=s,e[a+h]=r[2],e[a+h+1]=r[3],h+=s,e[a+h]=r[4],e[a+h+1]=r[5];const d=a/s;u[o++]=d,u[o++]=d+1,u[o++]=d+2}},zr={};xi.handleByMap(Gt.ShapeBuilder,zr);xi.add(G_,B_,U_,La,w_,R_);const j_=new pe;function k_(r,e){const{geometryData:s,batches:a}=e;a.length=0,s.indices.length=0,s.vertices.length=0,s.uvs.length=0;for(let u=0;u<r.instructions.length;u++){const o=r.instructions[u];if(o.action==="texture")H_(o.data,a,s);else if(o.action==="fill"||o.action==="stroke"){const h=o.action==="stroke",d=o.data.path.shapePath,m=o.data.style,y=o.data.hole;h&&y&&uy(y.shapePath,m,null,!0,a,s),uy(d,m,y,h,a,s)}}}function H_(r,e,s){const{vertices:a,uvs:u,indices:o}=s,h=o.length,d=a.length/2,m=[],y=zr.rectangle,g=j_,x=r.image;g.x=r.dx,g.y=r.dy,g.width=r.dw,g.height=r.dh;const A=r.transform;y.build(g,m),A&&Bg(m,A),y.triangulate(m,a,2,d,o,h);const v=x.uvs;u.push(v.x0,v.y0,v.x1,v.y1,v.x3,v.y3,v.x2,v.y2);const E=Yi.get(Gg);E.indexOffset=h,E.indexSize=o.length-h,E.attributeOffset=d,E.attributeSize=a.length/2-d,E.baseColor=r.style,E.alpha=r.alpha,E.texture=x,E.geometryData=s,e.push(E)}function uy(r,e,s,a,u,o){const{vertices:h,uvs:d,indices:m}=o,y=r.shapePrimitives.length-1;r.shapePrimitives.forEach(({shape:g,transform:x},A)=>{const v=m.length,E=h.length/2,z=[],M=zr[g.type];let B="triangle-list";if(M.build(g,z),x&&Bg(z,x),a){const J=g.closePath??!0,P=e;P.pixelLine?(O_(z,J,h,m),B="line-list"):N_(z,P,!1,J,h,m)}else if(s&&y===A){y!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const J=[],P=z.slice();Y_(s.shapePath).forEach(at=>{J.push(P.length/2),P.push(...at)}),jg(P,J,h,2,E,m,v)}else M.triangulate(z,h,2,E,m,v);const U=d.length/2,Y=e.texture;if(Y!==Yt.WHITE){const J=e.matrix;J&&(x&&J.append(x.clone().invert()),M_(h,2,E,d,U,2,h.length/2-E,J))}else E_(d,U,2,h.length/2-E);const $=Yi.get(Gg);$.indexOffset=v,$.indexSize=m.length-v,$.attributeOffset=E,$.attributeSize=h.length/2-E,$.baseColor=e.color,$.alpha=e.alpha,$.texture=Y,$.geometryData=o,$.topology=B,u.push($)})}function Y_(r){if(!r)return[];const e=r.shapePrimitives,s=[];for(let a=0;a<e.length;a++){const u=e[a].shape,o=[];zr[u.type].build(u,o),s.push(o)}return s}class q_{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class L_{constructor(){this.batcher=new T_,this.instructions=new Fy}init(){this.instructions.reset()}get geometry(){return $t(ab,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const eh=class qc{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){qc.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??qc.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let s=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){s?this._cleanGraphicsContextData(e):s=this._initContext(e),k_(e,s);const a=e.batchMode;e.customShader||a==="no-batch"?s.isBatchable=!1:a==="auto"&&(s.isBatchable=s.geometryData.vertices.length<400),e.dirty=!1}return s}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const s=Yi.get(L_),{batches:a,geometryData:u}=this._gpuContextHash[e.uid],o=u.vertices.length,h=u.indices.length;for(let g=0;g<a.length;g++)a[g].applyTransform=!1;const d=s.batcher;d.ensureAttributeBuffer(o),d.ensureIndexBuffer(h),d.begin();for(let g=0;g<a.length;g++){const x=a[g];d.add(x)}d.finish(s.instructions);const m=d.geometry;m.indexBuffer.setDataWithSize(d.indexBuffer,d.indexSize,!0),m.buffers[0].setDataWithSize(d.attributeBuffer.float32View,d.attributeSize,!0);const y=d.batches;for(let g=0;g<y.length;g++){const x=y[g];x.bindGroup=kv(x.textures.textures,x.textures.count)}return this._graphicsDataContextHash[e.uid]=s,s}_initContext(e){const s=new q_;return s.context=e,this._gpuContextHash[e.uid]=s,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const s=this._gpuContextHash[e.uid];s.isBatchable||this._graphicsDataContextHash[e.uid]&&(Yi.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),s.batches&&s.batches.forEach(a=>{Yi.return(a)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};eh.extension={type:[Gt.WebGLSystem,Gt.WebGPUSystem,Gt.CanvasSystem],name:"graphicsContext"};eh.defaultOptions={bezierSmoothness:.5};let kg=eh;const X_=8,_r=11920929e-14,V_=1;function Hg(r,e,s,a,u,o,h,d,m,y){const x=Math.min(.99,Math.max(0,y??kg.defaultOptions.bezierSmoothness));let A=(V_-x)/1;return A*=A,P_(e,s,a,u,o,h,d,m,r,A),r}function P_(r,e,s,a,u,o,h,d,m,y){Lc(r,e,s,a,u,o,h,d,m,y,0),m.push(h,d)}function Lc(r,e,s,a,u,o,h,d,m,y,g){if(g>X_)return;const x=(r+s)/2,A=(e+a)/2,v=(s+u)/2,E=(a+o)/2,z=(u+h)/2,M=(o+d)/2,B=(x+v)/2,U=(A+E)/2,Y=(v+z)/2,$=(E+M)/2,J=(B+Y)/2,P=(U+$)/2;if(g>0){let X=h-r,at=d-e;const ht=Math.abs((s-h)*at-(a-d)*X),it=Math.abs((u-h)*at-(o-d)*X);if(ht>_r&&it>_r){if((ht+it)*(ht+it)<=y*(X*X+at*at)){m.push(J,P);return}}else if(ht>_r){if(ht*ht<=y*(X*X+at*at)){m.push(J,P);return}}else if(it>_r){if(it*it<=y*(X*X+at*at)){m.push(J,P);return}}else if(X=J-(r+h)/2,at=P-(e+d)/2,X*X+at*at<=y){m.push(J,P);return}}Lc(r,e,x,A,B,U,J,P,m,y,g+1),Lc(J,P,Y,$,z,M,h,d,m,y,g+1)}const F_=8,Q_=11920929e-14,Z_=1;function $_(r,e,s,a,u,o,h,d){const y=Math.min(.99,Math.max(0,d??kg.defaultOptions.bezierSmoothness));let g=(Z_-y)/1;return g*=g,K_(e,s,a,u,o,h,r,g),r}function K_(r,e,s,a,u,o,h,d){Xc(h,r,e,s,a,u,o,d,0),h.push(u,o)}function Xc(r,e,s,a,u,o,h,d,m){if(m>F_)return;const y=(e+a)/2,g=(s+u)/2,x=(a+o)/2,A=(u+h)/2,v=(y+x)/2,E=(g+A)/2;let z=o-e,M=h-s;const B=Math.abs((a-o)*M-(u-h)*z);if(B>Q_){if(B*B<=d*(z*z+M*M)){r.push(v,E);return}}else if(z=v-(e+o)/2,M=E-(s+h)/2,z*z+M*M<=d){r.push(v,E);return}Xc(r,e,s,y,g,v,E,d,m+1),Xc(r,v,E,x,A,o,h,d,m+1)}function Yg(r,e,s,a,u,o,h,d){let m=Math.abs(u-o);(!h&&u>o||h&&o>u)&&(m=2*Math.PI-m),d||(d=Math.max(6,Math.floor(6*Math.pow(a,1/3)*(m/Math.PI)))),d=Math.max(d,3);let y=m/d,g=u;y*=h?-1:1;for(let x=0;x<d+1;x++){const A=Math.cos(g),v=Math.sin(g),E=e+A*a,z=s+v*a;r.push(E,z),g+=y}}function I_(r,e,s,a,u,o){const h=r[r.length-2],m=r[r.length-1]-s,y=h-e,g=u-s,x=a-e,A=Math.abs(m*x-y*g);if(A<1e-8||o===0){(r[r.length-2]!==e||r[r.length-1]!==s)&&r.push(e,s);return}const v=m*m+y*y,E=g*g+x*x,z=m*g+y*x,M=o*Math.sqrt(v)/A,B=o*Math.sqrt(E)/A,U=M*z/v,Y=B*z/E,$=M*x+B*y,J=M*g+B*m,P=y*(B+U),X=m*(B+U),at=x*(M+Y),ht=g*(M+Y),it=Math.atan2(X-J,P-$),et=Math.atan2(ht-J,at-$);Yg(r,$+e,J+s,o,it,et,y*g>x*m)}const Ha=Math.PI*2,Tc={centerX:0,centerY:0,ang1:0,ang2:0},Mc=({x:r,y:e},s,a,u,o,h,d,m)=>{r*=s,e*=a;const y=u*r-o*e,g=o*r+u*e;return m.x=y+h,m.y=g+d,m};function J_(r,e){const s=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),a=e===1.5707963267948966?.551915024494:s,u=Math.cos(r),o=Math.sin(r),h=Math.cos(r+e),d=Math.sin(r+e);return[{x:u-o*a,y:o+u*a},{x:h+d*a,y:d-h*a},{x:h,y:d}]}const oy=(r,e,s,a)=>{const u=r*a-e*s<0?-1:1;let o=r*s+e*a;return o>1&&(o=1),o<-1&&(o=-1),u*Math.acos(o)},W_=(r,e,s,a,u,o,h,d,m,y,g,x,A)=>{const v=Math.pow(u,2),E=Math.pow(o,2),z=Math.pow(g,2),M=Math.pow(x,2);let B=v*E-v*M-E*z;B<0&&(B=0),B/=v*M+E*z,B=Math.sqrt(B)*(h===d?-1:1);const U=B*u/o*x,Y=B*-o/u*g,$=y*U-m*Y+(r+s)/2,J=m*U+y*Y+(e+a)/2,P=(g-U)/u,X=(x-Y)/o,at=(-g-U)/u,ht=(-x-Y)/o,it=oy(1,0,P,X);let et=oy(P,X,at,ht);d===0&&et>0&&(et-=Ha),d===1&&et<0&&(et+=Ha),A.centerX=$,A.centerY=J,A.ang1=it,A.ang2=et};function t2(r,e,s,a,u,o,h,d=0,m=0,y=0){if(o===0||h===0)return;const g=Math.sin(d*Ha/360),x=Math.cos(d*Ha/360),A=x*(e-a)/2+g*(s-u)/2,v=-g*(e-a)/2+x*(s-u)/2;if(A===0&&v===0)return;o=Math.abs(o),h=Math.abs(h);const E=Math.pow(A,2)/Math.pow(o,2)+Math.pow(v,2)/Math.pow(h,2);E>1&&(o*=Math.sqrt(E),h*=Math.sqrt(E)),W_(e,s,a,u,o,h,m,y,g,x,A,v,Tc);let{ang1:z,ang2:M}=Tc;const{centerX:B,centerY:U}=Tc;let Y=Math.abs(M)/(Ha/4);Math.abs(1-Y)<1e-7&&(Y=1);const $=Math.max(Math.ceil(Y),1);M/=$;let J=r[r.length-2],P=r[r.length-1];const X={x:0,y:0};for(let at=0;at<$;at++){const ht=J_(z,M),{x:it,y:et}=Mc(ht[0],o,h,x,g,B,U,X),{x:mt,y:xt}=Mc(ht[1],o,h,x,g,B,U,X),{x:zt,y:Pt}=Mc(ht[2],o,h,x,g,B,U,X);Hg(r,J,P,it,et,mt,xt,zt,Pt),J=zt,P=Pt,z+=M}}function e2(r,e,s){const a=(h,d)=>{const m=d.x-h.x,y=d.y-h.y,g=Math.sqrt(m*m+y*y),x=m/g,A=y/g;return{len:g,nx:x,ny:A}},u=(h,d)=>{h===0?r.moveTo(d.x,d.y):r.lineTo(d.x,d.y)};let o=e[e.length-1];for(let h=0;h<e.length;h++){const d=e[h%e.length],m=d.radius??s;if(m<=0){u(h,d),o=d;continue}const y=e[(h+1)%e.length],g=a(d,o),x=a(d,y);if(g.len<1e-4||x.len<1e-4){u(h,d),o=d;continue}let A=Math.asin(g.nx*x.ny-g.ny*x.nx),v=1,E=!1;g.nx*x.nx-g.ny*-x.ny<0?A<0?A=Math.PI+A:(A=Math.PI-A,v=-1,E=!0):A>0&&(v=-1,E=!0);const z=A/2;let M,B=Math.abs(Math.cos(z)*m/Math.sin(z));B>Math.min(g.len/2,x.len/2)?(B=Math.min(g.len/2,x.len/2),M=Math.abs(B*Math.sin(z)/Math.cos(z))):M=m;const U=d.x+x.nx*B+-x.ny*M*v,Y=d.y+x.ny*B+x.nx*M*v,$=Math.atan2(g.ny,g.nx)+Math.PI/2*v,J=Math.atan2(x.ny,x.nx)-Math.PI/2*v;h===0&&r.moveTo(U+Math.cos($)*M,Y+Math.sin($)*M),r.arc(U,Y,M,$,J,E),o=d}}function i2(r,e,s,a){const u=(d,m)=>Math.sqrt((d.x-m.x)**2+(d.y-m.y)**2),o=(d,m,y)=>({x:d.x+(m.x-d.x)*y,y:d.y+(m.y-d.y)*y}),h=e.length;for(let d=0;d<h;d++){const m=e[(d+1)%h],y=m.radius??s;if(y<=0){d===0?r.moveTo(m.x,m.y):r.lineTo(m.x,m.y);continue}const g=e[d],x=e[(d+2)%h],A=u(g,m);let v;if(A<1e-4)v=m;else{const M=Math.min(A/2,y);v=o(m,g,M/A)}const E=u(x,m);let z;if(E<1e-4)z=m;else{const M=Math.min(E/2,y);z=o(m,x,M/E)}d===0?r.moveTo(v.x,v.y):r.lineTo(v.x,v.y),r.quadraticCurveTo(m.x,m.y,z.x,z.y,a)}}const n2=new pe;class s2{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new pi,this._graphicsPath2D=e}moveTo(e,s){return this.startPoly(e,s),this}lineTo(e,s){this._ensurePoly();const a=this._currentPoly.points,u=a[a.length-2],o=a[a.length-1];return(u!==e||o!==s)&&a.push(e,s),this}arc(e,s,a,u,o,h){this._ensurePoly(!1);const d=this._currentPoly.points;return Yg(d,e,s,a,u,o,h),this}arcTo(e,s,a,u,o){this._ensurePoly();const h=this._currentPoly.points;return I_(h,e,s,a,u,o),this}arcToSvg(e,s,a,u,o,h,d){const m=this._currentPoly.points;return t2(m,this._currentPoly.lastX,this._currentPoly.lastY,h,d,e,s,a,u,o),this}bezierCurveTo(e,s,a,u,o,h,d){this._ensurePoly();const m=this._currentPoly;return Hg(this._currentPoly.points,m.lastX,m.lastY,e,s,a,u,o,h,d),this}quadraticCurveTo(e,s,a,u,o){this._ensurePoly();const h=this._currentPoly;return $_(this._currentPoly.points,h.lastX,h.lastY,e,s,a,u,o),this}closePath(){return this.endPoly(!0),this}addPath(e,s){this.endPoly(),s&&!s.isIdentity()&&(e=e.clone(!0),e.transform(s));for(let a=0;a<e.instructions.length;a++){const u=e.instructions[a];this[u.action](...u.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,s,a,u,o){return this.drawShape(new pe(e,s,a,u),o),this}circle(e,s,a,u){return this.drawShape(new Jc(e,s,a),u),this}poly(e,s,a){const u=new ka(e);return u.closePath=s,this.drawShape(u,a),this}regularPoly(e,s,a,u,o=0,h){u=Math.max(u|0,3);const d=-1*Math.PI/2+o,m=Math.PI*2/u,y=[];for(let g=0;g<u;g++){const x=d-g*m;y.push(e+a*Math.cos(x),s+a*Math.sin(x))}return this.poly(y,!0,h),this}roundPoly(e,s,a,u,o,h=0,d){if(u=Math.max(u|0,3),o<=0)return this.regularPoly(e,s,a,u,h);const m=a*Math.sin(Math.PI/u)-.001;o=Math.min(o,m);const y=-1*Math.PI/2+h,g=Math.PI*2/u,x=(u-2)*Math.PI/u/2;for(let A=0;A<u;A++){const v=A*g+y,E=e+a*Math.cos(v),z=s+a*Math.sin(v),M=v+Math.PI+x,B=v-Math.PI-x,U=E+o*Math.cos(M),Y=z+o*Math.sin(M),$=E+o*Math.cos(B),J=z+o*Math.sin(B);A===0?this.moveTo(U,Y):this.lineTo(U,Y),this.quadraticCurveTo(E,z,$,J,d)}return this.closePath()}roundShape(e,s,a=!1,u){return e.length<3?this:(a?i2(this,e,s,u):e2(this,e,s),this.closePath())}filletRect(e,s,a,u,o){if(o===0)return this.rect(e,s,a,u);const h=Math.min(a,u)/2,d=Math.min(h,Math.max(-h,o)),m=e+a,y=s+u,g=d<0?-d:0,x=Math.abs(d);return this.moveTo(e,s+x).arcTo(e+g,s+g,e+x,s,x).lineTo(m-x,s).arcTo(m-g,s+g,m,s+x,x).lineTo(m,y-x).arcTo(m-g,y-g,e+a-x,y,x).lineTo(e+x,y).arcTo(e+g,y-g,e,y-x,x).closePath()}chamferRect(e,s,a,u,o,h){if(o<=0)return this.rect(e,s,a,u);const d=Math.min(o,Math.min(a,u)/2),m=e+a,y=s+u,g=[e+d,s,m-d,s,m,s+d,m,y-d,m-d,y,e+d,y,e,y-d,e,s+d];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,h)}ellipse(e,s,a,u,o){return this.drawShape(new Wc(e,s,a,u),o),this}roundRect(e,s,a,u,o,h){return this.drawShape(new th(e,s,a,u,o),h),this}drawShape(e,s){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:s}),this}startPoly(e,s){let a=this._currentPoly;return a&&this.endPoly(),a=new ka,a.points.push(e,s),this._currentPoly=a,this}endPoly(e=!1){const s=this._currentPoly;return s&&s.points.length>2&&(s.closePath=e,this.shapePrimitives.push({shape:s})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new ka,e)){const s=this.shapePrimitives[this.shapePrimitives.length-1];if(s){let a=s.shape.x,u=s.shape.y;if(s.transform&&!s.transform.isIdentity()){const o=s.transform,h=a;a=o.a*a+o.c*u+o.tx,u=o.b*h+o.d*u+o.ty}this._currentPoly.points.push(a,u)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let s=0;s<e.instructions.length;s++){const a=e.instructions[s];this[a.action](...a.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const s=this.shapePrimitives;for(let a=0;a<s.length;a++){const u=s[a],o=u.shape.getBounds(n2);u.transform?e.addRect(o,u.transform):e.addRect(o)}return e}}class Ns{constructor(e){this.instructions=[],this.uid=ae("graphicsPath"),this._dirty=!0,typeof e=="string"?Dv(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new s2(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,s){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,s]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,s,a,u,o){const h=this.instructions[this.instructions.length-1],d=this.getLastPoint(be.shared);let m=0,y=0;if(!h||h.action!=="bezierCurveTo")m=d.x,y=d.y;else{m=h.data[2],y=h.data[3];const g=d.x,x=d.y;m=g+(g-m),y=x+(x-y)}return this.instructions.push({action:"bezierCurveTo",data:[m,y,e,s,a,u,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,s,a){const u=this.instructions[this.instructions.length-1],o=this.getLastPoint(be.shared);let h=0,d=0;if(!u||u.action!=="quadraticCurveTo")h=o.x,d=o.y;else{h=u.data[0],d=u.data[1];const m=o.x,y=o.y;h=m+(m-h),d=y+(y-d)}return this.instructions.push({action:"quadraticCurveTo",data:[h,d,e,s,a]}),this._dirty=!0,this}rect(e,s,a,u,o){return this.instructions.push({action:"rect",data:[e,s,a,u,o]}),this._dirty=!0,this}circle(e,s,a,u){return this.instructions.push({action:"circle",data:[e,s,a,u]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,s,a,u,o,h,d){o||(o=u/2);const m=-1*Math.PI/2+h,y=a*2,g=Math.PI*2/y,x=[];for(let A=0;A<y;A++){const v=A%2?o:u,E=A*g+m;x.push(e+v*Math.cos(E),s+v*Math.sin(E))}return this.poly(x,!0,d),this}clone(e=!1){const s=new Ns;if(!e)s.instructions=this.instructions.slice();else for(let a=0;a<this.instructions.length;a++){const u=this.instructions[a];s.instructions.push({action:u.action,data:u.data.slice()})}return s}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const s=e.a,a=e.b,u=e.c,o=e.d,h=e.tx,d=e.ty;let m=0,y=0,g=0,x=0,A=0,v=0,E=0,z=0;for(let M=0;M<this.instructions.length;M++){const B=this.instructions[M],U=B.data;switch(B.action){case"moveTo":case"lineTo":m=U[0],y=U[1],U[0]=s*m+u*y+h,U[1]=a*m+o*y+d;break;case"bezierCurveTo":g=U[0],x=U[1],A=U[2],v=U[3],m=U[4],y=U[5],U[0]=s*g+u*x+h,U[1]=a*g+o*x+d,U[2]=s*A+u*v+h,U[3]=a*A+o*v+d,U[4]=s*m+u*y+h,U[5]=a*m+o*y+d;break;case"quadraticCurveTo":g=U[0],x=U[1],m=U[2],y=U[3],U[0]=s*g+u*x+h,U[1]=a*g+o*x+d,U[2]=s*m+u*y+h,U[3]=a*m+o*y+d;break;case"arcToSvg":m=U[5],y=U[6],E=U[0],z=U[1],U[0]=s*E+u*z,U[1]=a*E+o*z,U[5]=s*m+u*y+h,U[6]=a*m+o*y+d;break;case"circle":U[4]=za(U[3],e);break;case"rect":U[4]=za(U[4],e);break;case"ellipse":U[8]=za(U[8],e);break;case"roundRect":U[5]=za(U[5],e);break;case"addPath":U[0].transform(e);break;case"poly":U[2]=za(U[2],e);break;default:gi("unknown transform action",B.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let s=this.instructions.length-1,a=this.instructions[s];if(!a)return e.x=0,e.y=0,e;for(;a.action==="closePath";){if(s--,s<0)return e.x=0,e.y=0,e;a=this.instructions[s]}switch(a.action){case"moveTo":case"lineTo":e.x=a.data[0],e.y=a.data[1];break;case"quadraticCurveTo":e.x=a.data[2],e.y=a.data[3];break;case"bezierCurveTo":e.x=a.data[4],e.y=a.data[5];break;case"arc":case"arcToSvg":e.x=a.data[5],e.y=a.data[6];break;case"addPath":a.data[0].getLastPoint(e);break}return e}}function za(r,e){return r?r.prepend(e):e.clone()}function a2(r,e){if(typeof r=="string"){const a=document.createElement("div");a.innerHTML=r.trim(),r=a.querySelector("svg")}const s={context:e,path:new Ns};return qg(r,s,null,null),e}function qg(r,e,s,a){const u=r.children,{fillStyle:o,strokeStyle:h}=l2(r);o&&s?s={...s,...o}:o&&(s=o),h&&a?a={...a,...h}:h&&(a=h),e.context.fillStyle=s,e.context.strokeStyle=a;let d,m,y,g,x,A,v,E,z,M,B,U,Y,$,J,P,X;switch(r.nodeName.toLowerCase()){case"path":$=r.getAttribute("d"),J=new Ns($),e.context.path(J),s&&e.context.fill(),a&&e.context.stroke();break;case"circle":v=oe(r,"cx",0),E=oe(r,"cy",0),z=oe(r,"r",0),e.context.ellipse(v,E,z,z),s&&e.context.fill(),a&&e.context.stroke();break;case"rect":d=oe(r,"x",0),m=oe(r,"y",0),P=oe(r,"width",0),X=oe(r,"height",0),M=oe(r,"rx",0),B=oe(r,"ry",0),M||B?e.context.roundRect(d,m,P,X,M||B):e.context.rect(d,m,P,X),s&&e.context.fill(),a&&e.context.stroke();break;case"ellipse":v=oe(r,"cx",0),E=oe(r,"cy",0),M=oe(r,"rx",0),B=oe(r,"ry",0),e.context.beginPath(),e.context.ellipse(v,E,M,B),s&&e.context.fill(),a&&e.context.stroke();break;case"line":y=oe(r,"x1",0),g=oe(r,"y1",0),x=oe(r,"x2",0),A=oe(r,"y2",0),e.context.beginPath(),e.context.moveTo(y,g),e.context.lineTo(x,A),a&&e.context.stroke();break;case"polygon":Y=r.getAttribute("points"),U=Y.match(/\d+/g).map(at=>parseInt(at,10)),e.context.poly(U,!0),s&&e.context.fill(),a&&e.context.stroke();break;case"polyline":Y=r.getAttribute("points"),U=Y.match(/\d+/g).map(at=>parseInt(at,10)),e.context.poly(U,!1),a&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${r.nodeName}> elements unsupported`);break}}for(let at=0;at<u.length;at++)qg(u[at],e,s,a)}function oe(r,e,s){const a=r.getAttribute(e);return a?Number(a):s}function l2(r){const e=r.getAttribute("style"),s={},a={};let u=!1,o=!1;if(e){const h=e.split(";");for(let d=0;d<h.length;d++){const m=h[d],[y,g]=m.split(":");switch(y){case"stroke":g!=="none"&&(s.color=Ve.shared.setValue(g).toNumber(),o=!0);break;case"stroke-width":s.width=Number(g);break;case"fill":g!=="none"&&(u=!0,a.color=Ve.shared.setValue(g).toNumber());break;case"fill-opacity":a.alpha=Number(g);break;case"stroke-opacity":s.alpha=Number(g);break;case"opacity":a.alpha=Number(g),s.alpha=Number(g);break}}}else{const h=r.getAttribute("stroke");h&&h!=="none"&&(o=!0,s.color=Ve.shared.setValue(h).toNumber(),s.width=oe(r,"stroke-width",1));const d=r.getAttribute("fill");d&&d!=="none"&&(u=!0,a.color=Ve.shared.setValue(d).toNumber())}return{strokeStyle:o?s:null,fillStyle:u?a:null}}function r2(r){return Ve.isColorLike(r)}function cy(r){return r instanceof Rv}function hy(r){return r instanceof wv}function u2(r,e,s){const a=Ve.shared.setValue(e??0);return r.color=a.toNumber(),r.alpha=a.alpha===1?s.alpha:a.alpha,r.texture=Yt.WHITE,{...s,...r}}function fy(r,e,s){return r.fill=e,r.color=16777215,r.texture=e.texture,r.matrix=e.transform,{...s,...r}}function dy(r,e,s){return e.buildLinearGradient(),r.fill=e,r.color=16777215,r.texture=e.texture,r.matrix=e.transform,{...s,...r}}function o2(r,e){var u;const s={...e,...r};if(s.texture){if(s.texture!==Yt.WHITE){const h=((u=s.matrix)==null?void 0:u.clone().invert())||new Ot;h.translate(s.texture.frame.x,s.texture.frame.y),h.scale(1/s.texture.source.width,1/s.texture.source.height),s.matrix=h}const o=s.texture.source.style;o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update())}const a=Ve.shared.setValue(s.color);return s.alpha*=a.alpha,s.color=a.toNumber(),s.matrix=s.matrix?s.matrix.clone():null,s}function Ga(r,e){if(r==null)return null;const s={},a=r;return r2(r)?u2(s,r,e):cy(r)?fy(s,r,e):hy(r)?dy(s,r,e):a.fill&&cy(a.fill)?fy(a,a.fill,e):a.fill&&hy(a.fill)?dy(a,a.fill,e):o2(a,e)}function my(r,e){const{width:s,alignment:a,miterLimit:u,cap:o,join:h,pixelLine:d,...m}=e,y=Ga(r,m);return y?{width:s,alignment:a,miterLimit:u,cap:o,join:h,pixelLine:d,...y}:null}const c2=new be,yy=new Ot,ih=class di extends qi{constructor(){super(...arguments),this.uid=ae("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Ns,this._transform=new Ot,this._fillStyle={...di.defaultFillStyle},this._strokeStyle={...di.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new pi,this._boundsDirty=!0}clone(){const e=new di;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ga(e,di.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=my(e,di.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ga(e,di.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ga(e,di.defaultStrokeStyle),this}texture(e,s,a,u,o,h){return this.instructions.push({action:"texture",data:{image:e,dx:a||0,dy:u||0,dw:o||e.frame.width,dh:h||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:s?Ve.shared.setValue(s).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Ns,this}fill(e,s){let a;const u=this.instructions[this.instructions.length-1];return this._tick===0&&u&&u.action==="stroke"?a=u.data.path:a=this._activePath.clone(),a?(e!=null&&(s!==void 0&&typeof e=="number"&&($t(se,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:s}),this._fillStyle=Ga(e,di.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:a}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:s}=this._activePath.getLastPoint(be.shared);this._activePath.clear(),this._activePath.moveTo(e,s)}stroke(e){let s;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a&&a.action==="fill"?s=a.data.path:s=this._activePath.clone(),s?(e!=null&&(this._strokeStyle=my(e,di.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const s=this.instructions[this.instructions.length-1-e],a=this._activePath.clone();if(s&&(s.action==="stroke"||s.action==="fill"))if(s.data.hole)s.data.hole.addPath(a);else{s.data.hole=a;break}}return this._initNextPathLocation(),this}arc(e,s,a,u,o,h){this._tick++;const d=this._transform;return this._activePath.arc(d.a*e+d.c*s+d.tx,d.b*e+d.d*s+d.ty,a,u,o,h),this}arcTo(e,s,a,u,o){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*e+h.c*s+h.tx,h.b*e+h.d*s+h.ty,h.a*a+h.c*u+h.tx,h.b*a+h.d*u+h.ty,o),this}arcToSvg(e,s,a,u,o,h,d){this._tick++;const m=this._transform;return this._activePath.arcToSvg(e,s,a,u,o,m.a*h+m.c*d+m.tx,m.b*h+m.d*d+m.ty),this}bezierCurveTo(e,s,a,u,o,h,d){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*e+m.c*s+m.tx,m.b*e+m.d*s+m.ty,m.a*a+m.c*u+m.tx,m.b*a+m.d*u+m.ty,m.a*o+m.c*h+m.tx,m.b*o+m.d*h+m.ty,d),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,s,a,u){return this._tick++,this._activePath.ellipse(e,s,a,u,this._transform.clone()),this}circle(e,s,a){return this._tick++,this._activePath.circle(e,s,a,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,s){this._tick++;const a=this._transform;return this._activePath.lineTo(a.a*e+a.c*s+a.tx,a.b*e+a.d*s+a.ty),this}moveTo(e,s){this._tick++;const a=this._transform,u=this._activePath.instructions,o=a.a*e+a.c*s+a.tx,h=a.b*e+a.d*s+a.ty;return u.length===1&&u[0].action==="moveTo"?(u[0].data[0]=o,u[0].data[1]=h,this):(this._activePath.moveTo(o,h),this)}quadraticCurveTo(e,s,a,u,o){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*e+h.c*s+h.tx,h.b*e+h.d*s+h.ty,h.a*a+h.c*u+h.tx,h.b*a+h.d*u+h.ty,o),this}rect(e,s,a,u){return this._tick++,this._activePath.rect(e,s,a,u,this._transform.clone()),this}roundRect(e,s,a,u,o){return this._tick++,this._activePath.roundRect(e,s,a,u,o,this._transform.clone()),this}poly(e,s){return this._tick++,this._activePath.poly(e,s,this._transform.clone()),this}regularPoly(e,s,a,u,o=0,h){return this._tick++,this._activePath.regularPoly(e,s,a,u,o,h),this}roundPoly(e,s,a,u,o,h){return this._tick++,this._activePath.roundPoly(e,s,a,u,o,h),this}roundShape(e,s,a,u){return this._tick++,this._activePath.roundShape(e,s,a,u),this}filletRect(e,s,a,u,o){return this._tick++,this._activePath.filletRect(e,s,a,u,o),this}chamferRect(e,s,a,u,o,h){return this._tick++,this._activePath.chamferRect(e,s,a,u,o,h),this}star(e,s,a,u,o=0,h=0){return this._tick++,this._activePath.star(e,s,a,u,o,h,this._transform.clone()),this}svg(e){return this._tick++,a2(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,s=e){return this._transform.scale(e,s),this}setTransform(e,s,a,u,o,h){return e instanceof Ot?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,s,a,u,o,h),this)}transform(e,s,a,u,o,h){return e instanceof Ot?(this._transform.append(e),this):(yy.set(e,s,a,u,o,h),this._transform.append(yy),this)}translate(e,s=e){return this._transform.translate(e,s),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let s=0;s<this.instructions.length;s++){const a=this.instructions[s],u=a.action;if(u==="fill"){const o=a.data;e.addBounds(o.path.bounds)}else if(u==="texture"){const o=a.data;e.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(u==="stroke"){const o=a.data,h=o.style.alignment,d=o.style.width*(1-h),m=o.path.bounds;e.addFrame(m.minX-d,m.minY-d,m.maxX+d,m.maxY+d)}}return e}containsPoint(e){var u;if(!this.bounds.containsPoint(e.x,e.y))return!1;const s=this.instructions;let a=!1;for(let o=0;o<s.length;o++){const h=s[o],d=h.data,m=d.path;if(!h.action||!m)continue;const y=d.style,g=m.shapePath.shapePrimitives;for(let x=0;x<g.length;x++){const A=g[x].shape;if(!y||!A)continue;const v=g[x].transform,E=v?v.applyInverse(e,c2):e;if(h.action==="fill")a=A.contains(E.x,E.y);else{const M=y;a=A.strokeContains(E.x,E.y,M.width,M.alignment)}const z=d.hole;if(z){const M=(u=z.shapePath)==null?void 0:u.shapePrimitives;if(M)for(let B=0;B<M.length;B++)M[B].shape.contains(E.x,E.y)&&(a=!1)}if(a)return!0}}return a}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(a),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(a)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};ih.defaultFillStyle={color:16777215,alpha:1,texture:Yt.WHITE,matrix:null,fill:null};ih.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Yt.WHITE,matrix:null,fill:null,pixelLine:!1};let Na=ih;class mi extends Qy{constructor(e){e instanceof Na&&(e={context:e});const{context:s,roundPixels:a,...u}=e||{};super({label:"Graphics",...u}),this.renderPipeId="graphics",s?this._context=s:this._context=this._ownedContext=new Na,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=a??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,s){return this.context[e](...s),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new mi(this._context.clone()):(this._ownedContext=null,new mi(this._context))}lineStyle(e,s,a){$t(se,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const u={};return e&&(u.width=e),s&&(u.color=s),a&&(u.alpha=a),this.context.strokeStyle=u,this}beginFill(e,s){$t(se,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const a={};return e!==void 0&&(a.color=e),s!==void 0&&(a.alpha=s),this.context.fillStyle=a,this}endFill(){$t(se,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Na.defaultStrokeStyle.width||e.color!==Na.defaultStrokeStyle.color||e.alpha!==Na.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return $t(se,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return $t(se,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return $t(se,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return $t(se,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return $t(se,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return $t(se,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}xi.add($1,K1);const tt={R:0,G1:49,C2:65.41,F2:87.31,G2:98,A2:110,C3:130.81,G3:196,C4:261.63,D4:293.66,E4:329.63,F4:349.23,G4:392,A4:440,B4:493.88,C5:523.25,D5:587.33,E5:659.25,F5:698.46,G5:783.99,A5:880},hi=.25,Xt=.5,Et=1,h2=2;class f2{constructor(e,s){this.ctx=null,this.isPlaying=!1,this.musicEnabled=!0,this.sfxEnabled=!0,this.bpm=135,this.beatDur=60/135,this.lookahead=.1,this.noiseBuffer=null,this.nextNoteTime=0,this.cursors={lead:0,bass:0,harmony:0,drum:0},this.trackTimes={lead:0,bass:0,harmony:0,drum:0},this.currentSection="intro",this.targetSection="loop",this.musicEnabled=e,this.sfxEnabled=s,this.intro={lead:[],bass:[],harmony:[],drum:[]},this.loop={lead:[],bass:[],harmony:[],drum:[]},this.frenzy={lead:[],bass:[],harmony:[],drum:[]},this.composeSong(),this.init()}composeSong(){this.intro.bass=[...this.createBassRun(tt.C3,4),...this.createBassRun(tt.G2,4),...this.createBassRun(tt.A2,4),...this.createBassRun(tt.G2,4)],this.intro.lead=[{freq:tt.C4,duration:Et},{freq:tt.E4,duration:Et},{freq:tt.G4,duration:Et},{freq:tt.C5,duration:Et},{freq:tt.D5,duration:Et},{freq:tt.B4,duration:Et},{freq:tt.G4,duration:Et},{freq:tt.D4,duration:Et},{freq:tt.C4,duration:Et},{freq:tt.E4,duration:Et},{freq:tt.A4,duration:Et},{freq:tt.C5,duration:Et},{freq:tt.B4,duration:Xt},{freq:tt.A4,duration:Xt},{freq:tt.G4,duration:Xt},{freq:tt.F4,duration:Xt},{freq:tt.E4,duration:Xt},{freq:tt.D4,duration:Xt},{freq:tt.C4,duration:Et}],this.intro.drum=this.createDrumBeat(16,"build"),this.intro.harmony=this.createRestTrack(16);const e=[...this.createBassRun(tt.C3,4),...this.createBassRun(tt.G2,4),...this.createBassRun(tt.A2,4),...this.createBassRun(tt.F2,4)],s=[...e,...e,...e];s.push(...this.createBassRun(tt.C3,4),...this.createBassRun(tt.G2,4),...this.createBassRun(tt.A2,4),...this.createBassRun(tt.G2,4)),this.loop.bass=s;const a=[{freq:tt.E5,duration:Xt+hi},{freq:tt.R,duration:hi},{freq:tt.C5,duration:Et},{freq:tt.G4,duration:Xt},{freq:tt.E4,duration:Xt},{freq:tt.D4,duration:Xt},{freq:tt.E4,duration:Xt},{freq:tt.D4,duration:Et},{freq:tt.G3,duration:h2}],u=[{freq:tt.C5,duration:Xt},{freq:tt.B4,duration:Xt},{freq:tt.A4,duration:Et},{freq:tt.G4,duration:Et},{freq:tt.E4,duration:Et},{freq:tt.F4,duration:Xt},{freq:tt.G4,duration:Xt},{freq:tt.A4,duration:Et},{freq:tt.C5,duration:Et},{freq:tt.D5,duration:Et}],o=[...a,...u],h=[{freq:tt.E5,duration:Et},{freq:tt.G5,duration:Et},{freq:tt.E5,duration:Et},{freq:tt.C5,duration:Et},{freq:tt.D5,duration:Xt},{freq:tt.C5,duration:Xt},{freq:tt.B4,duration:Et},{freq:tt.A4,duration:Et},{freq:tt.G4,duration:Et},{freq:tt.A4,duration:Et},{freq:tt.C5,duration:Et},{freq:tt.E5,duration:Et},{freq:tt.A5,duration:Et},{freq:tt.G5,duration:Et},{freq:tt.F5,duration:Xt},{freq:tt.E5,duration:Xt},{freq:tt.D5,duration:Et},{freq:tt.G4,duration:Et}];this.loop.lead=[...o,...o,...h,...h],this.loop.drum=[...this.createDrumBeat(32,"verse"),...this.createDrumBeat(32,"chorus")],this.loop.harmony=this.loop.lead.map(x=>({freq:x.freq>0?x.freq*.75:0,duration:x.duration}));const d=[{freq:tt.C4,duration:hi},{freq:tt.E4,duration:hi},{freq:tt.G4,duration:hi},{freq:tt.C5,duration:hi},{freq:tt.E5,duration:hi},{freq:tt.G5,duration:hi},{freq:tt.E5,duration:hi},{freq:tt.C5,duration:hi}],m=d.map(x=>({...x,freq:x.freq*1.5})),y=[];for(let x=0;x<8;x++)y.push(...d);for(let x=0;x<8;x++)y.push(...m);const g=[];for(let x=0;x<16;x++)g.push({freq:tt.C3,duration:Xt},{freq:tt.C2,duration:Xt});for(let x=0;x<16;x++)g.push({freq:tt.G2,duration:Xt},{freq:tt.G1,duration:Xt});this.frenzy.lead=[...y,...y],this.frenzy.bass=[...g,...g],this.frenzy.harmony=this.frenzy.lead.map(x=>({freq:x.freq*.5,duration:x.duration})),this.frenzy.drum=this.createDrumBeat(this.calculateTotalBeats(this.frenzy.lead),"frenzy")}setFrenzy(e){e?this.currentSection!=="frenzy"&&(this.targetSection="frenzy"):this.currentSection==="frenzy"&&(this.targetSection="loop")}playMergeSound(e){if(!this.sfxEnabled||!this.ctx)return;const a=800-Math.min(10,e)/10*600,u=a+100,o=this.ctx.createOscillator(),h=this.ctx.createGain();o.type="sine";const d=this.ctx.currentTime;o.frequency.setValueAtTime(a,d),o.frequency.exponentialRampToValueAtTime(u,d+.1),o.connect(h),h.connect(this.ctx.destination),h.gain.setValueAtTime(0,d),h.gain.linearRampToValueAtTime(.5,d+.01),h.gain.exponentialRampToValueAtTime(.01,d+.15),o.start(d),o.stop(d+.15)}createBassRun(e,s){const a=[];for(let u=0;u<s;u++)a.push({freq:e,duration:Xt}),a.push({freq:e,duration:Xt});return a}createDrumBeat(e,s){const a=[],u={freq:0,duration:.25,type:"kick"},o={freq:0,duration:.25,type:"snare"},h={freq:0,duration:.25,type:"hihat"},d={freq:0,duration:.25};let m=e;for(;m>0;)s==="build"?a.push(u,d,u,d):s==="frenzy"?a.push(u,h,o,h):s==="verse"?(a.push(u,d,d,d),a.push(o,d,d,d),a.push(u,d,u,d),a.push(o,d,d,d)):(a.push(u,d,u,h),a.push(o,d,d,h),a.push(u,d,u,h),a.push(o,d,u,h)),m-=4;return a}createRestTrack(e){return[{freq:0,duration:e}]}calculateTotalBeats(e){return e.reduce((s,a)=>s+a.duration,0)}setMusicEnabled(e){this.musicEnabled=e,e&&this.ctx&&this.ctx.state==="suspended"&&this.ctx.resume()}setSfxEnabled(e){this.sfxEnabled=e}init(){try{const e=window.AudioContext||window.webkitAudioContext;if(this.ctx=new e,this.ctx){const s=this.ctx.sampleRate*1;this.noiseBuffer=this.ctx.createBuffer(1,s,this.ctx.sampleRate);const a=this.noiseBuffer.getChannelData(0);for(let u=0;u<s;u++)a[u]=Math.random()*2-1}}catch{console.warn("AudioContext not supported")}}resume(){this.ctx&&this.ctx.state==="suspended"&&this.ctx.resume(),this.isPlaying=!0,this.ctx&&(this.nextNoteTime=this.ctx.currentTime+.1)}stop(){this.isPlaying=!1}update(){if(!this.ctx||!this.isPlaying)return;const e=this.ctx.currentTime;for(;this.nextNoteTime<e+this.lookahead;)this.scheduleStep(this.nextNoteTime),this.nextNoteTime+=this.beatDur/4}scheduleStep(e){let s=this.currentSection==="intro"?this.intro:this.currentSection==="frenzy"?this.frenzy:this.loop;this.targetSection!=="loop"&&this.currentSection==="loop"&&this.cursors.lead%16===0?(this.currentSection="frenzy",this.resetCursors(),s=this.frenzy):this.targetSection==="loop"&&this.currentSection==="frenzy"&&this.cursors.lead%16===0&&(this.currentSection="loop",this.resetCursors(),s=this.loop),this.processTrack(s.lead,"lead","square",.04,e),this.processTrack(s.bass,"bass","triangle",.15,e),this.processTrack(s.harmony,"harmony","square",.02,e),this.processTrack(s.drum,"drum","noise",.08,e),this.cursors.lead>=s.lead.length&&(this.currentSection==="intro"?(this.currentSection="loop",this.resetCursors()):this.resetCursors())}resetCursors(){this.cursors={lead:0,bass:0,harmony:0,drum:0},this.trackTimes={lead:0,bass:0,harmony:0,drum:0}}processTrack(e,s,a,u,o){const h=this.cursors[s];if(!(h>=e.length)){if(this.trackTimes[s]<=.01){const d=e[h];d?(this.musicEnabled&&(a==="noise"&&d.type?this.playNoise(d.type,o,u):a!=="noise"&&d.freq>0&&this.playTone(d.freq,a,d.duration*this.beatDur,o,u)),this.trackTimes[s]=d.duration,this.cursors[s]++):this.trackTimes[s]=.25}this.trackTimes[s]-=.25}}playTone(e,s,a,u,o){if(!this.ctx)return;const h=this.ctx.createOscillator(),d=this.ctx.createGain();h.type=s,h.frequency.setValueAtTime(e,u),h.connect(d),d.connect(this.ctx.destination);const m=.01,y=.02;d.gain.setValueAtTime(0,u),d.gain.linearRampToValueAtTime(o,u+m),d.gain.setValueAtTime(o,u+a-y),d.gain.linearRampToValueAtTime(0,u+a),h.start(u),h.stop(u+a)}playNoise(e,s,a){if(!this.ctx||!this.noiseBuffer)return;const u=this.ctx.createBufferSource();u.buffer=this.noiseBuffer;const o=this.ctx.createGain();if(e==="kick"){const d=this.ctx.createBiquadFilter();d.type="lowpass",d.frequency.setValueAtTime(150,s),d.frequency.exponentialRampToValueAtTime(50,s+.1),u.connect(d),d.connect(o),a*=1.5}else if(e==="hihat"){const d=this.ctx.createBiquadFilter();d.type="highpass",d.frequency.setValueAtTime(3e3,s),u.connect(d),d.connect(o),a*=.6}else u.connect(o);o.connect(this.ctx.destination);const h=e==="kick"?.15:e==="hihat"?.05:.1;o.gain.setValueAtTime(a,s),o.gain.exponentialRampToValueAtTime(.01,s+h),u.start(s),u.stop(s+h)}}const gy=600,Ec=900;class py{constructor(e,s,a,u){this.isStatic=!1,this.ignoreCollisions=!1,this.isCaught=!1,this.contactCount=0,this.stability=0,this.cooldownTimer=0,this.rotation=0,this.angularVelocity=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.blinkTimer=Math.random()*200,this.isBlinking=!1,this.x=e,this.y=s,this.vx=0,this.vy=0,this.radius=a.radius,this.mass=1,this.tier=a.tier,this.id=u}}class d2{constructor(e,s,a,u){this.capturedIds=[],this.tomatoId=e,this.x=s,this.y=a,this.targetTier=u,this.maxTime=3.5,this.timer=this.maxTime}}class Sr{constructor(e,s,a,u="circle"){this.x=e,this.y=s;const o=Math.random()*Math.PI*2,h=Math.random()*8+2;this.vx=Math.cos(o)*h,this.vy=Math.sin(o)*h,this.color=a,this.type=u,this.size=u==="star"?10+Math.random()*10:3+Math.random()*5,this.life=1,this.alpha=1}}class m2{constructor(e,s,a,u){this.fruits=[],this.nextId=0,this.width=gy,this.height=Ec,this.scaleFactor=1,this.destroyed=!1,this.initializing=!1,this.paused=!1,this.currentFruit=null,this.nextFruitTier=I.CHERRY,this.isAiming=!1,this.canDrop=!0,this.aimX=0,this.dragAnchorX=0,this.dragAnchorY=0,this.activeTomatoes=[],this.visualParticles=[],this.onScore=()=>{},this.onGameOver=()=>{},this.onCombo=()=>{},this.onFeverStart=()=>{},this.onFeverEnd=()=>{},this.onDanger=()=>{},this.onJuiceUpdate=()=>{},this.onNextFruit=()=>{},this.onMaxFruit=()=>{},this.onTimeUpdate=()=>{},this.score=0,this.stats={score:0,bestCombo:0,feverCount:0,tomatoUses:0,dangerSaves:0,timePlayed:0,maxTier:I.CHERRY},this.comboChain=0,this.didMergeThisTurn=!1,this.feverActive=!1,this.feverTimer=0,this.juice=0,this.dangerTimer=0,this.dangerActive=!1,this.dangerAccumulator=0,this.DANGER_TRIGGER_DELAY=3e3,this.fruitSprites=new Map,this.textures=new Map,this.pointerHistory=[],this.canvasElement=e,this.difficulty=s,this.settings=a,Object.assign(this,u),this.container=new Jt,this.effectContainer=new Jt,this.effectGraphics=new mi,this.effectContainer.addChild(this.effectGraphics),this.floorGraphics=new mi,this.dangerLine=new mi,this.audio=new f2(this.settings.musicEnabled,this.settings.sfxEnabled)}setPaused(e){this.paused=e,e?this.audio.stop():this.audio.resume()}updateSettings(e){this.settings=e,this.audio.setMusicEnabled(e.musicEnabled),this.audio.setSfxEnabled(e.sfxEnabled)}async initialize(){if(this.destroyed)return;this.initializing=!0,this.app=new Ag;try{await this.app.init({canvas:this.canvasElement,backgroundAlpha:0,width:this.canvasElement.clientWidth,height:this.canvasElement.clientHeight,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0,preference:"webgl",resizeTo:this.canvasElement})}catch(u){console.error("[GameEngine] PIXI Init Error:",u),this.initializing=!1;return}if(this.initializing=!1,this.destroyed){this.app&&this.app.destroy({removeView:!1});return}if(!this.app.renderer)return;const e=this.app.screen.width,s=this.app.screen.height;this.scaleFactor=Math.min(e/gy,s/Ec),this.container.scale.set(this.scaleFactor),this.effectContainer.scale.set(this.scaleFactor);const a=Ec*this.scaleFactor;if(s>a){const u=(s-a)/2;this.container.position.y=u,this.effectContainer.position.y=u}this.app.stage.addChild(this.effectContainer),this.app.stage.addChild(this.container),this.container.addChild(this.floorGraphics),this.container.addChild(this.dangerLine),this.initTextures(),this.drawFloor(),this.spawnNextFruit(),this.app.ticker.add(this.update.bind(this)),this.app.stage.eventMode="static",this.app.screen&&(this.app.stage.hitArea=this.app.screen),this.app.stage.on("pointerdown",this.onPointerDown.bind(this)),this.app.stage.on("pointermove",this.onPointerMove.bind(this)),this.app.stage.on("pointerup",this.onPointerUp.bind(this)),this.app.stage.on("pointerupoutside",this.onPointerUp.bind(this))}reset(){this.fruitSprites.forEach(e=>{e&&e.parent&&(e.parent.removeChild(e),e.destroy({children:!0}))}),this.fruitSprites.clear(),this.fruits=[],this.activeTomatoes=[],this.visualParticles=[],this.currentFruit&&(this.currentFruit=null),this.effectGraphics.clear(),this.score=0,this.stats={score:0,bestCombo:0,feverCount:0,tomatoUses:0,dangerSaves:0,timePlayed:0,maxTier:I.CHERRY},this.comboChain=0,this.didMergeThisTurn=!1,this.feverActive=!1,this.feverTimer=0,this.juice=0,this.dangerTimer=0,this.dangerActive=!1,this.dangerAccumulator=0,this.nextId=0,this.isAiming=!1,this.canDrop=!0,this.onScore(0,0),this.onCombo(0),this.onFeverEnd(),this.audio.setFrenzy(!1),this.onJuiceUpdate(0,Ea),this.onDanger(!1,0),this.onTimeUpdate(0),this.setPaused(!1),this.spawnNextFruit(),(this.settings.musicEnabled||this.settings.sfxEnabled)&&this.audio.resume()}getFloorY(e){return this.height-60+Math.sin(e*.015)*10+Math.cos(e*.04)*5}drawFloor(){this.floorGraphics.clear();const e=this.height+200,s=5;this.floorGraphics.moveTo(0,e),this.floorGraphics.lineTo(0,this.getFloorY(0));for(let a=0;a<=this.width;a+=s)this.floorGraphics.lineTo(a,this.getFloorY(a));this.floorGraphics.lineTo(this.width,this.getFloorY(this.width)),this.floorGraphics.lineTo(this.width,e),this.floorGraphics.closePath(),this.floorGraphics.fill({color:7782467}),this.floorGraphics.stroke({width:6,color:3037724,alignment:0}),this.floorGraphics.circle(50,this.height,15),this.floorGraphics.circle(80,this.height+20,20),this.floorGraphics.fill({color:5606191,alpha:.2}),this.floorGraphics.circle(this.width-100,this.height,25),this.floorGraphics.fill({color:5606191,alpha:.2})}initTextures(){var e;(e=this.app)!=null&&e.renderer&&Object.values(yi).forEach(s=>{const a=new Jt,u=s.radius,o=new mi,h=s.patternColor;switch(o.circle(0,0,u),o.fill({color:s.color}),s.tier!==I.TOMATO&&o.stroke({width:4,color:h,alignment:0}),s.tier){case I.CHERRY:o.circle(u*.3,-u*.3,u*.2),o.fill({color:16777215,alpha:.3});break;case I.STRAWBERRY:for(let y=0;y<6;y++)o.circle((Math.random()-.5)*u*1.2,(Math.random()-.5)*u*1.2,2),o.fill({color:h});break;case I.CLEMENTINE:o.ellipse(0,0,u*.9,u*.8),o.fill({color:16777215,alpha:.1});break;case I.ORANGE:o.stroke({width:4,color:h,alpha:.5,alignment:1});break;case I.APPLE:o.ellipse(-u*.3,-u*.3,u*.2,u*.3),o.fill({color:16777215,alpha:.2});break;case I.PINEAPPLE:o.moveTo(-u*.7,-u*.7),o.lineTo(u*.7,u*.7),o.stroke({width:2,color:h,alpha:.5}),o.moveTo(u*.7,-u*.7),o.lineTo(-u*.7,u*.7),o.stroke({width:2,color:h,alpha:.5});break;case I.COCONUT:o.stroke({width:4,color:h,alignment:1});break;case I.PUMPKIN:o.ellipse(0,0,u*.5,u),o.stroke({width:2,color:h,alpha:.3});break;case I.WATERMELON:o.arc(0,0,u*.9,0,Math.PI*2),o.stroke({width:6,color:h});break;case I.TOMATO:o.circle(u*.3,-u*.3,u*.35),o.fill({color:16777215,alpha:.4});break}const d=new mi;s.tier===I.APPLE?(d.moveTo(0,-u*.8),d.quadraticCurveTo(u*.2,-u*1.1,u*.4,-u*.9),d.stroke({width:3,color:3369246})):s.tier===I.PINEAPPLE?(d.poly([-10,-u*.9,0,-u*1.2,10,-u*.9]),d.fill({color:5025616})):s.tier===I.TOMATO&&(d.star(0,-u*.85,5,u*.35,u*.15,0),d.fill({color:3046706})),a.addChild(o),a.addChild(d);const m=this.app.renderer.generateTexture({target:a});this.textures.set(s.tier,m),a.destroy({children:!0})})}createFace(e,s){const a=new Jt,u=new mi,o=new mi;u.label="eyes",o.label="mouth";const h=2232593,d=2232593,m=(A,v,E,z,M="dot")=>{M==="dot"?(A.circle(v,E,z),A.fill({color:h}),A.circle(v-z*.3,E-z*.3,z*.3),A.fill({color:16777215})):M==="happy"?(A.arc(v,E,z,Math.PI,0),A.stroke({width:z/2,color:h,cap:"round"})):M==="wink"?(A.moveTo(v-z,E),A.lineTo(v+z,E),A.stroke({width:z/2,color:h,cap:"round"})):M==="line"?(A.moveTo(v-z,E),A.lineTo(v+z,E),A.stroke({width:z/2,color:h,cap:"round"})):M==="star"?(A.poly([v,E-z,v+z*.3,E-z*.3,v+z,E,v+z*.3,E+z*.3,v,E+z,v-z*.3,E+z*.3,v-z,E,v-z*.3,E-z*.3]),A.fill({color:16766720}),A.stroke({width:1,color:h})):M==="derp"&&(A.circle(v,E,z),A.fill({color:16777215}),A.circle(v,E,z*.4),A.fill({color:h}))},y=-s*.1,g=s*.35,x=Math.max(3,s*.18);switch(e){case I.CHERRY:m(u,-g,y,x,"dot"),m(u,g,y,x,"dot"),o.arc(0,y+x,x,.2,Math.PI-.2),o.stroke({width:2,color:d,cap:"round"});break;case I.STRAWBERRY:m(u,-g,y,x*1.2,"happy"),m(u,g,y,x*1.2,"happy"),o.moveTo(-x,y+x*2),o.quadraticCurveTo(0,y+x*3,x,y+x*2),o.stroke({width:2,color:d,cap:"round"});break;case I.GRAPE:m(u,-g,y,x,"dot"),m(u,g,y,x,"dot"),o.circle(0,y+x*2,x*.5),o.stroke({width:2,color:d});break;case I.CLEMENTINE:m(u,-g,y,x,"wink"),m(u,g,y,x,"dot"),o.arc(0,y+x*1.5,x,0,Math.PI),o.fill({color:d});break;case I.ORANGE:m(u,-g,y,x,"line"),m(u,g,y,x,"line"),o.moveTo(-x,y+x*2.5),o.lineTo(x,y+x*2.5),o.stroke({width:3,color:d,cap:"round"});break;case I.APPLE:m(u,-g,y,x,"happy"),m(u,g,y,x,"happy"),o.arc(0,y+x*1.5,x*.8,.2,Math.PI-.2),o.stroke({width:3,color:d,cap:"round"});break;case I.PINEAPPLE:u.rect(-g-x*1.5,y-x*.5,x*3,x*1.5),u.rect(g-x*1.5,y-x*.5,x*3,x*1.5),u.moveTo(-g,y),u.lineTo(g,y),u.fill({color:1118481}),o.arc(0,y+x*2,x,.2,Math.PI-.2),o.stroke({width:3,color:d,cap:"round"});break;case I.COCONUT:m(u,-g,y,x,"wink"),m(u,g,y,x,"wink"),o.circle(0,y+x*2.5,x*.5),o.stroke({width:2,color:d});break;case I.PUMPKIN:u.poly([-g,y-x,-g-x,y+x,-g+x,y+x]),u.poly([g,y-x,g-x,y+x,g+x,y+x]),u.fill({color:d}),o.poly([-x*2,y+x*2,-x,y+x*3,0,y+x*2,x,y+x*3,x*2,y+x*2]),o.stroke({width:3,color:d,join:"round"});break;case I.WATERMELON:m(u,-g,y,x*1.8,"star"),m(u,g,y,x*1.8,"star"),o.moveTo(-x*1.5,y+x*2),o.quadraticCurveTo(0,y+x*5,x*1.5,y+x*2),o.lineTo(-x*1.5,y+x*2),o.fill({color:6684672}),o.arc(0,y+x*3.5,x*.8,0,Math.PI),o.fill({color:16737894});break;case I.TOMATO:m(u,-g,y,x*1.5,"wink"),m(u,g,y,x*1.5,"wink"),o.moveTo(-x,y+x*2),o.quadraticCurveTo(0,y+x*3,x,y+x*2),o.stroke({width:2,color:d});break}return a.addChild(u),a.addChild(o),a}spawnNextFruit(){if(!this.canDrop)return;let e=I.CHERRY;for(const h of this.fruits)!h.isStatic&&h.tier!==I.TOMATO&&h.tier>e&&(e=h.tier);this.onMaxFruit(e),e>this.stats.maxTier&&(this.stats.maxTier=e);const s=Math.min(I.COCONUT,Math.max(I.CHERRY,e-2)),a=[];for(let h=0;h<=s;h++)a.push(h);const o=Math.random()<.015?I.TOMATO:a[Math.floor(Math.random()*a.length)];this.nextFruitTier=o,this.onNextFruit(o),this.currentFruit=new py(this.width/2,this.height*tc,yi[o],this.nextId++),this.currentFruit.isStatic=!0,this.dragAnchorX=this.width/2,this.dragAnchorY=this.height*tc,this.createSprite(this.currentFruit)}createSprite(e){if(!this.textures.has(e.tier))return;const s=this.textures.get(e.tier),a=new Jt,u=new zs(s);u.anchor.set(.5),a.addChild(u);const o=this.createFace(e.tier,e.radius);o.label="face",a.addChild(o),this.fruitSprites.set(e.id,a),this.container.addChild(a)}getVirtualPos(e,s){if(!this.app||!this.app.stage)return{x:e/this.scaleFactor,y:s/this.scaleFactor};const a=this.container.position.y;return{x:e/this.scaleFactor,y:(s-a)/this.scaleFactor}}onPointerDown(e){if(this.paused||(this.audio.resume(),!this.currentFruit||!this.canDrop))return;this.isAiming=!0;const s=this.getVirtualPos(e.global.x,e.global.y);this.updateAim(s.x,s.y),this.pointerHistory=[]}onPointerMove(e){if(this.paused||!this.isAiming)return;const s=this.getVirtualPos(e.global.x,e.global.y);this.updateAim(s.x,s.y);const a=performance.now();this.pointerHistory.push({x:s.x,y:s.y,time:a}),this.pointerHistory.length>8&&this.pointerHistory.shift()}updateAim(e,s){const a=this.currentFruit?this.currentFruit.radius:20;this.aimX=Math.max(a,Math.min(this.width-a,e)),this.dragAnchorX=this.aimX,this.dragAnchorY=this.height*tc+(Math.min(s,this.height*.4)-this.height*.2)*.1}onPointerUp(e){if(this.paused||!this.isAiming||!this.currentFruit)return;this.isAiming=!1;let s=0,a=0;if(this.pointerHistory.length>=2){const d=this.pointerHistory[this.pointerHistory.length-1],m=this.pointerHistory[0],y=d.time-m.time;y>0&&(s=(d.x-m.x)/y*22,a=(d.y-m.y)/y*22)}const u=40,o=Math.sqrt(s*s+a*a);o>u&&(s=s/o*u,a=a/o*u),a<-15&&(a=-15),this.didMergeThisTurn||(this.comboChain=0,this.onCombo(0)),this.didMergeThisTurn=!1,this.currentFruit.isStatic=!1,this.currentFruit.vx=s,this.currentFruit.vy=a,this.currentFruit.angularVelocity=s*.05,this.fruits.push(this.currentFruit),this.currentFruit=null,this.canDrop=!1;const h=mm[this.difficulty];setTimeout(()=>{this.canDrop=!0,this.spawnNextFruit()},h.spawnDelay)}update(e){if(this.paused)return;const s=1/60;this.updateGameLogic(s*1e3),this.updatePhysics(s),this.updateVisualEffects(s),this.audio.update(),this.drawDangerLine(),this.renderSync()}spawnPassiveTomatoParticle(e,s,a){if(Math.random()<.3){const u=Math.random()*Math.PI*2,o=a*(.8+Math.random()*.3),h=e+Math.cos(u)*o,d=s+Math.sin(u)*o,m=new Sr(h,d,16737095,"circle");m.vx=Math.cos(u)*.3,m.vy=Math.sin(u)*.3-.2,m.life=1.2,m.size=2+Math.random()*2,m.alpha=.5,this.visualParticles.push(m)}}updateVisualEffects(e){this.effectGraphics.clear();const s=this.activeTomatoes,a=s.length>0;if(a&&this.visualParticles.filter(u=>u.type==="suck").length<300)for(const u of s)for(let o=0;o<3;o++){const h=Math.random()*Math.PI*2,d=180+Math.random()*40,m=u.x+Math.cos(h)*d,y=u.y+Math.sin(h)*d,g=new Sr(m,y,16729156,"suck");g.targetId=u.tomatoId,g.life=1,g.size=3+Math.random()*3,g.alpha=0,this.visualParticles.push(g)}for(const u of this.fruits)u.tier===I.TOMATO&&(this.activeTomatoes.some(h=>h.tomatoId===u.id)||this.spawnPassiveTomatoParticle(u.x,u.y,u.radius));if(this.currentFruit&&this.currentFruit.tier===I.TOMATO&&this.spawnPassiveTomatoParticle(this.currentFruit.x,this.currentFruit.y,this.currentFruit.radius),this.nextFruitTier===I.TOMATO&&this.spawnPassiveTomatoParticle(this.width-55,75,45),this.feverActive&&Math.random()<.3){const u=new Sr(Math.random()*this.width,this.height+20,16766720,"star");u.vy=-Math.random()*2-2,u.vx=(Math.random()-.5)*1,this.visualParticles.push(u)}for(let u=this.visualParticles.length-1;u>=0;u--){const o=this.visualParticles[u];let h=null;if(o.type==="suck"&&a&&o.targetId!==void 0&&(h=s.find(d=>d.tomatoId===o.targetId)||null,!h)){this.visualParticles.splice(u,1);continue}if(h){const d=o.x-h.x,m=o.y-h.y,y=Math.sqrt(d*d+m*m),g=Math.atan2(m,d);if(y<20){this.visualParticles.splice(u,1);continue}const x=3+200/(y+10),v=g+.15,E=y-x;o.x=h.x+Math.cos(v)*E,o.y=h.y+Math.sin(v)*E,o.color=16711680,o.alpha<1&&(o.alpha+=.05),this.effectGraphics.circle(o.x,o.y,o.size),this.effectGraphics.fill({color:o.color,alpha:o.alpha})}else o.x+=o.vx,o.y+=o.vy,o.life-=.015,o.type==="circle"?(o.alpha=Math.min(.6,o.life),o.vx*=.96,o.vy*=.96):o.alpha=Math.min(1,o.life),o.type==="star"?(this.effectGraphics.star(o.x,o.y,5,o.size,o.size/2,o.life*5),this.effectGraphics.fill({color:o.color,alpha:o.alpha})):(this.effectGraphics.circle(o.x,o.y,o.size),this.effectGraphics.fill({color:o.color,alpha:o.alpha})),(o.life<=0||o.y<-50||o.y>this.height+50||o.x<-50||o.x>this.width+50)&&this.visualParticles.splice(u,1)}}createMergeEffect(e,s,a){for(let u=0;u<15;u++){const o=new Sr(e,s,a,Math.random()>.5?"circle":"star"),h=Math.random()*Math.PI*2,d=Math.random()*10+5;o.vx=Math.cos(h)*d,o.vy=Math.sin(h)*d,this.visualParticles.push(o)}}updateGameLogic(e){this.stats.timePlayed+=e,this.onTimeUpdate(this.stats.timePlayed);for(let u=this.activeTomatoes.length-1;u>=0;u--){const o=this.activeTomatoes[u];o.timer-=e/1e3;const h=this.fruits.find(d=>d.id===o.tomatoId);if(h){o.x=h.x,o.y=h.y;const d=1-o.timer/o.maxTime;h.scaleX=1+d*.3,h.scaleY=1+d*.3,h.alpha=1-d*.4,h.rotation+=.05}o.timer<=0&&(this.concludeTomatoEffect(o),this.activeTomatoes.splice(u,1))}for(const u of this.fruits)u.cooldownTimer>0&&(u.cooldownTimer-=e/1e3);this.feverActive?(this.feverTimer-=e,this.feverTimer<=0&&(this.feverActive=!1,this.audio.setFrenzy(!1),this.juice=0,this.onJuiceUpdate(0,Ea),this.onFeverEnd())):this.juice>=Ea&&!this.feverActive&&(this.feverActive=!0,this.audio.setFrenzy(!0),this.feverTimer=P1,this.stats.feverCount++,this.onFeverStart());const s=this.height*gm;let a=!1;for(const u of this.fruits)if(!u.isStatic&&u.y-u.radius<s){a=!0;break}a?(this.dangerAccumulator+=e,this.dangerAccumulator>this.DANGER_TRIGGER_DELAY&&(this.dangerActive||(this.dangerActive=!0,this.dangerTimer=X1))):(this.dangerAccumulator=0,this.dangerActive=!1,this.onDanger(!1,0)),this.dangerActive&&(this.dangerTimer-=e,this.onDanger(!0,this.dangerTimer),this.dangerTimer<=0&&this.gameOver())}updatePhysics(e){const s=mm[this.difficulty],a=s.gravity,u=s.friction;for(const o of this.fruits)o.isCaught||(o.ignoreCollisions=!1);if(this.currentFruit&&this.isAiming){const h=this.dragAnchorX-this.currentFruit.x,d=this.dragAnchorY-this.currentFruit.y;this.currentFruit.vx+=h*.1,this.currentFruit.vy+=d*.1,this.currentFruit.vx*=.8,this.currentFruit.vy*=.8,this.currentFruit.x+=this.currentFruit.vx,this.currentFruit.y+=this.currentFruit.vy}for(const o of this.fruits)o.isStatic||(o.isCaught||(o.vy+=a,o.vx*=u,o.vy*=u),o.x+=o.vx,o.y+=o.vy,o.rotation+=o.angularVelocity,o.angularVelocity*=.95,o.blinkTimer-=1,o.blinkTimer<=0&&(o.isBlinking=!o.isBlinking,o.blinkTimer=o.isBlinking?10:200+Math.random()*300));this.updateTomatoPhysics();for(let o=0;o<L1;o++){this.updateContactCounts();for(const h of this.fruits)h.isStatic||h.isCaught||h.contactCount>1&&(h.vx*=ym,h.vy*=ym,h.angularVelocity*=.5);this.resolveCollisions(),this.resolveWalls()}}updateContactCounts(){for(const e of this.fruits)e.contactCount=0;for(const e of this.fruits){if(e.isStatic||e.isCaught)continue;const s=this.getFloorY(e.x);e.y+e.radius>=s-2&&e.contactCount++}for(let e=0;e<this.fruits.length;e++)for(let s=e+1;s<this.fruits.length;s++){const a=this.fruits[e],u=this.fruits[s];if(a.ignoreCollisions||u.ignoreCollisions||a.isStatic||u.isStatic)continue;const o=a.x-u.x,h=a.y-u.y,d=o*o+h*h,m=a.radius+u.radius;d<m*m&&(a.contactCount++,u.contactCount++)}for(const e of this.fruits)e.contactCount>1?e.stability=1:e.stability=0}updateTomatoPhysics(){for(const e of this.activeTomatoes){const s=this.fruits.find(a=>a.id===e.tomatoId);if(s){for(const a of this.fruits)if(!(a.id===e.tomatoId||a===this.currentFruit||a.isStatic)&&a.tier===e.targetTier){a.isCaught=!0,a.ignoreCollisions=!0,e.capturedIds.includes(a.id)||e.capturedIds.push(a.id);const u=s.x-a.x,o=s.y-a.y,h=Math.sqrt(u*u+o*o),d=Math.atan2(o,u)+Math.PI/9,m=15+1e3/(h+50);a.vx=a.vx*.85+Math.cos(d)*m*.15,a.vy=a.vy*.85+Math.sin(d)*m*.15;const y=s.radius*4;if(h<y){const g=Math.max(.1,h/y);a.scaleX=g,a.scaleY=g,a.alpha=g,a.rotation+=.3}}}}}resolveWalls(){const e=this.width;for(const s of this.fruits){if(s.isStatic)continue;const a=this.getFloorY(s.x);s.y+s.radius>a&&(s.y=a-s.radius,s.vy*=-.4,s.vx*=.85),s.x-s.radius<0&&(s.x=s.radius,s.vx*=-.5),s.x+s.radius>e&&(s.x=e-s.radius,s.vx*=-.5)}}resolveCollisions(){for(let e=0;e<this.fruits.length;e++)for(let s=e+1;s<this.fruits.length;s++){const a=this.fruits[e],u=this.fruits[s];if(a.ignoreCollisions||u.ignoreCollisions||a.isStatic&&u.isStatic)continue;const o=this.activeTomatoes.find(g=>g.tomatoId===a.id||g.tomatoId===u.id);if(o&&(a.id===o.tomatoId?u:a).tier===o.targetTier)continue;const h=a.x-u.x,d=a.y-u.y,m=h*h+d*d,y=a.radius+u.radius;if(m<y*y){const g=Math.sqrt(m);if(a.tier===u.tier&&a.tier!==I.WATERMELON&&a.tier!==I.TOMATO&&u.tier!==I.TOMATO&&a.cooldownTimer<=0&&u.cooldownTimer<=0){this.merge(a,u),e--;break}if(a.tier===I.TOMATO||u.tier===I.TOMATO){this.handleTomatoCollision(a,u);return}if(g===0)continue;const x=y-g,A=h/g,v=d/g,E=1/(a.mass*(1+a.stability*10)),z=1/(u.mass*(1+u.stability*10)),M=E+z,B=a.isStatic?0:E/M,U=u.isStatic?0:z/M;a.isStatic||(a.x+=A*x*B,a.y+=v*x*B),u.isStatic||(u.x-=A*x*U,u.y-=v*x*U);const Y=a.vx-u.vx,$=a.vy-u.vy,J=Y*A+$*v;if(J<0){const P=-1.4*J;a.vx+=P*A*B,a.vy+=P*v*B,u.vx-=P*A*U,u.vy-=P*v*U,a.contactCount<=1&&(a.vx*=cr,a.vy*=cr),u.contactCount<=1&&(u.vx*=cr,u.vy*=cr)}}}}merge(e,s){const a=e.tier+1,u=V1*Math.pow(2,a);this.comboChain++,this.didMergeThisTurn=!0;const o=1+Math.min(this.comboChain,10),h=this.feverActive?2:1,d=u*o*h;this.addScore(d),this.stats.bestCombo=Math.max(this.stats.bestCombo,this.comboChain),this.onCombo(this.comboChain),a>this.stats.maxTier&&(this.stats.maxTier=a),this.feverActive||(this.juice=Math.min(Ea,this.juice+50),this.onJuiceUpdate(this.juice,Ea)),this.removeParticle(e),this.removeParticle(s);const m=(e.x+s.x)/2,y=(e.y+s.y)/2,g=yi[a],x=new py(m,y,g,this.nextId++);this.fruits.push(x),this.createSprite(x),this.createMergeEffect(m,y,g.color),this.audio.playMergeSound(a),this.applyShockwave(m,y,150,5),this.settings.hapticsEnabled&&navigator.vibrate&&navigator.vibrate(20)}handleTomatoCollision(e,s){const a=e.tier===I.TOMATO?e:s,u=e.tier===I.TOMATO?s:e;if(u.tier===I.TOMATO||a.cooldownTimer>0||this.activeTomatoes.find(m=>m.tomatoId===a.id))return;const h=new d2(a.id,a.x,a.y,u.tier);this.activeTomatoes.push(h),a.isStatic=!0,a.vx=0,a.vy=0,a.y=Math.max(a.radius,a.y-50);const d=this.fruitSprites.get(a.id);d&&(d.alpha=1)}concludeTomatoEffect(e){const s=this.fruits.find(o=>o.id===e.tomatoId);let a=e.x,u=e.y;s&&(a=s.x,u=s.y,this.removeParticle(s),this.stats.tomatoUses++);for(const o of e.capturedIds){const h=this.fruits.find(d=>d.id===o);if(h){h.isCaught=!1,h.ignoreCollisions=!1,h.scaleX=1,h.scaleY=1,h.alpha=1,h.cooldownTimer=.8,h.x=a+(Math.random()-.5)*5,h.y=u+(Math.random()-.5)*5;const d=Math.random()*Math.PI*2,m=5;h.vx=Math.cos(d)*m,h.vy=Math.sin(d)*m-3}}this.createMergeEffect(a,u,"#FF4444"),this.applyShockwave(a,u,600,40),this.settings.hapticsEnabled&&navigator.vibrate&&navigator.vibrate([50,50])}applyShockwave(e,s,a,u){for(const o of this.fruits){const h=o.x-e,d=o.y-s,m=Math.sqrt(h*h+d*d);if(m<a&&m>0){const y=1-m/a;o.vx+=h/m*u*y,o.vy+=d/m*u*y}}}removeParticle(e){const s=this.fruits.indexOf(e);s>=0&&this.fruits.splice(s,1);const a=this.fruitSprites.get(e.id);a&&(this.container.removeChild(a),a.destroy(),this.fruitSprites.delete(e.id))}addScore(e){this.score+=Math.floor(e),this.stats.score=this.score,this.onScore(Math.floor(e),this.score)}gameOver(){var e;this.canDrop=!1,(e=this.app)==null||e.ticker.stop(),this.audio.stop(),this.onGameOver(this.stats)}drawDangerLine(){this.dangerLine.clear();const e=this.height*gm,s=this.width;this.dangerLine.moveTo(0,e),this.dangerLine.lineTo(s,e),this.dangerActive?this.dangerLine.stroke({width:6,color:16711680,alpha:.8+Math.sin(Date.now()*.01)*.2}):this.dangerLine.stroke({width:3,color:0,alpha:.2})}renderSync(){let e=1,s=1;if(this.feverActive){const a=Date.now(),u=Math.sin(a/250*Math.PI)*.05;e=1+u,s=1-u}if(this.currentFruit){const a=this.fruitSprites.get(this.currentFruit.id);a&&(a.x=this.currentFruit.x,a.y=this.currentFruit.y,a.rotation=this.currentFruit.rotation)}for(const a of this.fruits){const u=this.fruitSprites.get(a.id);if(u){u.x=a.x,u.y=a.y,u.rotation=a.rotation,u.alpha=a.alpha,u.scale.set(a.scaleX*e,a.scaleY*s);const o=u.getChildByLabel("face");if(o){const h=o.getChildByLabel("eyes");h&&(a.isBlinking?h.scale.y=.1:h.scale.y=1);const d=Math.min(10,Math.max(-10,a.vx)),m=Math.min(10,Math.max(-10,a.vy));o.position.set(d*.5,m*.5)}}}}cleanup(){if(this.destroyed=!0,this.audio.stop(),!this.initializing&&this.app)try{this.app.destroy({removeView:!1})}catch(e){console.warn("[GameEngine] Error destroying Pixi app",e)}}}const Cc={highScores:{[Hi.EASY]:0,[Hi.NORMAL]:0,[Hi.HARD]:0},leaderboard:[],settings:{musicEnabled:!0,sfxEnabled:!0,hapticsEnabled:!0,reducedParticles:!1},lastDifficulty:Hi.NORMAL,tutorialSeen:!1},Vc=()=>{var r;try{const e=localStorage.getItem(zy);if(e){const s=JSON.parse(e);return typeof((r=s.settings)==null?void 0:r.soundEnabled)<"u"&&(s.settings.musicEnabled=s.settings.soundEnabled,s.settings.sfxEnabled=s.settings.soundEnabled,delete s.settings.soundEnabled),{...Cc,...s,settings:{...Cc.settings,...s.settings}}}}catch(e){console.error("Failed to load save data",e)}return Cc},Ua=r=>{try{const s={...Vc(),...r};localStorage.setItem(zy,JSON.stringify(s))}catch(e){console.error("Failed to save data",e)}},xy=["data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='black'%3E%3Ccircle cx='50' cy='50' r='40' /%3E%3C/g%3E%3C/svg%3E","data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill='black' /%3E%3C/svg%3E","data:image/svg+xml,%3Csvg width='100' height='20' viewBox='0 0 100 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 Q25 20 50 10 T100 10' stroke-width='4' stroke='black' fill='none' /%3E%3C/svg%3E","data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 10 L70 70 L10 70 Z' fill='black' /%3E%3C/svg%3E"],y2=({tier:r,size:e})=>{const s=yi[r]||yi[I.CHERRY],a=e/2,u="#221111",o="#221111",h=a,d=a,m=-a*.1,y=a*.35,g=Math.max(2,a*.18),x=()=>{const v=s.patternColor;switch(r){case I.CHERRY:return N.jsx("circle",{cx:h+a*.3,cy:d-a*.3,r:a*.2,fill:"white",fillOpacity:"0.3"});case I.STRAWBERRY:return N.jsxs("g",{fill:v,children:[N.jsx("circle",{cx:h-a*.4,cy:d-a*.4,r:2}),N.jsx("circle",{cx:h+a*.5,cy:d-a*.3,r:2}),N.jsx("circle",{cx:h-a*.2,cy:d+a*.5,r:2}),N.jsx("circle",{cx:h+a*.4,cy:d+a*.4,r:2}),N.jsx("circle",{cx:h-a*.6,cy:d+a*.1,r:2})]});case I.CLEMENTINE:return N.jsx("ellipse",{cx:h,cy:d,rx:a*.9,ry:a*.8,fill:"white",fillOpacity:"0.1"});case I.ORANGE:return N.jsx("circle",{cx:h,cy:d,r:a-2,stroke:v,strokeWidth:"4",strokeOpacity:"0.5",fill:"none"});case I.APPLE:return N.jsxs("g",{children:[N.jsx("ellipse",{cx:h-a*.3,cy:d-a*.3,rx:a*.2,ry:a*.3,fill:"white",fillOpacity:"0.2"}),N.jsx("path",{d:`M ${h} ${d-a*.8} Q ${h+a*.2} ${d-a*1.1} ${h+a*.4} ${d-a*.9}`,stroke:"#33691E",strokeWidth:"3",fill:"none"})]});case I.PINEAPPLE:return N.jsxs("g",{children:[N.jsx("path",{d:`M ${h-a*.7} ${d-a*.7} L ${h+a*.7} ${d+a*.7}`,stroke:v,strokeWidth:"2",strokeOpacity:"0.5"}),N.jsx("path",{d:`M ${h+a*.7} ${d-a*.7} L ${h-a*.7} ${d+a*.7}`,stroke:v,strokeWidth:"2",strokeOpacity:"0.5"}),N.jsx("polygon",{points:`${h-5},${d-a*.9} ${h},${d-a*1.2} ${h+5},${d-a*.9}`,fill:"#4CAF50"})]});case I.COCONUT:return N.jsx("circle",{cx:h,cy:d,r:a-2,stroke:v,strokeWidth:"4",fill:"none"});case I.PUMPKIN:return N.jsx("ellipse",{cx:h,cy:d,rx:a*.5,ry:a,stroke:v,strokeWidth:"2",strokeOpacity:"0.3",fill:"none"});case I.WATERMELON:return N.jsx("circle",{cx:h,cy:d,r:a*.9,stroke:v,strokeWidth:"6",fill:"none"});case I.TOMATO:return N.jsxs("g",{children:[N.jsx("circle",{cx:h+a*.3,cy:d-a*.3,r:a*.35,fill:"white",fillOpacity:"0.4"}),N.jsx("polygon",{points:`${h},${d-a*.85} ${h-a*.2},${d-a*.7} ${h+a*.2},${d-a*.7}`,fill:"#2E7D32"})]});default:return null}},A=()=>{const v=U=>N.jsxs("g",{children:[N.jsx("circle",{cx:h+U,cy:d+m,r:g,fill:u}),N.jsx("circle",{cx:h+U-g*.3,cy:d+m-g*.3,r:g*.3,fill:"white"})]}),E=(U,Y=1)=>N.jsx("path",{d:`M ${h+U-g*Y} ${d+m} A ${g*Y} ${g*Y} 0 0 1 ${h+U+g*Y} ${d+m}`,stroke:u,strokeWidth:g/2,fill:"none",strokeLinecap:"round"}),z=U=>N.jsx("path",{d:`M ${h+U-g} ${d+m} L ${h+U+g} ${d+m}`,stroke:u,strokeWidth:g/2,strokeLinecap:"round"}),M=U=>N.jsx("path",{d:`M ${h+U-g} ${d+m} L ${h+U+g} ${d+m}`,stroke:u,strokeWidth:g/2,strokeLinecap:"round"}),B=U=>{const Y=[0,-1,.3,-.3,1,0,.3,.3,0,1,-.3,.3,-1,0,-.3,-.3].map(($,J)=>J%2===0?h+U+$*g*1.8:d+m+$*g*1.8).join(",");return N.jsx("polygon",{points:Y,fill:"#FFD700",stroke:u,strokeWidth:"1"})};switch(r){case I.CHERRY:return N.jsxs("g",{children:[v(-y),v(y),N.jsx("path",{d:`M ${h-g} ${d+m+g} Q ${h} ${d+m+g+5} ${h+g} ${d+m+g}`,stroke:o,strokeWidth:"2",fill:"none",strokeLinecap:"round"})]});case I.STRAWBERRY:return N.jsxs("g",{children:[E(-y,1.2),E(y,1.2),N.jsx("path",{d:`M ${h-g} ${d+m+g*2} Q ${h} ${d+m+g*3} ${h+g} ${d+m+g*2}`,stroke:o,strokeWidth:"2",fill:"none",strokeLinecap:"round"})]});case I.GRAPE:return N.jsxs("g",{children:[v(-y),v(y),N.jsx("circle",{cx:h,cy:d+m+g*2,r:g*.5,stroke:o,strokeWidth:"2",fill:"none"})]});case I.CLEMENTINE:return N.jsxs("g",{children:[z(-y),v(y),N.jsx("path",{d:`M ${h-g} ${d+m+g*1.5} A ${g} ${g} 0 0 0 ${h+g} ${d+m+g*1.5} Z`,fill:o})]});case I.ORANGE:return N.jsxs("g",{children:[M(-y),M(y),N.jsx("path",{d:`M ${h-g} ${d+m+g*2.5} L ${h+g} ${d+m+g*2.5}`,stroke:o,strokeWidth:"3",strokeLinecap:"round"})]});case I.APPLE:return N.jsxs("g",{children:[E(-y),E(y),N.jsx("path",{d:`M ${h-g*.8} ${d+m+g*1.5} Q ${h} ${d+m+g*2.5} ${h+g*.8} ${d+m+g*1.5}`,stroke:o,strokeWidth:"3",fill:"none",strokeLinecap:"round"})]});case I.PINEAPPLE:return N.jsxs("g",{children:[N.jsx("rect",{x:h-y-g*1.5,y:d+m-g*.5,width:g*3,height:g*1.5,fill:"#111"}),N.jsx("rect",{x:h+y-g*1.5,y:d+m-g*.5,width:g*3,height:g*1.5,fill:"#111"}),N.jsx("line",{x1:h-y,y1:d+m,x2:h+y,y2:d+m,stroke:"#111",strokeWidth:"2"}),N.jsx("path",{d:`M ${h-g} ${d+m+g*2} Q ${h} ${d+m+g*3} ${h+g} ${d+m+g*2}`,stroke:o,strokeWidth:"3",fill:"none",strokeLinecap:"round"})]});case I.COCONUT:return N.jsxs("g",{children:[z(-y),z(y),N.jsx("circle",{cx:h,cy:d+m+g*2.5,r:g*.5,stroke:o,strokeWidth:"2",fill:"none"})]});case I.PUMPKIN:return N.jsxs("g",{children:[N.jsx("polygon",{points:`${h-y},${d+m-g} ${h-y-g},${d+m+g} ${h-y+g},${d+m+g}`,fill:o}),N.jsx("polygon",{points:`${h+y},${d+m-g} ${h+y-g},${d+m+g} ${h+y+g},${d+m+g}`,fill:o}),N.jsx("polygon",{points:`${h-g*2},${d+m+g*2} ${h-g},${d+m+g*3} ${h},${d+m+g*2} ${h+g},${d+m+g*3} ${h+g*2},${d+m+g*2}`,stroke:o,strokeWidth:"3",fill:"none",strokeLinejoin:"round"})]});case I.WATERMELON:return N.jsxs("g",{children:[B(-y),B(y),N.jsx("path",{d:`M ${h-g*1.5} ${d+m+g*2} Q ${h} ${d+m+g*5} ${h+g*1.5} ${d+m+g*2} Z`,fill:"#660000"}),N.jsx("path",{d:`M ${h-g*.8} ${d+m+g*3.5} A ${g*.8} ${g*.8} 0 0 0 ${h+g*.8} ${d+m+g*3.5}`,fill:"#FF6666"})]});case I.TOMATO:return N.jsxs("g",{children:[z(-y),z(y),N.jsx("path",{d:`M ${h-g} ${d+m+g*2} Q ${h} ${d+m+g*3} ${h+g} ${d+m+g*2}`,stroke:o,strokeWidth:"2",fill:"none",strokeLinecap:"round"})]});default:return N.jsxs("g",{children:[v(-y),v(y),N.jsx("path",{d:`M ${h-g} ${d+m+g} Q ${h} ${d+m+g+5} ${h+g} ${d+m+g}`,stroke:o,strokeWidth:"2",fill:"none",strokeLinecap:"round"})]})}};return N.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:[N.jsx("circle",{cx:h,cy:d,r:a-2,fill:s.color,stroke:r!==I.TOMATO?s.patternColor:"none",strokeWidth:r!==I.TOMATO?2:0}),x(),A()]})},g2=({difficulty:r,settings:e,leaderboard:s,onGameOver:a,setScore:u})=>{var S;const o=Nt.useRef(null),h=Nt.useRef(null),[d,m]=Nt.useState(0),[y,g]=Nt.useState(!1),[x,A]=Nt.useState(0),[v,E]=Nt.useState(0),[z,M]=Nt.useState(I.CHERRY),[B,U]=Nt.useState(0),[Y,$]=Nt.useState(I.CHERRY),[J,P]=Nt.useState(!1),[X,at]=Nt.useState(e),[ht,it]=Nt.useState(0),[et,mt]=Nt.useState(yi[I.CHERRY].color);Nt.useEffect(()=>{const C=setInterval(()=>{it(Math.floor(Math.random()*xy.length))},25e3);return()=>clearInterval(C)},[]),Nt.useEffect(()=>{if(!o.current)return;const C=new m2(o.current,r,X,{onScore:(G,Q)=>u(Q),onGameOver:a,onCombo:G=>m(G),onFeverStart:()=>g(!0),onFeverEnd:()=>g(!1),onDanger:(G,Q)=>A(G?Q:0),onJuiceUpdate:(G,Q)=>E(G/Q*100),onNextFruit:G=>M(G),onMaxFruit:G=>{mt(yi[G].patternColor),$(Q=>Math.max(Q,G))},onTimeUpdate:G=>U(G)});return C.initialize().catch(G=>console.error("Game init failed",G)),h.current=C,()=>{C.cleanup(),h.current=null}},[]),Nt.useEffect(()=>{h.current&&h.current.updateSettings(X),Ua({settings:X})},[X]);const xt=()=>{const C=!J;P(C),h.current&&h.current.setPaused(C)},zt=()=>{h.current&&h.current.reset(),P(!1),u(0),m(0),g(!1),E(0),U(0),$(I.CHERRY)},Pt=()=>{h.current&&h.current.gameOver()},b=()=>at(C=>({...C,musicEnabled:!C.musicEnabled})),T=()=>at(C=>({...C,sfxEnabled:!C.sfxEnabled})),w=()=>at(C=>({...C,hapticsEnabled:!C.hapticsEnabled})),j=[...s].sort((C,G)=>G.score-C.score).slice(0,10),L=C=>{const G=Math.floor(C/1e3),Q=Math.floor(G/60),W=G%60;return`${Q}:${W.toString().padStart(2,"0")}`};return N.jsxs("div",{className:"relative w-full h-full bg-white font-['Fredoka'] overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-[#FFF8E1] z-0"}),N.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:xy.map((C,G)=>N.jsx("div",{className:"absolute inset-0 animate-mask-scroll transition-opacity duration-2000",style:{maskImage:`url("${C}")`,WebkitMaskImage:`url("${C}")`,maskSize:"50px",WebkitMaskSize:"50px",backgroundColor:et,opacity:ht===G?.12:0}},G))}),N.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 flex items-end opacity-40",children:N.jsx("div",{className:`w-full relative transition-all ease-in-out ${y?"bg-purple-500":"bg-blue-400"}`,style:{height:`${v}%`,transitionDuration:"3000ms"},children:N.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-6 h-6 w-full animate-wave",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20' preserveAspectRatio='none'%3E%3Cpath d='M0 20 L0 10 Q25 0 50 10 T100 10 L100 20 Z' fill='${y?"%23A855F7":"%2360A5FA"}' /%3E%3C/svg%3E")`,backgroundSize:"100px 100%",backgroundRepeat:"repeat-x"}})})}),N.jsx("div",{className:"absolute top-[35%] left-0 right-0 flex justify-center items-center pointer-events-none z-0",children:(y||d>1)&&N.jsx("div",{className:"transform -rotate-6 transition-all duration-200 select-none flex flex-col items-center animate-pop",children:N.jsx("h1",{className:"text-5xl font-black text-yellow-400 tracking-wide text-center leading-tight",style:{textShadow:"4px 4px 0px #F97316, 8px 8px 0px rgba(0,0,0,0.2)",WebkitTextStroke:"2px #fff",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.3))"},children:y?N.jsx(N.Fragment,{children:N.jsx("span",{className:"text-6xl block text-purple-400",style:{textShadow:"4px 4px 0px #6B21A8"},children:"FRENZY!! x2"})}):`${d} CHAIN!`})})}),N.jsxs("div",{className:"absolute top-24 left-6 z-20 pointer-events-none flex flex-col items-start font-['Fredoka'] gap-1",children:[N.jsxs("div",{className:"text-2xl font-black text-white drop-shadow-md tracking-wide flex items-center gap-2",style:{WebkitTextStroke:"1.5px #4B5563",textShadow:"2px 2px 0px rgba(0,0,0,0.2)"},children:[N.jsx(vy,{size:20,strokeWidth:3,style:{filter:"drop-shadow(1px 1px 0 #4B5563) drop-shadow(-1px -1px 0 #4B5563)"}}),L(B)]}),N.jsxs("div",{className:"text-2xl font-black text-white drop-shadow-md tracking-wide flex items-center gap-2",style:{WebkitTextStroke:"1.5px #4B5563",textShadow:"2px 2px 0px rgba(0,0,0,0.2)"},children:[N.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-[#4B5563] shadow-sm",style:{backgroundColor:(S=yi[Y])==null?void 0:S.color}}),"LVL ",Y+1]})]}),N.jsx("div",{className:"absolute top-6 right-6 pointer-events-auto z-20 flex flex-col items-end gap-3 animate-fade-in",children:N.jsxs("div",{className:"flex flex-col items-center pointer-events-none drop-shadow-md",children:[N.jsx("div",{className:"text-sm text-gray-400 font-bold mb-1 tracking-widest drop-shadow-sm",style:{WebkitTextStroke:"0.5px white"},children:"NEXT"}),N.jsx(y2,{tier:z,size:60})]})}),N.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 pointer-events-auto animate-fade-in",children:N.jsx("button",{onClick:xt,className:"w-14 h-14 bg-[#558B2F] hover:bg-[#33691E] text-white border-4 border-[#2E5A1C] rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform","aria-label":"Pause Game",children:N.jsx(D1,{size:28,fill:"currentColor"})})}),x>0&&N.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 flex flex-col items-center pt-32 animate-pulse-danger",children:[N.jsx("div",{className:"w-full h-1 bg-red-600 shadow-[0_0_20px_rgba(255,0,0,0.8)]"}),N.jsx("div",{className:"mt-4 text-6xl font-black text-red-600 drop-shadow-lg",style:{WebkitTextStroke:"2px white"},children:(x/1e3).toFixed(1)}),N.jsx("div",{className:"text-red-500 font-bold uppercase tracking-widest text-2xl drop-shadow-md",children:"DANGER!"})]}),J&&N.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm animate-fade-in",children:N.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 shadow-[0_20px_60px_rgba(0,0,0,0.3)] rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col items-center max-h-[85vh] overflow-hidden",children:[N.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-6 tracking-wide drop-shadow-sm",children:"PAUSED"}),N.jsxs("div",{className:"w-full mb-6 bg-slate-50 border border-slate-200 rounded-2xl p-4 shadow-inner flex flex-col overflow-hidden max-h-40",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 uppercase tracking-widest text-xs font-bold mb-2",children:[N.jsx(Er,{size:14})," Leaderboard"]}),N.jsx("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:j.length===0?N.jsx("div",{className:"text-center text-slate-400 italic text-sm",children:"No high scores yet"}):j.map((C,G)=>N.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 border-b border-slate-100 last:border-0 py-1",children:[N.jsxs("div",{className:"flex gap-2 w-full",children:[N.jsxs("span",{className:"w-5 text-right text-slate-400",children:["#",G+1]}),N.jsx("span",{className:"truncate flex-1 text-left",children:C.name})]}),N.jsx("span",{className:"text-right",children:C.score.toLocaleString()})]},G))})]}),N.jsxs("div",{className:"w-full space-y-3 mb-6",children:[N.jsxs("button",{onClick:xt,className:"w-full bg-blue-500 hover:bg-blue-400 text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-3",children:[N.jsx(Ty,{size:24,fill:"currentColor"})," RESUME"]}),N.jsxs("button",{onClick:zt,className:"w-full bg-amber-500 hover:bg-amber-400 text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-3",children:[N.jsx(My,{size:24})," RESTART"]}),N.jsxs("button",{onClick:Pt,className:"w-full bg-red-500 hover:bg-red-400 text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-3",children:[N.jsx(_y,{size:24})," END GAME"]})]}),N.jsxs("div",{className:"flex gap-3 w-full justify-center border-t border-gray-200 pt-4",children:[N.jsx("button",{onClick:b,className:`flex-1 py-3 rounded-xl shadow-md transition-all active:scale-95 flex justify-center items-center ${X.musicEnabled?"bg-blue-500 text-white hover:bg-blue-400":"bg-gray-200 text-gray-400"}`,"aria-label":"Toggle Music",children:X.musicEnabled?N.jsx(Ay,{size:24}):N.jsx(Sy,{size:24})}),N.jsx("button",{onClick:T,className:`flex-1 py-3 rounded-xl shadow-md transition-all active:scale-95 flex justify-center items-center ${X.sfxEnabled?"bg-orange-500 text-white hover:bg-orange-400":"bg-gray-200 text-gray-400"}`,"aria-label":"Toggle SFX",children:X.sfxEnabled?N.jsx(wy,{size:24}):N.jsx(Ry,{size:24})}),N.jsx("button",{onClick:w,className:`flex-1 py-3 rounded-xl shadow-md transition-all active:scale-95 flex justify-center items-center ${X.hapticsEnabled?"bg-purple-500 text-white hover:bg-purple-400":"bg-gray-200 text-gray-400"}`,"aria-label":"Toggle Haptics",children:X.hapticsEnabled?N.jsx(Cy,{size:24}):N.jsx(Ey,{size:24})})]})]})}),N.jsx("canvas",{ref:o,className:"w-full h-full touch-none cursor-grab active:cursor-grabbing relative z-10"})]})},p2=()=>{const[r,e]=Nt.useState(mn.START),[s,a]=Nt.useState(Vc()),[u,o]=Nt.useState(0),[h,d]=Nt.useState(null),[m,y]=Nt.useState(!1);Nt.useEffect(()=>{a(Vc())},[]);const g=E=>{Ua({lastDifficulty:E}),a(z=>({...z,lastDifficulty:E})),o(0),e(mn.PLAYING)},x=E=>{const M=[...s.leaderboard||[]].sort((J,P)=>P.score-J.score),B=10;let U=!1;if(E.score>0)if(M.length<B)U=!0;else{const J=M[B-1].score;E.score>J&&(U=!0)}const Y=s.lastDifficulty,$=s.highScores[Y]||0;if(E.score>$){const J={...s.highScores,[Y]:E.score};Ua({highScores:J}),a(P=>({...P,highScores:J}))}y(U),d(E),e(mn.GAME_OVER)},A=E=>{if(!h)return;const z={name:E,score:h.score,timePlayed:h.timePlayed,maxTier:h.maxTier,date:new Date().toISOString()},B=[...s.leaderboard||[],z].sort((U,Y)=>Y.score-U.score).slice(0,10);Ua({leaderboard:B}),a(U=>({...U,leaderboard:B}))},v=E=>{Ua({settings:E}),a(z=>({...z,settings:E}))};return N.jsxs("div",{className:"relative w-full h-full bg-gray-900 flex items-center justify-center overflow-hidden font-sans select-none",children:[N.jsx("div",{className:"absolute inset-0 bg-yellow-100 opacity-5",children:N.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(#000 1px, transparent 1px)",backgroundSize:"20px 20px"}})}),N.jsxs("div",{className:"relative w-full max-w-[600px] h-full max-h-[95vh] aspect-[2/3] bg-white shadow-2xl rounded-xl overflow-hidden ring-8 ring-black/10 flex flex-col",children:[r===mn.START&&N.jsx(q1,{onStart:g,leaderboard:s.leaderboard||[],settings:s.settings,onUpdateSettings:v}),r===mn.PLAYING&&N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"absolute top-6 left-6 z-20 pointer-events-none flex flex-col items-start font-['Fredoka']",children:[N.jsx("div",{className:"text-sm text-gray-400 font-bold mb-1 tracking-widest drop-shadow-sm",style:{WebkitTextStroke:"0.5px white"},children:"SCORE"}),N.jsx("div",{className:"text-5xl font-black text-white drop-shadow-md tracking-wide",style:{WebkitTextStroke:"2px #4B5563",textShadow:"3px 3px 0px rgba(0,0,0,0.2)"},children:u.toLocaleString()})]}),N.jsx(g2,{difficulty:s.lastDifficulty,settings:s.settings,leaderboard:s.leaderboard||[],onGameOver:x,setScore:o})]}),r===mn.GAME_OVER&&h&&N.jsx(F1,{stats:h,isNewHigh:m,leaderboard:s.leaderboard||[],onRestart:()=>g(s.lastDifficulty),onMenu:()=>e(mn.START),onSaveScore:A})]})]})},Lg=document.getElementById("root");if(!Lg)throw new Error("Could not find root element to mount to");const x2=S1.createRoot(Lg);x2.render(N.jsx(m1.StrictMode,{children:N.jsx(p2,{})}));export{vg as $,bg as A,ze as B,Jt as C,gn as D,Gt as E,pi as F,Rr as G,jb as H,Om as I,zs as J,ov as K,xv as L,Ot as M,ae as N,pe as O,be as P,Sv as Q,Uc as R,qv as S,yr as T,Dc as U,Bm as V,hc as W,Um as X,Yb as Y,Ve as Z,Xy as _,qi as a,$t as a0,se as a1,Cv as a2,Qv as a3,f_ as a4,m_ as a5,b_ as a6,__ as a7,S_ as a8,Na as a9,Ga as aa,my as ab,wv as ac,Rv as ad,$c as ae,Cs as af,Rs as ag,Gg as ah,$m as ai,Qm as aj,ub as ak,mi as al,cb as am,kg as an,qa as b,Tr as c,Kc as d,xi as e,Zm as f,kv as g,gg as h,tg as i,bi as j,yg as k,h_ as l,d_ as m,vm as n,p_ as o,v_ as p,Mg as q,Ab as r,Ic as s,Yt as t,hg as u,ob as v,gi as w,T_ as x,Yi as y,Yy as z};
